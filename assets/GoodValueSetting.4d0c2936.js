import{r as D,R as a}from"./index.da6908f5.js";import{m as c,h as oe,d as z,o as j,B,u as K,f as re,c as ne,U as ue,P as de,r as x,a3 as Ce,a7 as ce,af as me,$ as fe,a0 as pe,a1 as ye,A as he,C as ge}from"./App.11263b70.js";import{C as Ne,e as Te}from"./CommonButton.0b792d77.js";const we=[{fieldName:"GoodType",dataType:c.exports.ValueType.TEXT},{fieldName:"GoodTypeNm",dataType:c.exports.ValueType.TEXT},{fieldName:"Class2",dataType:c.exports.ValueType.TEXT},{fieldName:"Class2Nm",dataType:c.exports.ValueType.TEXT},{fieldName:"Class3",dataType:c.exports.ValueType.TEXT},{fieldName:"Class3Nm",dataType:c.exports.ValueType.TEXT},{fieldName:"Class4",dataType:c.exports.ValueType.TEXT},{fieldName:"Class4Nm",dataType:c.exports.ValueType.TEXT}],Be=[{name:"GoodTypeNm",fieldName:"GoodTypeNm",type:"data",width:80,header:{text:"\uC81C\uD488\uBD84\uB958",showTooltip:!0},renderer:{type:"text",showTooltip:!0},styleName:"center-column"},{name:"Class2Nm",fieldName:"Class2Nm",type:"data",width:80,header:{text:"\uB300\uBD84\uB958",showTooltip:!0},renderer:{type:"text",showTooltip:!0},styleName:"center-column"},{name:"Class3Nm",fieldName:"Class3Nm",type:"data",width:120,header:{text:"\uC911\uBD84\uB958",showTooltip:!0},renderer:{type:"text",showTooltip:!0},styleName:"center-column"},{name:"Class4Nm",fieldName:"Class4Nm",type:"data",width:120,header:{text:"\uC18C\uBD84\uB958",showTooltip:!0},renderer:{type:"text",showTooltip:!0},styleName:"center-column"}],xe=[{fieldName:"SortingNo",dataType:c.exports.ValueType.NUMBER},{fieldName:"GoodType",dataType:c.exports.ValueType.TEXT},{fieldName:"GoodTypeNm",dataType:c.exports.ValueType.TEXT},{fieldName:"Class2",dataType:c.exports.ValueType.TEXT},{fieldName:"Class2Nm",dataType:c.exports.ValueType.TEXT},{fieldName:"Class3",dataType:c.exports.ValueType.TEXT},{fieldName:"Class3Nm",dataType:c.exports.ValueType.TEXT},{fieldName:"Class4",dataType:c.exports.ValueType.TEXT},{fieldName:"Class4Nm",dataType:c.exports.ValueType.TEXT},{fieldName:"FieldName",dataType:c.exports.ValueType.TEXT},{fieldName:"FieldEName",dataType:c.exports.ValueType.TEXT},{fieldName:"ValueType",dataType:c.exports.ValueType.TEXT},{fieldName:"RequiredYn",dataType:c.exports.ValueType.TEXT},{fieldName:"CodeHelper",dataType:c.exports.ValueType.TEXT}],De=[{name:"SortingNo",fieldName:"SortingNo",type:"data",width:45,header:{text:"\uC21C\uC11C",showTooltip:!0},renderer:{type:"text",showTooltip:!0},editable:!1,numberFormat:"#,##0",styleName:"center-column"},{name:"GoodTypeNm",fieldName:"GoodTypeNm",type:"data",width:95,button:"action",header:{text:"\uC790\uC0B0\uBD84\uB958",showTooltip:!0},renderer:{type:"text",showTooltip:!0},styleName:"center-column"},{name:"Class2Nm",fieldName:"Class2Nm",type:"data",width:95,button:"action",header:{text:"\uB300\uBD84\uB958",showTooltip:!0},renderer:{type:"text",showTooltip:!0},styleName:"center-column"},{name:"Class3Nm",fieldName:"Class3Nm",type:"data",width:135,button:"action",header:{text:"\uC911\uBD84\uB958",showTooltip:!0},renderer:{type:"text",showTooltip:!0},styleName:"center-column"},{name:"Class4Nm",fieldName:"Class4Nm",type:"data",width:135,button:"action",header:{text:"\uC18C\uBD84\uB958",showTooltip:!0},renderer:{type:"text",showTooltip:!0},styleName:"center-column"},{name:"FieldName",fieldName:"FieldName",type:"data",width:120,header:{text:"\uD654\uBA74\uD45C\uC2DC \uC774\uB984",showTooltip:!0},renderer:{type:"text",showTooltip:!0},styleName:"center-column"},{name:"FieldEName",fieldName:"FieldEName",type:"data",width:170,button:"action",header:{text:"\uB370\uC774\uD130\uC800\uC7A5 \uC774\uB984",showTooltip:!0},renderer:{type:"text",showTooltip:!0},styleName:"center-column"},{name:"ValueType",fieldName:"ValueType",type:"data",button:"popup",popupMenu:"ValueType",editable:!1,width:80,header:{text:"\uC885\uB958",showTooltip:!0},renderer:{type:"text",showTooltip:!0},styleName:"center-column"},{name:"RequiredYn",fieldName:"RequiredYn",type:"data",button:"popup",popupMenu:"RequiredYn",editable:!1,width:80,header:{text:"\uD544\uC218\uD56D\uBAA9",showTooltip:!0},renderer:{type:"text",showTooltip:!0},styleName:"center-column"},{name:"CodeHelper",fieldName:"CodeHelper",type:"data",width:80,header:{text:"Codehelper",showTooltip:!0},renderer:{type:"text",showTooltip:!0},button:"action",styleName:"center-column"}],Ee={DateTitleBox:{margin:"5px 10px 0px 15px",backgroundColor:"#e0ecff",padding:5,color:"#163971",height:25,fontSize:"12px",display:"flex",width:85,alignItems:"center",fontWeight:600},TitleBox4:{backgroundColor:"#fccf76",color:"#163971",padding:5,height:20,fontSize:"12px",display:"flex",alignItems:"center",width:"100%",fontWeight:600},TitleText3:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},InputBox3:{marginTop:5,width:120,height:25,"& input":{fontSize:"12px !important"}},Scroll:{"& .mainCon":{height:"700px",padding:"10px"}},SA1:{width:80,height:25,margin:"3px 3px",backgroundColor:"#e0ecff",color:"#163971",paddingTop:3,fontSize:"12px",alignItems:"center",fontWeight:600,display:"flex"},SA2:{marginTop:-2,marginLeft:5,alignItems:"center",textAlign:"center"},SA3:{width:"15px!important",height:"15px!important",border:"1px solid #3c96ff",marginTop:"1px","& .checkbox-checked":{border:0,background:"#3c96ff"}},SA4:{width:90,height:25,"& input":{fontSize:"12px !important"}},SA5:{marginLeft:5,width:140,height:25,"& input":{fontSize:"12px !important"}},SA6:{width:70,height:25,margin:"3px 3px",backgroundColor:"#fccf76",color:"#163971",padding:5,fontSize:"12px",alignItems:"center",fontWeight:600},SB1:{width:253,height:32,"& input":{fontSize:"16px !important",textAlign:"center",color:"#0070c0"}},SB2:{fontSize:12,paddingBottom:2,fontWeight:500},SC1:{width:90,height:25,margin:"3px 10px",backgroundColor:"#e0ecff",color:"#163971",padding:5,fontSize:"12px",alignItems:"center",fontWeight:600,display:"flex"},SC2:{width:80},SC3:{width:200,height:25,"& input":{fontSize:"12px !important"}},SC4:{width:200,height:25,"& input":{fontSize:"12px !important",textAlign:"right"}},SC5:{fontSize:12,paddingBottom:2,fontWeight:500,marginLeft:5},SC6:{width:150,height:25,"& input":{fontSize:"12px !important",textAlign:"center"}},SC7:{width:80,height:29,margin:"3px 1px",backgroundColor:"#e0ecff",color:"#163971",padding:5,fontSize:"12px",alignItems:"center",fontWeight:600,display:"flex"},SC8:{"& textarea":{fontSize:"12px !important"}}};function J(){const[e,l]=D.exports.useState({GoodType:"",GoodTypeNm:"",Class2:"",Class2Nm:"",Class3:"",Class3Nm:"",Class4:"",Class4Nm:""}),[y,u]=D.exports.useState({a:""}),[f,v]=D.exports.useState(""),[N,p]=D.exports.useState({visible:!1,desc:"",type:"N"}),[R,k]=D.exports.useState({visible:!1,desc:"",id:""}),[V,T]=D.exports.useState({visible:!1,description:"",value:"",datas:{},id:"",viewId:"",selectedData:{}});return String.prototype.DateValidation=function(A){return new Date(this)instanceof Date&&!isNaN(new Date(this))?oe(this).format(A):null},{recentVO:e,setRecentVO:l,valueVO:y,setValueVO:u,gridFocus:f,setGridFocus:v,alert:N,setAlert:p,confirm:R,setConfirm:k,codeClassInputs:V,setCodeClassInputs:T}}const Ge=async(e,l)=>{e({GoodType:"",GoodTypeNm:"",Class2:"",Class2Nm:"",Class3:"",Class3Nm:"",Class4:"",Class4Nm:""},50),l({a:""},50)},L=async(e,l)=>{const y={};y.UserPno=e.User.user.userid;try{const f=(await z.get("/@api/admin/goodValueSetting/selectByList",{params:y})).data;l.setRows(f)}catch(u){e.setAlert({visible:!0,desc:`\uBAA9\uB85D \uAC12 \uC870\uD68C \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4
${u}`,type:"E"})}},Se=async(e,l,y)=>{const u={};u.GoodType=l.GoodType,u.Class2=l.Class2,u.Class3=l.Class3,u.Class4=l.Class4;try{const v=(await z.get("/@api/admin/goodValueSetting/selectByDetailList",{params:u})).data;y.setRows(v)}catch(f){e.setAlert({visible:!0,desc:`\uC0C1\uC138 \uAC12 \uC870\uD68C \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4
${f}`,type:"E"})}},ve=async(e,l,y)=>{try{const f=(await z.post("/@api/admin/goodValueSetting/updateByRequiredValue",{data:e,item:l})).data;f.errmess!==""?y.setAlert({visible:!0,desc:`\uC800\uC7A5 \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4.
${f.errmess}`,type:"E"}):y.setAlert({visible:!0,desc:"\uC800\uC7A5\uC774 \uC644\uB8CC\uB418\uC5C8\uC2B5\uB2C8\uB2E4",type:"N"})}catch(u){y.setAlert({visible:!0,desc:`\uC0C1\uC138 \uAC12 \uC870\uD68C \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4
${u}`,type:"E"})}},Ae=async(e,l)=>{const y={};y.UserPno=l.User.user.userid;try{const f=(await z.post("/@api/admin/goodValueSetting/updateByNo",{data:y,item:e})).data;f.errmess!==""?l.setAlert({visible:!0,desc:`\uC21C\uC11C \uBCC0\uACBD \uC911 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4.
${f.errmess}`,type:"E"}):l.setAlert({visible:!0,desc:"\uC21C\uC11C \uBCC0\uACBD\uC774 \uC644\uB8CC\uB418\uC5C8\uC2B5\uB2C8\uB2E4",type:"N"})}catch(u){l.setAlert({visible:!0,desc:`\uC21C\uC11C \uBCC0\uACBD \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4
${u}`,type:"E"})}},be=j(e=>{const l=D.exports.useRef(null),y=async()=>{e.Util.Grid.fContainerInit(e.Util.Common.fMakeId(e.Id)),$=new c.exports.LocalDataProvider(!1),M=new c.exports.GridView(l.current),e.Util.Grid.fInitGridHeader(M,$,e.GridFields,e.GridColumns,30,u,f,v,e.GridTitle),M.displayOptions.rowHeight=30,e.DataProviderBind($),e.GridViewBind(M)},u=async(N,p,R)=>{R>=0&&e.RowChanged(N,R)},f=(N,p)=>{e.currentIndex.current===p.dataRow&&p.dataRows>=0&&e.RowChanged(N,p.dataRow)},v=async(N,p)=>{switch(p.key){case"Enter":break;case"Escape":break;case"Insert":break;case"ArrowDown":break;case"ArrowUp":break;case(p.ctrlKey&&" "):break}};return D.exports.useEffect(()=>{y()},[]),a.createElement(a.Fragment,null,a.createElement(B,{ref:l,key:e.Util.Common.fMakeId(e.Id),id:e.Util.Common.fMakeId(e.Id),style:{width:"100%",height:768}}))});let $,M;const Re=j(e=>{const l="GOODVALUESETTING",y=D.exports.useRef(null),u=["FieldName","FieldEName"],f=["GoodTypeNm","Class2Nm","Class3Nm","Class4Nm","FieldEName","CodeHelper"],{$CommonStore:v}=K(),{codeClassInputs:N,setCodeClassInputs:p}=J(),R=[{label:"Y",group:"RequiredYn"},{label:"N",group:"RequiredYn"}],k=[{label:"Number",group:"ValueType"},{label:"String",group:"ValueType"},{label:"Code",group:"ValueType"}],V=async()=>{h.commit(!0);const t=N.selectedData,s=v.Codeclass.selData;t.column==="FieldEName"?e.Util.Grid.fSetMultiDataProvider(g,t.dataRow,{FieldEName:s.name}):t.column==="GoodTypeNm"?e.Util.Grid.fSetMultiDataProvider(g,t.dataRow,{GoodTypeNm:s.minornm,GoodType:s.minorcd}):t.column==="Class2Nm"?e.Util.Grid.fSetMultiDataProvider(g,t.dataRow,{Class2Nm:s.minornm,Class2:s.minorcd}):t.column==="Class3Nm"?e.Util.Grid.fSetMultiDataProvider(g,t.dataRow,{Class3Nm:s.minornm,Class3:s.minorcd}):t.column==="Class4Nm"?e.Util.Grid.fSetMultiDataProvider(g,t.dataRow,{Class4Nm:s.minornm,Class4:s.minorcd}):t.column==="CodeHelper"&&e.Util.Grid.fSetMultiDataProvider(g,t.dataRow,{CodeHelper:s.majorcd.trim()}),p({visible:!1,desc:"",value:"",datas:{},selectedData:{},id:"",viewId:""}),h.commit(!0),h.setFocus(),h.validateCells()},T=t=>{const s=h.getCurrent().itemIndex;h.setCurrent({itemIndex:s,fieldName:h.getCurrent().fieldName}),h.setFocus(),h.validateCells(),p({visible:!1})},A=async()=>{e.Util.Grid.fContainerInit(e.Util.Common.fMakeId(e.Id)),g=new c.exports.LocalDataProvider(!1),h=new c.exports.GridView(y.current),e.Util.Grid.fInitGridDetail(h,g,e.GridFields,e.GridColumns,U,E,O),h.displayOptions.rowHeight=30,h.setRowIndicator({visible:!1}),h.addPopupMenu("ValueType",k),h.addPopupMenu("RequiredYn",R),h.onValidateColumn=(t,s,m,n)=>{const i={};return u.includes(s.fieldName)&&(!n||n===void 0)&&(i.level="warning",i.message="\uD544\uC218 \uC785\uB825 \uAC12\uC785\uB2C8\uB2E4."),i},h.onMenuItemClicked=(t,s,m)=>{g.setValue(m.itemIndex,s.group,s.label)},e.DataProviderBind(g),e.GridViewBind(h)},U=async(t,s)=>{t.commit(),e.setGridFocus("D");const m=t.getValue(t.getCurrent().itemIndex,s.fieldName);let n={};s.fieldName==="FieldEName"?(n=await e.Util.Grid.gridCodeClass(t.getCurrent(),e.Util.Common.fCreateHelper("A008001","001"),l,m,!0),p(n)):s.fieldName==="GoodTypeNm"?(n=await e.Util.Grid.gridCodeClass(t.getCurrent(),e.Util.Common.fCreateHelper("A001","055"),l,m,!0),p(n)):s.fieldName==="Class2Nm"?(n=await e.Util.Grid.gridCodeClass(t.getCurrent(),e.Util.Common.fCreateHelper("A001","060"),l,m,!0),p(n)):s.fieldName==="Class3Nm"?(n=await e.Util.Grid.gridCodeClass(t.getCurrent(),e.Util.Common.fCreateHelper("A001","061"),l,m,!0),p(n)):s.fieldName==="Class4Nm"?(n=await e.Util.Grid.gridCodeClass(t.getCurrent(),e.Util.Common.fCreateHelper("A001","062"),l,m,!0),p(n)):s.fieldName==="CodeHelper"&&(n=await e.Util.Grid.gridCodeClass(t.getCurrent(),e.Util.Common.fCreateHelper("A008002","001"),l,m,!0),p(n))},E=t=>{t.commit(),e.setGridFocus("R"),h.validateCells()},P=async(t,s,m)=>{if(f.includes(s)){t.setCurrent({itemIndex:m,fieldName:s});const n=t.getValue(m,s);let i={};(n!==""||u.includes(s))&&(s==="GoodTypeNm"?(i=await e.Util.Grid.gridCodeClass(t.getCurrent(),e.Util.Common.fCreateHelper("A001","055"),l,n,!1),i.visible||e.Util.Grid.fSetMultiDataProvider(g,m,{GoodTypeNm:i.res.minornm,GoodType:i.res.minorcd})):s==="Class2Nm"?(i=await e.Util.Grid.gridCodeClass(t.getCurrent(),e.Util.Common.fCreateHelper("A001","060"),l,n,!1),i.visible||e.Util.Grid.fSetMultiDataProvider(g,m,{Class2Nm:i.res.minornm,Class2:i.res.minorcd})):s==="Class3Nm"?(i=await e.Util.Grid.gridCodeClass(t.getCurrent(),e.Util.Common.fCreateHelper("A001","061"),l,n,!1),i.visible||e.Util.Grid.fSetMultiDataProvider(g,m,{Class3Nm:i.res.minornm,Class3:i.res.minorcd})):s==="Class4Nm"?(i=await e.Util.Grid.gridCodeClass(t.getCurrent(),e.Util.Common.fCreateHelper("A001","062"),l,n,!1),i.visible||e.Util.Grid.fSetMultiDataProvider(g,m,{Class4Nm:i.res.minornm,Class4:i.res.minorcd})):s==="FieldEName"?(i=await e.Util.Grid.gridCodeClass(t.getCurrent(),e.Util.Common.fCreateHelper("A008001","001"),l,n,!1),i.visible||e.Util.Grid.fSetMultiDataProvider(g,m,{FieldEName:i.res.name})):s==="CodeHelper"&&(i=await e.Util.Grid.gridCodeClass(t.getCurrent(),e.Util.Common.fCreateHelper("A008002","001"),l,n,!1),i.visible||e.Util.Grid.fSetMultiDataProvider(g,m,{CodeHelper:i.res.name})),p(i))}},O=async(t,s)=>{const m="CodeHelper",n=t.getDataSource().getRowCount(),{fieldName:i}=t.getCurrent(),{itemIndex:G}=t.getCurrent(),d=g.getJsonRow(0);switch(e.setGridFocus("R"),s.key){case"Enter":e.setAlert({visible:!1,desc:""}),t.commit(!0),i===m?(e.Util.Grid.fEnterLastField(t,G,n,F()===0),e.Util.Grid.fSetMultiDataProvider(t.getDataSource(),n,{SortingNo:n+1,GoodType:d.GoodType,GoodTypeNm:d.GoodTypeNm,Class2:d.Class2,Class2Nm:d.Class2Nm,Class3:d.Class3,Class3Nm:d.Class3Nm,Class4:d.Class4,Class4Nm:d.Class4Nm})):(t.getDataSource().getValue(G,i)||u.includes(i))&&P(t,i,G),t.setFocus();break;case"Escape":e.Util.Grid.fEscape(t,G,n,"SortingNo");break;case"Insert":e.Util.Grid.fKeyInsert(t,G,F()===0,"SortingNo"),e.Util.Grid.fSetMultiDataProvider(t.getDataSource(),G,{GoodType:d.GoodType,GoodTypeNm:d.GoodTypeNm,Class2:d.Class2,Class2Nm:d.Class2Nm,Class3:d.Class3,Class3Nm:d.Class3Nm,Class4:d.Class4,Class4Nm:d.Class4Nm});break;case"ArrowDown":e.Util.Grid.fArrowDown(t,G,n,F()===0,"SortingNo"),e.Util.Grid.fSetMultiDataProvider(t.getDataSource(),n,{SortingNo:n+1,GoodType:d.GoodType,GoodTypeNm:d.GoodTypeNm,Class2:d.Class2,Class2Nm:d.Class2Nm,Class3:d.Class3,Class3Nm:d.Class3Nm,Class4:d.Class4,Class4Nm:d.Class4Nm});break;case"ArrowUp":e.Util.Grid.fArrowUp(t,G,n,F(G)>0);break;case(s.ctrlKey&&" "):P(t,i,G);break}},F=t=>{const s=g.getAllStateRows().created;if(s.length>0){let m=0;return s.map(n=>{if(t===void 0||n>=t){const i=h.getValues(n);(!i.FieldName||i.FieldName===void 0||!i.FieldEName||i.FieldEName===void 0||!i.ValueType||i.ValueType===void 0||!i.RequiredYn||i.RequiredYn===void 0)&&(m+=1)}}),m}return 0};return D.exports.useEffect(()=>{A()},[]),a.createElement(a.Fragment,null,a.createElement(re,{visible:N.visible,description:N.desc,value:N.value,datas:N.datas,id:N.id,viewId:N.viewId,selectedData:N.selectedData,onConfirm:V,onCancel:()=>T({target:N.id})}),a.createElement(B,{ref:y,key:e.Util.Common.fMakeId(e.Id),id:e.Util.Common.fMakeId(e.Id),style:{width:"100%",height:690}}))});let g,h;const ke=j(()=>{const e="GOODVALUESETTING",{$CommonStore:l,$UserStore:y}=K(),u=Ve(),{recentVO:f,setRecentVO:v,valueVO:N,setValueVO:p,gridFocus:R,setGridFocus:k,alert:V,setAlert:T,confirm:A,setConfirm:U}=J(),E=new ue(e,T,!0,!0,!0,!0,!0);D.exports.useRef(0);const P=D.exports.useRef({}),O={FieldName:"\uD654\uBA74\uD45C\uC2DC \uC774\uB984",FieldEName:"\uB370\uC774\uD130\uC800\uC7A5 \uC774\uB984",ValueType:"\uC885\uB958",RequiredYn:"\uD544\uC218\uD56D\uBAA9"},F=async()=>{l.fSetBinding(!0),await Ge(v,p),l.fSetBinding(!1),E.Common.fSetTabIndex(),setTimeout(()=>{W()},500)},[t]=D.exports.useState({Util:E,User:y,fInit:F,setAlert:T,setValueVO:p}),s=o=>{b=o},m=o=>{w=o},n=o=>{H=o},i=o=>{I=o},G=(o,r)=>{l.fSetBinding(!0);const C=b.getJsonRow(r),S={...C};setTimeout(async()=>{await Se(t,S,w)},0),E.Common.fMultiFieldChange(v,{GoodType:C.GoodType,GoodTypeNm:C.GoodTypeNm,Class2:C.Class2,Class2Nm:C.Class2Nm,Class3:C.Class3,Class3Nm:C.Class3Nm,Class4:C.Class4,Class4Nm:C.Class4Nm}),P.current={...C,before:!0},l.fSetBinding(!1)},d=async o=>{const r=I.getCurrent();if(r.column!==null){if(o==="U"){if(r.dataRow===0){T({visible:!0,desc:"\uCCAB\uBC88\uC9F8 \uC21C\uC11C\uC785\uB2C8\uB2E4.",type:"W"});return}w.moveRow(r.dataRow,r.dataRow-1),I.setCurrent({dataRow:r.dataRow-1,column:0})}else if(o==="D"){if(r.dataRow===w.getJsonRows().length-1){T({visible:!0,desc:"\uB9C8\uC9C0\uB9C9 \uC21C\uC11C\uC785\uB2C8\uB2E4.",type:"W"});return}w.moveRow(r.dataRow,r.dataRow+1),I.setCurrent({dataRow:r.dataRow+1,column:0})}}},Q=async()=>{U({visible:!1,desc:"",id:""}),A.id==="SAVE"?te():A.id==="DELETE"?ae():A.id==="NO"&&ie()},Z=()=>{U({visible:!1,desc:"",id:""})},_=o=>{if(w.getRowCount()>0){const C=I.getValues(o-1);return!C.FieldName||C.FieldName===void 0||!C.FieldEName||C.FieldEName===void 0||!C.ValueType||C.ValueType===void 0||!C.RequiredYn||C.RequiredYn===void 0}},W=async()=>{await L(t,b)},X=async()=>{P.current={},E.Grid.fNewRow(w,{SortingNo:1})},ee=async()=>{l.fSetBinding(!0);const o=w.getRowCount(),r=w.getJsonRow(o-1);if(_(o)){T({visible:!0,desc:"\uBD84\uB958\uB97C \uC120\uD0DD\uD574\uC8FC\uC138\uC694.",type:"W"});return}else w.addRow([]),E.Grid.fSetMultiDataProvider(w,o,{SortingNo:o+1,GoodType:r.GoodType,GoodTypeNm:r.GoodTypeNm,Class2:r.Class2,Class2Nm:r.Class2Nm,Class3:r.Class3,Class3Nm:r.Class3Nm,Class4:r.Class4,Class4Nm:r.Class4Nm});l.fSetBinding(!1)},q=async()=>{U({visible:!0,desc:"\uC800\uC7A5\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?",id:"SAVE"})},te=async()=>{let o=[];const r={};if(r.UserPno=y.user.userid,E.Grid.fCheckGridData(w,o,O,"\uC0C1\uC138 \uC815\uBCF4")===void 0){if(o.forEach(S=>{if(S.ValueType==="Code"&&(S.CodeHelper===void 0||S.CodeHelper==="")){T({visible:!0,desc:"Code \uD56D\uBAA9\uC740 CodeHelper \uB4F1\uB85D\uC744 \uD574\uC57C\uD569\uB2C8\uB2E4.",type:"E"});return}}),o[0]===void 0){T({visible:!0,desc:"\uC218\uC815\uB41C \uD56D\uBAA9\uC774 \uC5C6\uC2B5\uB2C8\uB2E4.",type:"E"});return}else{let S=w.getStateRows("created"),le=w.getRowCount();S.length===le?r.SubTag="N":r.SubTag=""}await ve(r,o,t),await L(t,b),setTimeout(async()=>{const S=b.searchDataRow({fields:["GoodType","Class2","Class3","Class4"],values:[o[0].GoodType,o[0].Class2,o[0].Class3,o[0].Class4],partialMatch:!0});S!=null&&H.setCurrent({dataRow:S,column:0})},700)}},Y=async()=>{U({visible:!0,desc:"\uC120\uD0DD\uD55C \uD56D\uBAA9\uC744 \uC0AD\uC81C\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?",id:"DELETE"})},ae=async()=>{const o=I.getCheckedItems(!0),r=w.getStateRows("created");if(o.length===0)T({visible:!0,desc:"\uC0AD\uC81C \uD560 \uC815\uBCF4\uB97C \uC120\uD0DD\uD574\uC8FC\uC138\uC694!",type:"E"});else if(o.length===r.length&&o.every((C,S)=>C===r[S])){T({visible:!0,desc:"\uC800\uC7A5\uB418\uC9C0 \uC54A\uC740 \uC815\uBCF4\uB294 \uC0AD\uC81C\uD558\uC2E4 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.",type:"E"});return}else o.filter(C=>r.includes(C)).length!==0&&T({visible:!0,desc:"\uC800\uC7A5\uB418\uC9C0 \uC54A\uC740 \uC815\uBCF4\uAC00 \uD3EC\uD568\uB418\uC5B4 \uC788\uC2B5\uB2C8\uB2E4.",type:"E"});await E.Command.fDeleteCheckItem(I,w,"/@api/admin/goodValueSetting/deleteByItem",f,"\uC0C1\uC138 \uB0B4\uC5ED"),await L(t,b),setTimeout(async()=>{const C=b.searchDataRow({fields:["GoodType","Class2","Class3","Class4"],values:[f.GoodType,f.Class2,f.Class3,f.Class4],partialMatch:!0});C!=null&&H.setCurrent({dataRow:C,column:0})},700)},se=async()=>{U({visible:!0,desc:"\uC21C\uC11C\uB97C \uBC14\uAFB8\uC2DC\uACA0\uC2B5\uB2C8\uAE4C??",id:"NO"})},ie=async()=>{const o=w.getJsonRows();for(let r=0;r<o.length;r++)o[r].NewNo=r+1;await Ae(o,t),await L(t,b),setTimeout(async()=>{const r=b.searchDataRow({fields:["GoodType","Class2","Class3","Class4"],values:[o[0].GoodType,o[0].Class2,o[0].Class3,o[0].Class4],partialMatch:!0});r!=null&&H.setCurrent({dataRow:r,column:0})},700)};return D.exports.useEffect(()=>{E.Common.fHotKey(l,l.isPopup,X,W,q,Y)},[l.HotKey]),D.exports.useEffect(()=>{F()},[]),a.createElement(a.Fragment,null,a.createElement(Ne,{pgmid:e,visible:"000000",onNew:X,onSearch:W,onSave:q,onDelete:Y}),a.createElement(de,{className:"mainCon"},a.createElement(x.exports.Layout,{style:{width:"100%",height:775}},a.createElement(x.exports.LayoutPanel,{region:"west",split:!0,style:{minWidth:"35%",maxWidth:"35%",height:"100%"}},a.createElement(x.exports.Layout,{style:{width:"100%",height:770}},a.createElement(x.exports.LayoutPanel,{region:"center",split:!0,style:{minWidth:"100%",maxWidth:"100%",height:"100%"}},a.createElement(be,{Util:E,Id:"Grid1",GridTitle:"\uBD84\uB958",GridFields:we,GridColumns:Be,setGridFocus:k,setAlert:T,RowChanged:G,DataProviderBind:s,GridViewBind:n})))),a.createElement(x.exports.LayoutPanel,{region:"center",split:!0,style:{minWidth:"100%",maxWidth:"100%",height:"100%"}},a.createElement(x.exports.Layout,{style:{width:"100%",height:770}},a.createElement(x.exports.LayoutPanel,{region:"north",split:!0,style:{minWidth:"100%",maxWidth:"100%",height:"8%"}},a.createElement(B,{style:{height:"100%",display:"flex",alignItems:"center"}},a.createElement(x.exports.LinkButton,{style:{width:84,margin:"4px 0px 4px 10px",color:"#333",borderRadius:3,marginRight:15},disabled:null,onClick:X},a.createElement(B,{style:{width:70,display:"flex",alignItems:"center",justifyContent:"center"}},a.createElement(Te,{size:15,style:{marginRight:5}}),a.createElement(B,{className:u.SB2},"\uC2E0\uADDC"))),a.createElement(x.exports.LinkButton,{style:{width:84,margin:"4px 0px 4px 10px",background:"#c3ebff",color:"#333",borderRadius:3,marginRight:15},disabled:null,onClick:ee},a.createElement(B,{style:{width:70,display:"flex",alignItems:"center",justifyContent:"center"}},a.createElement(Ce,{size:15,style:{marginRight:5}}),a.createElement(B,{className:u.SB2},"\uCD94\uAC00"))),a.createElement(x.exports.LinkButton,{style:{width:84,margin:"4px 0px 4px 10px",background:"#b8eecf",color:"#333",borderRadius:3,marginRight:15},disabled:null,onClick:q},a.createElement(B,{style:{width:70,display:"flex",alignItems:"center",justifyContent:"center"}},a.createElement(ce,{size:15,style:{marginRight:5}}),a.createElement(B,{className:u.SB2},"\uC800\uC7A5"))),a.createElement(x.exports.LinkButton,{style:{width:84,margin:"4px 0px 4px 10px",background:"#ffd5d5",color:"#333",borderRadius:3,marginRight:15},disabled:null,onClick:Y},a.createElement(B,{style:{width:70,display:"flex",alignItems:"center",justifyContent:"center"}},a.createElement(me,{size:15,style:{marginRight:5}}),a.createElement(B,{className:u.SB2},"\uC0AD\uC81C"))),a.createElement(B,{style:{height:"100%",marginLeft:425,display:"flex",alignItems:"center"}},a.createElement(x.exports.LinkButton,{style:{height:30,width:42,margin:"4px 0px 4px 10px",color:"#424242",borderRadius:3,marginLeft:15},onClick:()=>d("U")},a.createElement(B,{style:{height:30,width:42,display:"flex",alignItems:"center",justifyContent:"center"}},a.createElement(fe,{size:15}))),a.createElement(x.exports.LinkButton,{style:{width:84,margin:"4px 0px 4px 10px",color:"#424242",borderRadius:3},onClick:()=>se()},a.createElement(B,{style:{width:70,display:"flex",alignItems:"center",justifyContent:"center"}},a.createElement(pe,{size:15,style:{marginRight:5}}),a.createElement(B,{className:u.SB2},"\uC21C\uC11C \uBCC0\uACBD"))),a.createElement(x.exports.LinkButton,{style:{height:30,width:42,margin:"4px 0px 4px 10px",color:"#424242",borderRadius:3,marginRight:15},onClick:()=>d("D")},a.createElement(B,{style:{height:30,width:42,display:"flex",alignItems:"center",justifyContent:"center"}},a.createElement(ye,{size:15})))))),a.createElement(x.exports.LayoutPanel,{region:"center",split:!0,style:{minWidth:"100%",maxWidth:"100%",height:"100%"}},a.createElement(B,{style:{width:"100%"}},a.createElement(Re,{Util:E,Id:"Grid2",GridTitle:"\uC0C1\uC138",GridFields:xe,GridColumns:De,setGridFocus:k,setAlert:T,DataProviderBind:m,GridViewBind:i}))))))),a.createElement(he,{visible:V.visible,description:V.desc,type:V.type,onConfirm:()=>T({visible:!1})}),a.createElement(ge,{visible:A.visible,description:A.desc,onCancel:Z,onConfirm:Q}))});let b,w,H,I;const Ve=ne(Ee);export{ke as default};
