import{r as D,R as a}from"./index.da6908f5.js";import{h as W,d as z,m as y,o as ae,u as re,B as h,f as ce,A as ne,c as de,U as me,P as te,r as F,F as pe,q as fe,C as he}from"./App.11263b70.js";import{C as q}from"./CommonDatePicker.d7bc57f8.js";import{C as ye}from"./CommonButton.0b792d77.js";import{C as K}from"./CodeHelperPopup.3932fdb9.js";import{H as Be}from"./HeaderList.b90f1652.js";import"./index.6f186c21.js";const De={DateTitleBox:{margin:"5px 10px 0px 10px",backgroundColor:"#e0ecff",padding:5,color:"#163971",height:25,fontSize:"12px",display:"flex",width:100,alignItems:"center",fontWeight:600},DateTitleBox2:{margin:"2px 10px 0px 10px",backgroundColor:"#e0ecff",padding:5,color:"#163971",height:25,fontSize:"12px",display:"flex",width:100,alignItems:"center",fontWeight:600},InputBox3:{marginTop:5,width:120,height:25,"& input":{fontSize:"12px !important"}},InputBox6:{width:105,height:25,"& input":{fontSize:"12px !important"}},InputBox7:{marginLeft:5,width:125,height:25,"& input":{fontSize:"12px !important"}},Scroll:{"& .mainCon":{height:"700px",padding:"10px"}}},ge=async(e,t,r)=>{e({SchFrDate:W().clone().startOf("month").toDate(),SchToDate:new Date,SchType:"0",SchText:"",SchCust:"",SchCustNm:""},50),t({BalNo:"",BalDate:new Date,CustCd:"00223",CustNm:"(\uC8FC)\uC815\uC6D0\uD14D",DeptCd:"AC0100",DeptNm:"\uC0DD\uC0B0\uAD00\uB9AC\uD300",Pno:r.userid?r.userid.trim():"",PnoNm:r.username?r.username.trim():"",FactoryNm:"",WarehousingState:""},50)},xe=async(e,t)=>{e({BalNo:"",BalDate:new Date,CustCd:"00223",CustNm:"(\uC8FC)\uC815\uC6D0\uD14D",DeptCd:"AC0100",DeptNm:"\uC0DD\uC0B0\uAD00\uB9AC\uD300",Pno:t.userid?t.userid.trim():"",PnoNm:t.username?t.username.trim():"",FactoryNm:"",WarehousingState:""},50)},Q=async(e,t,r,n)=>{const i={...t};i.Accunit=e.User.user.accunit,i.Factory=e.User.user.factory,i.SchFrDate=W(t.SchFrDate).format("YYYYMMDD"),i.SchToDate=W(t.SchToDate).format("YYYYMMDD"),await e.Util.Command.fSearch(r,"/@api/purchase/markingOrder/selectByList",i,n)},se=async(e,t,r,n)=>{const i={};i.Accunit=e.User.user.accunit,i.Factory=e.User.user.factory,i.BalNo=n;try{const C=await e.Util.Command.fSearchByReturnTrim("/@api/purchase/markingOrder/selectByDetailList",i);C!==void 0&&C.length>=1?(t.setRows(C),r.setCurrent(0)):t.clearRows()}catch{e.setAlert({visible:!0,desc:"\uB9C8\uD0B9\uBC1C\uC8FC\uBA85\uC138 \uC870\uD68C \uC2DC \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4.",type:"E"})}},Te=async(e,t,r,n,i,C,d)=>{d.commit(!0);const c={...r};c.BalDate=W(r.BalDate).format("YYYYMMDD"),c.Accunit=e.User.user.accunit,c.Factory=e.User.user.factory,c.iUserPno=e.User.user.userid;let x=[];if(e.Util.Grid.fCheckGridData(i,x,{ItemCd:"\uD488\uBAA9\uBA85",ContentCd:"\uB0B4\uC6A9",HCN:"HCN",Qty:"\uC218\uB7C9"},"\uB9C8\uD0B9\uBC1C\uC8FC\uD488\uBAA9")===void 0)try{const A=(await z.post("/@api/purchase/markingOrder/updateByList",{header:c,detail:x})).data;if(A.errmess!==""){e.setAlert({visible:!0,desc:A.errmess,type:"E"});return}const N=A.ReturnNo;return setTimeout(()=>{e.Util.Common.fFieldChange(e.setInputVO,"BalNo",N),setTimeout(async()=>{await Q(e,t,n,"\uB9C8\uD0B9\uBC1C\uC8FC");const k=n.searchData({fields:["BalNo"],value:N,partialMatch:!0});k!=null&&C.setCurrent({dataRow:k.dataRow,column:0})},500)},700),N}catch(E){e.setAlert({visible:!0,desc:`\uC800\uC7A5 \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4.${E}`})}},Ne=async(e,t,r,n,i,C,d)=>{const c={...r};c.Accunit=e.User.user.accunit,c.Factory=e.User.user.factory;try{const m=(await z.post("/@api/purchase/markingOrder/deleteByList",{data:c})).data;return m.errmess!==""?(e.setAlert({visible:!0,desc:m.errmess,type:"E"}),m):(C({BalNo:"",BalDate:null,CustCd:"",CustNm:"",DeptCd:"",DeptNm:"",Pno:"",PnoNm:"",FactoryNm:"",WarehousingState:""},50),d.clearRows(),setTimeout(async()=>{await Q(e,t,n,"\uB9C8\uD0B9\uBC1C\uC8FC"),i.setCurrent({dataRow:0,column:0})},700),m)}catch(x){e.setAlert({visible:!0,desc:`\uC0AD\uC81C \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4.${x}`})}},Ee=async(e,t,r,n,i)=>{const C={...t};C.BalNo=i,C.Accunit=e.User.user.accunit,C.Factory=e.User.user.factory;let d=[];n.getCheckedItems(!0).forEach(x=>{const m=r.getJsonRow(x);d.push(m)});try{const m=(await z.post("/@api/purchase/markingOrder/deleteByItem",{header:C,detail:d})).data;if(m.errmess!==""){e.setAlert({visible:!0,desc:m.errmess,type:"E"});return}e.setAlert({visible:!0,desc:"\uB9C8\uD0B9\uBC1C\uC8FC \uBA85\uC138\uAC00 \uC0AD\uC81C\uB418\uC5C8\uC2B5\uB2C8\uB2E4."}),setTimeout(async()=>{await se(e,r,n,i)},100)}catch{e.setAlert({visible:!0,desc:"\uB9C8\uD0B9\uBC1C\uC8FC \uBA85\uC138 \uC0AD\uC81C \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4."})}},Ae=async(e,t,r)=>{const n={};n.Accunit=e.User.user.accunit,n.Factory=e.User.user.factory,n.BalNo=r.BALNO,n.BalSeq=r.BALSEQ;try{const i=await e.Util.Command.fSearchByReturnTrim("/@api/purchase/markingOrder/selectByReOrderList",n);i!==void 0&&i.length>=1?i.forEach(C=>{t.addRow(C)}):t.clearRows()}catch{e.setAlert({visible:!0,desc:"\uC7AC\uBC1C\uC8FC \uC815\uBCF4 \uC870\uD68C \uC2DC \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4.",type:"E"})}},we=async(e,t)=>{const r={};r.Accunit=e.User.user.accunit,r.Factory=e.User.user.factory,r.BalNo=t.BALNO,console.log(r);try{const n=await e.Util.Command.fSearchByReturnTrim("/@api/purchase/markingOrder/selectByPrintList",r);return n!==void 0&&n.length>=1?n:null}catch{e.setAlert({visible:!0,desc:"\uCD9C\uB825\uC815\uBCF4 \uC870\uD68C \uC2DC \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4.",type:"E"})}},Ie=[{fieldName:"BalNo",dataType:y.exports.ValueType.TEXT},{fieldName:"BalDate",dataType:y.exports.ValueType.DATE,datetimeFormat:"yyyyMMdd"},{fieldName:"CustCd",dataType:y.exports.ValueType.TEXT},{fieldName:"CustNm",dataType:y.exports.ValueType.TEXT},{fieldName:"DeptCd",dataType:y.exports.ValueType.TEXT},{fieldName:"DeptNm",dataType:y.exports.ValueType.TEXT},{fieldName:"Pno",dataType:y.exports.ValueType.TEXT},{fieldName:"PnoNm",dataType:y.exports.ValueType.TEXT},{fieldName:"FactoryNm",dataType:y.exports.ValueType.TEXT},{fieldName:"WarehousingState",dataType:y.exports.ValueType.TEXT}],Se=[{name:"BalDate",fieldName:"BalDate",type:"data",width:90,styleName:"center-column",header:{text:"\uBC1C\uC8FC\uC77C",showTooltip:!0},renderer:{type:"text",showTooltip:!0},datetimeFormat:"yyyy-MM-dd"},{name:"BalNo",fieldName:"BalNo",type:"data",width:110,styleName:"center-column",editable:!1,header:{text:"\uBC1C\uC8FC\uBC88\uD638",showTooltip:!0},renderer:{type:"text",showTooltip:!0}},{name:"CustNm",fieldName:"CustNm",type:"data",width:150,styleName:"left-column",editable:!1,header:{text:"\uAC70\uB798\uCC98\uBA85",showTooltip:!0},renderer:{type:"text",showTooltip:!0}},{name:"WarehousingState",fieldName:"WarehousingState",type:"data",width:70,styleName:"center-column",editable:!1,header:{text:"\uC785\uACE0\uC0C1\uD0DC",showTooltip:!0},renderer:{type:"text",showTooltip:!0}}],ke=[{fieldName:"BalNo",dataType:y.exports.ValueType.TEXT},{fieldName:"BalSeq",dataType:y.exports.ValueType.TEXT},{fieldName:"ItemCd",dataType:y.exports.ValueType.TEXT},{fieldName:"ItemCdNm",dataType:y.exports.ValueType.TEXT},{fieldName:"ContentCd",dataType:y.exports.ValueType.TEXT},{fieldName:"ContentCdNm",dataType:y.exports.ValueType.TEXT},{fieldName:"AddContent",dataType:y.exports.ValueType.TEXT},{fieldName:"HCN",dataType:y.exports.ValueType.TEXT},{fieldName:"Qty",dataType:y.exports.ValueType.NUMBER},{fieldName:"Remark",dataType:y.exports.ValueType.TEXT},{fieldName:"WarehousingChk",dataType:y.exports.ValueType.TEXT}],Re=[{name:"ItemCdNm",fieldName:"ItemCdNm",type:"data",width:235,styleName:"left-column",header:{text:"\uD488\uBAA9\uBA85",showTooltip:!0,template:"${\uD488\uBAA9\uBA85} <span style='color:red'>*</span>"},editor:{type:"line",textCase:"upper"},renderer:{type:"text",showTooltip:!0},button:"action",styleCallback:function(e,t){let r={};return e.getValue(t.index.itemIndex,"WarehousingChk")==="1"&&(r.styleName="left-column orange-color"),r}},{name:"ContentCdNm",fieldName:"ContentCdNm",type:"data",width:160,styleName:"left-column",header:{text:"\uB0B4\uC6A9",showTooltip:!0,template:"${\uB0B4\uC6A9} <span style='color:red'>*</span>"},editor:{type:"line",textCase:"upper"},renderer:{type:"text",showTooltip:!0},button:"action",styleCallback:function(e,t){let r={};return e.getValue(t.index.itemIndex,"WarehousingChk")==="1"&&(r.styleName="left-column orange-color"),r}},{name:"AddContent",fieldName:"AddContent",type:"data",width:180,styleName:"left-column",header:{text:"\uCD94\uAC00 \uB0B4\uC6A9",showTooltip:!0},renderer:{type:"text",showTooltip:!0},styleCallback:function(e,t){let r={};return e.getValue(t.index.itemIndex,"WarehousingChk")==="1"&&(r.styleName="left-column orange-color"),r}},{name:"HCN",fieldName:"HCN",type:"data",width:110,styleName:"left-column",header:{text:"HCN",showTooltip:!0,template:"${HCN} <span style='color:red'>*</span>"},editor:{type:"line",textCase:"upper",inputCharacters:"A-Za-z0-9"},renderer:{type:"text",showTooltip:!0},styleCallback:function(e,t){let r={};return e.getValue(t.index.itemIndex,"WarehousingChk")==="1"&&(r.styleName="left-column orange-color"),r}},{name:"Qty",fieldName:"Qty",type:"data",width:80,styleName:"right-column",editable:!0,header:{text:"\uC218\uB7C9",showTooltip:!0,template:"${\uC218\uB7C9} <span style='color:red'>*</span>"},numberFormat:"#,##0",footer:{numberFormat:"#,##0",expression:"sum"},editor:{type:"number",editFormat:"#,##0"},styleCallback:function(e,t){let r={};return e.getValue(t.index.itemIndex,"WarehousingChk")==="1"&&(r.styleName="right-column orange-color"),r}},{name:"Remark",fieldName:"Remark",type:"data",width:322,styleName:"left-column",header:{text:"\uBE44\uACE0",showTooltip:!0},renderer:{type:"text",showTooltip:!0},styleCallback:function(e,t){let r={};return e.getValue(t.index.itemIndex,"WarehousingChk")==="1"&&(r.styleName="left-column orange-color"),r}}];function ue(){const[e,t]=D.exports.useState({SchFrDate:W().clone().startOf("month").toDate(),SchToDate:new Date,SchType:"0",SchText:"",SchCust:"",SchCustNm:""}),[r,n]=D.exports.useState({BalNo:"",BalDate:new Date,CustCd:"",CustNm:"",DeptCd:"",DeptNm:"",Pno:"",PnoNm:"",FactoryNm:"",WarehousingState:""}),[i,C]=D.exports.useState(""),[d,c]=D.exports.useState(!1),[x,m]=D.exports.useState({visible:!1,desc:"",type:"N"}),[E,A]=D.exports.useState({visible:!1,desc:"",id:""}),[N]=D.exports.useState([{value:"0",text:"\uBC1C\uC8FC\uBC88\uD638"},{value:"1",text:"\uBC1C\uC8FC\uC77C"}]),[k]=D.exports.useState({BalDate:"required",CustNm:"required",DeptNm:"required",PnoNm:"required"}),G=["ItemCd","ItemCdNm","ContentCd","ContentCdNm"],w=["ItemCd","ItemCdNm","ContentCd","ContentCdNm","AddContent","HCN","Remark"],[R,P]=D.exports.useState({visible:!1,description:"",value:"",datas:{},id:"",viewId:"",selectedData:{}});return{searchVO:e,setSearchVO:t,InputVO:r,setInputVO:n,cboSchType:N,gridFocus:i,setGridFocus:C,codeClassInputs:R,setCodeClassInputs:P,printView:d,setPrintView:c,alert:x,setAlert:m,confirm:E,setConfirm:A,ValidationRules:k,keyField:G,CopyFields:w}}const Ve=ae(e=>{const t="MARKINGORDER",{$CommonStore:r}=re(),n=D.exports.useRef(null),i=D.exports.useRef(null),C=D.exports.useRef([]);C.current.ItemCdNm=D.exports.useRef(e.Util.Common.fCreateHelper("A001","900")),C.current.ContentCdNm=D.exports.useRef(e.Util.Common.fCreateHelper("A00044","901"));const d=["ItemCd","ContentCd","HCN","Qty"],{alert:c,setAlert:x,codeClassInputs:m,setCodeClassInputs:E,keyField:A,CopyFields:N}=ue(),k=async()=>{e.Util.Grid.fContainerInit(e.Util.Common.fMakeId("Grid2")),v=new y.exports.LocalDataProvider(!1),g=new y.exports.GridView(n.current),e.Util.Grid.fInitGridDetail(g,v,ke,Re,G,M,I,"\uB9C8\uD0B9\uBC1C\uC8FC\uBA85\uC138",!1,!0,N),g.displayOptions.rowHeight=25,g.onItemChecked=()=>{e.setGridFocus("R")},g.onCellClicked=()=>{e.setGridFocus("R")},g.onValidateColumn=(s,o,p,f)=>{const B={};return d[0].includes(o.fieldName)&&(!f||f===void 0)&&(B.level="warning",B.message="\uD544\uC218 \uC785\uB825 \uAC12\uC785\uB2C8\uB2E4."),B},e.DataProviderBind(v),e.GridViewBind(g)},G=async(s,o)=>{s.commit(),e.setGridFocus("R"),w(s,o.fieldName,s.getCurrent().itemIndex,!0)},w=async(s,o,p,f)=>{s.setCurrent({itemIndex:p,fieldName:o});const B=s.getValue(p,o);let T=await R(o,B,f);T.visible||P(p,o,T.res),i.current=document.activeElement,E(T)},R=async(s,o,p)=>{let f={};if(s==="ItemCdNm")f=await e.Util.Grid.gridCodeClass(g.getCurrent(),C.current[s].current,t,o,p);else if(s==="ContentCdNm"){const B=g.getDataSource().getJsonRow(g.getCurrent().itemIndex);if(e.Util.Common.fValidate(!B.ItemCd,"\uD488\uBAA9\uBA85\uC744 \uBA3C\uC800 \uC120\uD0DD\uD558\uC5EC \uC8FC\uC138\uC694."))return;C.current[s].current.iInCode2=B.ItemCd,f=await e.Util.Grid.gridCodeClass(g.getCurrent(),C.current[s].current,t,o,p)}return f},P=async(s,o,p)=>{if(A.includes(o)){const f=o.substr(0,o.length-2);p?f==="ItemCd"?e.Util.Grid.fSetMultiDataProvider(v,s,{[f]:p.minorcd,[o]:p.minornm,ContentCd:"",ContentCdNm:""}):e.Util.Grid.fSetMultiDataProvider(v,s,{[f]:p.minorcd,[o]:p.minornm}):e.Util.Grid.fSetMultiDataProvider(v,s,{[f]:"",[o]:""})}},u=async()=>{g.commit(!0);const s=m.selectedData,o=r.Codeclass.selData;P(s.dataRow,s.column,o),E({visible:!1,desc:"",value:"",datas:{},selectedData:{},id:"",viewId:""}),i.current.focus(),g.commit(!0),g.validateCells()},H=s=>{const o=g.getCurrent().itemIndex;P(o,s.target,void 0),i.current.focus(),g.setCurrent({itemIndex:o,fieldName:g.getCurrent().fieldName}),g.validateCells(),E({visible:!1})},I=async(s,o)=>{const p="Remark",f=s.getDataSource().getRowCount(),{fieldName:B,itemIndex:T}=s.getCurrent(),X=["AddContent","HCN","Qty","Remark"];switch(o.key){case"Enter":if(!B||X.includes(B))break;e.setAlert({visible:!1,desc:""}),s.commit(!0),B===p?e.Util.Grid.fEnterLastField(s,T,f,L()===0):s.getDataSource().getValue(T,B)&&w(s,B,T,!1),s.setFocus();break;case"Escape":e.Util.Grid.fEscape(s,T,f);break;case"Insert":e.Util.Grid.fKeyInsert(s,T,L()===0);break;case"ArrowDown":e.Util.Grid.fArrowDown(s,T,f,L()===0);break;case"ArrowUp":s.commit(),e.Util.Grid.fArrowUp(s,T,f,L(T)>0);break;case(o.ctrlKey&&" "):if(!B||X.includes(B))break;w(s,B,T,!0);break}},L=s=>{const o=v.getAllStateRows().created;if(o.length>0){let p=0;return o.map(f=>{if(s===void 0||f>=s){const B=g.getValues(f);(!B.ItemCd||B.ItemCd===void 0)&&(p+=1)}}),p}return 0},M=async s=>{s.commit(),e.setGridFocus("R");const o=s.getCurrent(),p=s.getValue(o.itemIndex,o.column);(p===null||p==="")&&P(o.dataRow,o.column,null),g.validateCells()};return D.exports.useEffect(()=>{k()},[]),a.createElement(a.Fragment,null,a.createElement(h,{ref:n,key:e.Util.Common.fMakeId("Grid2"),id:e.Util.Common.fMakeId("Grid2"),style:{width:1163,height:649}}),a.createElement(ce,{visible:m.visible,description:m.desc,value:m.value,datas:m.datas,id:m.id,viewId:m.viewId,selectedData:m.selectedData,onConfirm:u,onCancel:()=>H({target:m.id})}),a.createElement(ne,{visible:c.visible,description:c.desc,type:c.type,onConfirm:()=>{x({visible:!1})}}))});let v,g;const Oe=ae(()=>{const e="MARKINGORDER",{$CommonStore:t,$UserStore:r}=re(),n=Fe(),{searchVO:i,setSearchVO:C,InputVO:d,setInputVO:c,cboSchType:x,printView:m,setPrintView:E,alert:A,setAlert:N,gridFocus:k,setGridFocus:G,confirm:w,setConfirm:R,ValidationRules:P}=ue(),u=new me(e,N,!0,!0,!0,!0,!0),H=D.exports.useRef(0),I=D.exports.useRef(""),L=D.exports.useRef(null),M=async()=>{I.current="",t.fSetBinding(!0),await ge(C,c,r.user),t.fSetBinding(!1),u.Common.fSetTabIndex()},s=async()=>{I.current="",t.fSetBinding(!0),await xe(c,r.user),t.fSetBinding(!1)},[o]=D.exports.useState({Util:u,User:r,setAlert:N,fInit:M,setInputVO:c}),p=l=>{_=l},f=l=>{b=l},B=l=>{O=l},T=l=>{U=l},X=(l,V)=>{G("H"),U.commit(!0),u.Common.fProviderClearRows(b);const S=_.getJsonRow(V);S.BalDate=W(S.BalDate,"YYYY-MM-DD"),I.current=S.BalNo,t.fSetBinding(!0),c(S),t.fSetBinding(!1),setTimeout(async()=>{await se(o,b,U,S.BalNo),H.current=V},100)},oe=()=>{},ie=async()=>{if(R({visible:!1,desc:"",id:""}),w.id==="SAVE"){const l=await Te(o,i,d,_,b,O,U);I.current=l}else w.id==="DELETE"?await Ne(o,i,d,_,O,c,b):w.id==="DELETE_ITEM"&&await Ee(o,d,b,U,I.current)},le=()=>{R({visible:!1,desc:"",id:""})},Y=(l,V,S)=>{if(!t.fGetBinding())switch(l){case"SchCustNm":u.Common.fMultiFieldChange(C,{SchCust:V,SchCustNm:S});break;case"CustNm":u.Common.fMultiFieldChange(c,{CustCd:V,CustNm:S});break;case"DeptNm":u.Common.fMultiFieldChange(c,{DeptCd:V,DeptNm:S});break;case"PnoNm":u.Common.fMultiFieldChange(c,{Pno:V,PnoNm:S});break}},$=async()=>{s(),u.Common.fProviderClearRows(b)},J=async()=>{await Q(o,i,_,"\uB9C8\uD0B9\uBC1C\uC8FC")},Z=async()=>{u.Common.fValidateElements({BalDate:"\uBC1C\uC8FC\uC77C\uC790",CustNm:"\uAC70\uB798\uCC98\uBA85",DeptNm:"\uBD80\uC11C\uBA85",PnoNm:"\uC0AC\uC6D0\uBA85"})||R({visible:!0,desc:"\uC800\uC7A5 \uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?",id:"SAVE"})},j=async()=>{if(k==="H")R({visible:!0,desc:"\uBC1C\uC8FC \uBB38\uC11C\uB97C \uC0AD\uC81C \uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?",id:"DELETE"});else if(k==="R"){if(U.commit(!0),u.Common.fValidate(U.getCheckedItems(!0).length<1,"\uC0AD\uC81C\uD560 \uC138\uBD80\uB0B4\uC5ED\uC744 \uC120\uD0DD\uD558\uC138\uC694."))return;R({visible:!0,desc:"\uBC1C\uC8FC \uD488\uBAA9 \uC138\uBD80\uB0B4\uC5ED\uC744 \uC0AD\uC81C \uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?",id:"DELETE_ITEM"})}},ee=async()=>{if(u.Common.fValidate(!I.current,"\uCD9C\uB825 \uD560 \uBC1C\uC8FC\uC790\uB8CC\uB97C \uC120\uD0DD \uD558\uC5EC \uC8FC\uC138\uC694."))return;const l=await we(o,{BALNO:I.current});if(u.Common.fValidate(!l,"\uCD9C\uB825\uC815\uBCF4\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."))return;E(!0);const V='{ "data" :'+JSON.stringify(l)+"}";u.Report.fReport(V,"/\uB9C8\uD0B9\uBC1C\uC8FC\uC11C.mrd","http://report.ehansun.co.kr/ReportingServer","http://hseerp.ehansun.co.kr/report")},Ce=async l=>{$(),setTimeout(async()=>{await Ae(o,b,l)},500)};return D.exports.useEffect(()=>{t.Parameter.PGMID&&t.Parameter.PGMID==="MARKINGORDERLIST"&&Ce(t.Parameter)},[t.Parameter]),D.exports.useEffect(()=>{u.Common.fHotKey(t,t.isPopup,$,J,Z,j,ee)},[t.HotKey]),D.exports.useEffect(()=>(M(),()=>{t.fSetHotKey()}),[]),a.createElement(a.Fragment,null,a.createElement(ye,{pgmid:e,visible:"111110",onNew:$,onSearch:J,onSave:Z,onDelete:j,onPrint:ee}),a.createElement(te,{className:"mainCon"},a.createElement(F.exports.Layout,{style:{width:"100%",height:775}},a.createElement(F.exports.LayoutPanel,{region:"west",split:!0,style:{width:500,minWidth:380,maxWidth:700,height:775}},a.createElement(te,{className:n.Scroll},a.createElement(h,{style:{marginTop:5}},a.createElement(h,{display:"flex",alignItems:"center"},a.createElement(h,{className:n.DateTitleBox},"\uAE30\uAC04"),a.createElement(h,{style:{display:"flex",alignItems:"center"}},a.createElement(q,{inputCls:"inputCls",classes:n,selected:i.SchFrDate,inputId:u.Common.fMakeId("SchFrDate"),onHandleDateChange:l=>u.Common.fFieldChange(C,"SchFrDate",l)}),a.createElement(h,{style:{margin:"0 3px",width:"10px"}},"~"),a.createElement(q,{inputCls:"inputCls",classes:n,selected:i.SchToDate,inputId:u.Common.fMakeId("SchToDate"),onHandleDateChange:l=>u.Common.fFieldChange(C,"SchToDate",l)}))),a.createElement(h,{display:"flex",alignItems:"center",style:{marginTop:5}},a.createElement(K,{title:"\uAC70\uB798\uCC98\uBA85",inputCls:"inputCls",pgmid:e,inputType:"Cust",id:"SchCustNm",helper:u.CodeHelper.helperCust,ComponentCode:i.SchCust,ComponentValue:i.SchCustNm,SetValue:Y,labelStyles:{margin:"3px 5px 5px 10px",width:100},inputStyles:{margin:"0px 0px 5px 5px",width:235}})),a.createElement(h,{display:"flex",alignItems:"center",style:{marginTop:5}},a.createElement(h,{className:n.DateTitleBox2,style:{marginLeft:10}},"\uAC80\uC0C9"),a.createElement(F.exports.ComboBox,{key:u.Common.fMakeId("SchType"),inputCls:"inputCls",inputId:u.Common.fMakeId("SchType"),className:n.InputBox6,data:x,value:i.SchType,onChange:l=>u.Common.fFieldChange(C,"SchType",l),editable:!1,panelStyle:{height:100},onSelectionChange:l=>{u.Common.fGridSort(O,l.value,{0:"BalNo",1:"BalDate"}),setTimeout(()=>{document.getElementById(u.Common.fMakeId("SchText")).focus()},100)}}),a.createElement(h,{onKeyDown:l=>{!t.isShift&&l.key==="Tab"&&setTimeout(()=>{document.getElementById(u.Common.fMakeId("SchFrDate")).focus()},0)}},a.createElement(F.exports.TextBox,{key:u.Common.fMakeId("SchText"),inputCls:"inputCls",inputId:u.Common.fMakeId("SchText"),className:n.InputBox7,style:{width:125},onChange:l=>{O.commit(),u.Common.fFieldChange(C,"SchText",l),u.Common.fSearchMatch(O,_,i.SchType,{0:"BalNo",1:"BalDate"},l)},value:i.SchText}))),a.createElement(h,{style:{marginTop:15}},a.createElement(Be,{Util:u,Id:"Grid1",GridTitle:"\uD5E4\uB354",Height:650,currentIndex:H,GridFields:Ie,GridColumns:Se,RowChanged:X,DataProviderBind:p,GridViewBind:B}))))),a.createElement(F.exports.LayoutPanel,{region:"center",split:!0,style:{width:1165,minWidth:800,maxWidth:1165,height:775}},a.createElement(F.exports.Form,{ref:L,style:{maxWidth:"100%"},model:d,rules:P,labelWidth:120,labelAlign:"right"},a.createElement(h,{style:{width:1161,height:762}},a.createElement(h,{display:"flex",style:{marginTop:7,marginLeft:5}},a.createElement(h,{className:n.DateTitleBox},"\uACF5\uC7A5\uBA85"),a.createElement(F.exports.TextBox,{key:u.Common.fMakeId("FactoryNm"),name:"FactoryNm",inputId:u.Common.fMakeId("FactoryNm"),value:d.FactoryNm,className:n.InputBox3,style:{width:170,marginRight:5},readonly:!0,disabled:!0})),a.createElement(h,{display:"flex",style:{marginTop:5}},a.createElement(h,{className:n.DateTitleBox,style:{marginLeft:15}},"\uBC1C\uC8FC\uBC88\uD638"),a.createElement(F.exports.TextBox,{key:u.Common.fMakeId("BalNo"),name:"BalNo",inputId:u.Common.fMakeId("BalNo"),value:d.BalNo,className:n.InputBox3,style:{width:170},readonly:!0,disabled:!0}),a.createElement(h,{className:n.DateTitleBox,style:{marginLeft:25}},"\uBC1C\uC8FC\uC77C",a.createElement(pe,{style:{position:"absolute",marginLeft:80,color:"#ffa8a8"},size:10})),a.createElement(h,{style:{marginTop:5}},a.createElement(q,{inputCls:"inputCls",classes:n,selected:d.BalDate,inputId:u.Common.fMakeId("BalDate"),onHandleDateChange:l=>u.Common.fFieldChange(c,"BalDate",l),inputRequired:!0,disabled:I.current!=""}))),a.createElement(h,{display:"flex",style:{marginTop:8,marginLeft:5}},a.createElement(K,{title:"\uAC70\uB798\uCC98\uBA85",inputCls:"inputCls",pgmid:e,inputType:"Cust",id:"CustNm",helper:u.CodeHelper.helperCust,ComponentCode:d.CustCd,ComponentValue:d.CustNm,SetValue:Y,labelStyles:{margin:"0px 0px 0px 10px",width:100},inputStyles:{margin:"0px 0px 0px 10px",width:170},inputRequired:!0}),a.createElement(K,{title:"\uBD80\uC11C\uBA85",inputCls:"inputCls",pgmid:e,inputType:"Dept",id:"DeptNm",helper:u.CodeHelper.helperDeptNm,ComponentCode:d.DeptCd,ComponentValue:d.DeptNm,SetValue:Y,labelStyles:{margin:"0px 0px 0px 10px",width:100,marginLeft:25},inputStyles:{margin:"0px 0px 0px 10px",width:170},inputRequired:!0}),a.createElement(K,{title:"\uC0AC\uC6D0\uBA85",inputCls:"inputCls",pgmid:e,inputType:"Pno",id:"PnoNm",helper:u.CodeHelper.helperPnoNm2,ComponentCode:d.Pno,ComponentValue:d.PnoNm,SetValue:Y,labelStyles:{margin:"0px 0px 0px 10px",width:100,marginLeft:25},inputStyles:{margin:"0px 0px 0px 10px",width:170},inputRequired:!0})),a.createElement(h,{style:{marginTop:15}},a.createElement(Ve,{Util:u,GridTitle:"\uB9C8\uD0B9\uBC1C\uC8FC\uBA85\uC138",setGridFocus:G,setAlert:N,TabGrid:oe,DataProviderBind:f,GridViewBind:T}))))))),m&&a.createElement(F.exports.Dialog,{title:a.createElement(h,{style:{display:"flex"}},a.createElement("img",{src:fe,alt:"logo",style:{width:"50px"}})," ",a.createElement(h,{style:{marginLeft:15}},"\uBC1C\uC8FC\uC11C \uCD9C\uB825")),style:{width:"1870px",height:"900px"},bodyCls:"f-column",closable:!0,draggable:!0,modal:!0,onClose:()=>E(!1)},a.createElement(h,{className:"f-full"},a.createElement("div",{id:"crownix-viewer",style:{position:"absolute",width:"100%",height:"100%"}}))),a.createElement(ne,{visible:A.visible,description:A.desc,type:A.type,onConfirm:()=>N({visible:!1})}),a.createElement(he,{visible:w.visible,description:w.desc,onCancel:le,onConfirm:ie}))});let _,b,O,U;const Fe=de(De);export{Oe as default};
