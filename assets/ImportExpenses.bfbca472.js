import{r as g,R as r}from"./index.da6908f5.js";import{m as u,o as lt,c as it,u as ct,s as mt,U as dt,P as we,r as B,B as i,F as Be,h as T,q as Ct,f as pt,A as ft,C as yt,t as ht,n as Dt,d as J,v as Tt,w as Et,Z as xt}from"./App.11263b70.js";import{C as gt}from"./CommonButton.0b792d77.js";import{C as q}from"./CommonDatePicker.d7bc57f8.js";import{A as Nt}from"./Attachments.19d97d2b.js";import{A as wt}from"./Approval.69c4f070.js";import{C as Ae}from"./CodeHelperPopup.3932fdb9.js";import"./index.6f186c21.js";import"./EvidenceViewer.5aab9677.js";const Bt=[{fieldName:"Accunit",dataType:u.exports.ValueType.TEXT},{fieldName:"Factory",dataType:u.exports.ValueType.TEXT},{fieldName:"ImpExpenseno",dataType:u.exports.ValueType.TEXT},{fieldName:"ImpExpenseDate",dataType:u.exports.ValueType.DATE,datetimeFormat:"yyyyMMdd"},{fieldName:"GeneDate",dataType:u.exports.ValueType.DATE,datetimeFormat:"yyyyMMdd"},{fieldName:"slpdat",dataType:u.exports.ValueType.TEXT},{fieldName:"slipyn",dataType:u.exports.ValueType.TEXT},{fieldName:"LCNO",dataType:u.exports.ValueType.TEXT},{fieldName:"custcd",dataType:u.exports.ValueType.TEXT},{fieldName:"Mediator",dataType:u.exports.ValueType.TEXT},{fieldName:"Pno",dataType:u.exports.ValueType.TEXT},{fieldName:"Deptcd",dataType:u.exports.ValueType.TEXT},{fieldName:"CrePno",dataType:u.exports.ValueType.TEXT},{fieldName:"CreDate",dataType:u.exports.ValueType.TEXT},{fieldName:"ModPno",dataType:u.exports.ValueType.TEXT},{fieldName:"ModDate",dataType:u.exports.ValueType.TEXT},{fieldName:"ClearanceDegree",dataType:u.exports.ValueType.TEXT},{fieldName:"Remark",dataType:u.exports.ValueType.TEXT},{fieldName:"PnoNm",dataType:u.exports.ValueType.TEXT},{fieldName:"DeptNm",dataType:u.exports.ValueType.TEXT},{fieldName:"Mediatornm",dataType:u.exports.ValueType.TEXT},{fieldName:"custnm",dataType:u.exports.ValueType.TEXT},{fieldName:"ClearanceDegreenm",dataType:u.exports.ValueType.TEXT},{fieldName:"ApprDocProg",dataType:u.exports.ValueType.TEXT},{fieldName:"DocStatus",dataType:u.exports.ValueType.TEXT}],At=[{name:"ApprDocProg",fieldName:"ApprDocProg",width:60,styleName:"center-column",header:{text:"\uACB0\uC7AC\uC0C1\uD0DC",showTooltip:!0},renderer:{type:"text",showTooltip:!0}},{name:"ImpExpenseDate",fieldName:"ImpExpenseDate",width:80,styleName:"center-column",header:{text:"\uC791\uC131\uC77C",showTooltip:!0},renderer:{type:"text",showTooltip:!0},datetimeFormat:"yyyy-MM-dd"},{name:"ImpExpenseno",fieldName:"ImpExpenseno",width:75,styleName:"center-column",header:{text:"\uC791\uC131\uBC88\uD638",showTooltip:!0},renderer:{type:"text",showTooltip:!0}},{name:"DeptNm",fieldName:"DeptNm",width:65,styleName:"left-column",header:{text:"\uBD80\uC11C\uBA85",showTooltip:!0},renderer:{type:"text",showTooltip:!0}},{name:"slipyn",fieldName:"slipyn",width:70,styleName:"center-column",header:{text:"\uD68C\uACC4\uCC98\uB9AC",showTooltip:!0},renderer:{type:"text",showTooltip:!0}}],St=[{fieldName:"Accunit",dataType:u.exports.ValueType.TEXT},{fieldName:"ImpExpenseno",dataType:u.exports.ValueType.TEXT},{fieldName:"ImpExpenseSeq",dataType:u.exports.ValueType.TEXT},{fieldName:"No",dataType:u.exports.ValueType.TEXT},{fieldName:"jukyocd",dataType:u.exports.ValueType.TEXT},{fieldName:"ToFactory",dataType:u.exports.ValueType.TEXT},{fieldName:"Currcd",dataType:u.exports.ValueType.TEXT},{fieldName:"ExchangeDate",dataType:u.exports.ValueType.TEXT},{fieldName:"Exchange",dataType:u.exports.ValueType.NUMBER},{fieldName:"CostAmt",dataType:u.exports.ValueType.NUMBER},{fieldName:"KorCostAmt",dataType:u.exports.ValueType.NUMBER},{fieldName:"CardNo",dataType:u.exports.ValueType.TEXT},{fieldName:"Deptcd",dataType:u.exports.ValueType.TEXT},{fieldName:"Custcd",dataType:u.exports.ValueType.TEXT},{fieldName:"Bankcd",dataType:u.exports.ValueType.TEXT},{fieldName:"GoodCd",dataType:u.exports.ValueType.TEXT},{fieldName:"LCNO",dataType:u.exports.ValueType.TEXT},{fieldName:"Vatcd",dataType:u.exports.ValueType.TEXT},{fieldName:"Amount",dataType:u.exports.ValueType.NUMBER},{fieldName:"Tax",dataType:u.exports.ValueType.NUMBER},{fieldName:"Total",dataType:u.exports.ValueType.NUMBER},{fieldName:"Remark",dataType:u.exports.ValueType.TEXT},{fieldName:"LCCustcd",dataType:u.exports.ValueType.TEXT},{fieldName:"ClearanceDegree",dataType:u.exports.ValueType.TEXT},{fieldName:"Jukyonm",dataType:u.exports.ValueType.TEXT},{fieldName:"ToFactorynm",dataType:u.exports.ValueType.TEXT},{fieldName:"Krname",dataType:u.exports.ValueType.TEXT},{fieldName:"Deptnm",dataType:u.exports.ValueType.TEXT},{fieldName:"custnm",dataType:u.exports.ValueType.TEXT},{fieldName:"LCCustnm",dataType:u.exports.ValueType.TEXT},{fieldName:"banknm",dataType:u.exports.ValueType.TEXT},{fieldName:"AccountNo",dataType:u.exports.ValueType.TEXT},{fieldName:"GoodNm",dataType:u.exports.ValueType.TEXT},{fieldName:"VatcdNm",dataType:u.exports.ValueType.TEXT},{fieldName:"minornm",dataType:u.exports.ValueType.TEXT},{fieldName:"account",dataType:u.exports.ValueType.TEXT},{fieldName:"currnm",dataType:u.exports.ValueType.TEXT},{fieldName:"mangidate",dataType:u.exports.ValueType.DATE,datetimeFormat:"yyyyMMdd"},{fieldName:"ClearanceDegreenm",dataType:u.exports.ValueType.TEXT},{fieldName:"Protype",dataType:u.exports.ValueType.TEXT},{fieldName:"Protypenm",dataType:u.exports.ValueType.TEXT}],Vt=[{name:"No",fieldName:"No",width:50,styleName:"center-column",editable:!1,header:{text:"NO",showTooltip:!0},renderer:{type:"text",showTooltip:!0}},{name:"LCNO",fieldName:"LCNO",width:90,styleName:"left-column",button:"action",editable:!0,header:{text:"LCNO",showTooltip:!0},renderer:{type:"text",showTooltip:!0},editor:{textCase:"upper"}},{name:"LCCustnm",fieldName:"LCCustnm",width:170,styleName:"left-column",editable:!0,header:{text:"\uC218\uC775\uC790",showTooltip:!0},renderer:{type:"text",showTooltip:!0}},{name:"ClearanceDegreenm",fieldName:"ClearanceDegreenm",width:80,styleName:"left-column",button:"action",editable:!0,header:{text:"\uD1B5\uAD00\uCC28\uC218",showTooltip:!0},renderer:{type:"text",showTooltip:!0}},{name:"Jukyonm",fieldName:"Jukyonm",width:150,styleName:"left-column",button:"action",editable:!0,header:{text:"\uD68C\uACC4\uCC98\uB9AC\uCF54\uB4DC\uBA85",showTooltip:!0},renderer:{type:"text",showTooltip:!0}},{name:"jukyocd",fieldName:"jukyocd",width:80,styleName:"left-column",header:{text:"\uD68C\uACC4\uCC98\uB9AC\uCF54\uB4DC",showTooltip:!0},renderer:{type:"text",showTooltip:!0}},{name:"Protypenm",fieldName:"Protypenm",width:130,styleName:"left-column",button:"action",editable:!0,header:{text:"\uC99D\uBE59\uC885\uB958",showTooltip:!0},renderer:{type:"text",showTooltip:!0}},{name:"currnm",fieldName:"currnm",width:60,styleName:"left-column",button:"action",editable:!0,header:{text:"\uD1B5\uD654",showTooltip:!0},renderer:{type:"text",showTooltip:!0},editor:{type:"line",textCase:"upper"}},{name:"ExchangeDate",fieldName:"ExchangeDate",width:100,styleName:"left-column",yearNavigation:!0,editable:!0,header:{text:"\uD658\uC728\uC77C\uC790",showTooltip:!0},renderer:{type:"text",showTooltip:!1},editor:{type:"date",maxLength:10,yearNavigation:!0,datetimeFormat:"yyyy-MM-dd"},datetimeFormat:"yyyy-MM-dd"},{name:"Exchange",fieldName:"Exchange",width:80,styleName:"right-column",editable:!1,header:{text:"\uC6D0\uD654\uD658\uC728",showTooltip:!0},renderer:{type:"text",showTooltip:!0},editor:{type:"number",editFormat:"#,##0.##"},numberFormat:"#,##0.##"},{name:"CostAmt",fieldName:"CostAmt",width:80,styleName:"right-column",editable:!0,header:{text:"\uD1B5\uD654\uAE08\uC561",showTooltip:!0},renderer:{type:"text",showTooltip:!0},editor:{type:"number",editFormat:"#,##0.##"},numberFormat:"#,##0.##"},{name:"KorCostAmt",fieldName:"KorCostAmt",width:80,styleName:"right-column",editable:!0,header:{text:"\uC6D0\uD654\uAE08\uC561",showTooltip:!0},renderer:{type:"text",showTooltip:!0},editor:{type:"number",editFormat:"#,##0"},numberFormat:"#,##0"},{name:"mangidate",fieldName:"mangidate",width:100,styleName:"left-column",yearNavigation:!0,editable:!0,header:{text:"\uB9CC\uAE30\uC77C",showTooltip:!0},renderer:{type:"text",showTooltip:!1},editor:{type:"date",maxLength:10,yearNavigation:!0,datetimeFormat:"yyyy-MM-dd"},datetimeFormat:"yyyy-MM-dd"},{name:"Remark",fieldName:"Remark",width:280,styleName:"left-column",placeHolder:"\uCD5C\uB30060\uC790",header:{text:"\uBE44\uACE0",showTooltip:!0},renderer:{type:"text",showTooltip:!0},editor:{maxLength:60}},{name:"banknm",fieldName:"banknm",width:80,styleName:"left-column",button:"action",editable:!0,header:{text:"\uC740\uD589\uBA85",showTooltip:!0},renderer:{type:"text",showTooltip:!0},editor:{textCase:"upper"}},{name:"AccountNo",fieldName:"AccountNo",width:135,styleName:"left-column",editable:!1,header:{text:"\uACC4\uC88C\uBC88\uD638",showTooltip:!0},renderer:{type:"text",showTooltip:!0}},{name:"custnm",fieldName:"custnm",width:150,styleName:"left-column",button:"action",editable:!0,header:{text:"\uAC70\uB798\uCC98",showTooltip:!0},renderer:{type:"text",showTooltip:!0}},{name:"Deptnm",fieldName:"Deptnm",width:80,styleName:"left-column",button:"action",editable:!0,header:{text:"\uBD80\uC11C",showTooltip:!0},renderer:{type:"text",showTooltip:!0}},{name:"VatcdNm",fieldName:"VatcdNm",width:150,styleName:"left-column",button:"action",editable:!0,header:{text:"\uBD80\uAC00\uC138\uC885\uB958",showTooltip:!0},renderer:{type:"text",showTooltip:!0}},{name:"Amount",fieldName:"Amount",width:80,styleName:"right-column",editable:!0,header:{text:"\uACF5\uAE09\uAC00\uC561",showTooltip:!0},renderer:{type:"text",showTooltip:!0},footer:{numberFormat:"#,##0",expression:"sum"},editor:{type:"number",editFormat:"#,##0"},numberFormat:"#,##0"},{name:"Tax",fieldName:"Tax",width:80,styleName:"right-column",editable:!0,header:{text:"\uBD80\uAC00\uC138",showTooltip:!0},renderer:{type:"text",showTooltip:!0},footer:{numberFormat:"#,##0",expression:"sum"},editor:{type:"number",editFormat:"#,##0"},numberFormat:"#,##0"},{name:"Total",fieldName:"Total",width:100,styleName:"right-column",editable:!0,header:{text:"\uD569\uACC4\uAE08\uC561",showTooltip:!0},renderer:{type:"text",showTooltip:!0},footer:{numberFormat:"#,##0",expression:"sum"},editor:{type:"number",editFormat:"#,##0"},numberFormat:"#,##0"}],bt={SA1:{width:70,height:25,margin:"3px 3px",backgroundColor:"#e0ecff",color:"#163971",padding:5,fontSize:"12px",alignItems:"center",fontWeight:600,display:"flex"},SA2:{width:60},SA3:{width:"15px!important",height:"15px!important",border:"1px solid #3c96ff",marginTop:"1px","& .checkbox-checked":{border:0,background:"#3c96ff"}},SA4:{width:90,height:25,"& input":{fontSize:"12px !important"}},SA5:{marginLeft:5,width:140,height:25,"& input":{fontSize:"12px !important"}},SB1:{width:253,height:32,"& input":{fontSize:"16px !important",textAlign:"center",color:"#0070c0"}},SB2:{fontSize:12,paddingBottom:2,fontWeight:500},SC1:{width:90,height:25,margin:"3px 10px",backgroundColor:"#e0ecff",color:"#163971",padding:5,fontSize:"12px",alignItems:"center",fontWeight:600,display:"flex"},SC2:{width:80},SC3:{width:200,height:25,"& input":{fontSize:"12px !important"}},SC4:{width:200,height:25,"& input":{fontSize:"12px !important",textAlign:"right"}},SC5:{fontSize:12,paddingBottom:2,fontWeight:500,marginLeft:5},SC6:{width:150,height:25,"& input":{fontSize:"12px !important",textAlign:"center"}},SC7:{width:80,height:29,margin:"3px 1px",backgroundColor:"#e0ecff",color:"#163971",padding:5,fontSize:"12px",alignItems:"center",fontWeight:600,display:"flex"},SC8:{"& textarea":{fontSize:"12px !important"}},radioBox:{display:"flex",flexDirection:"row",border:"1px solid #9ac9ed",borderRadius:5,height:25,width:235.82,alignItems:"center",marginLeft:6,justifyContent:"center"}},_t=lt(()=>{const h="IMPORTEXPENSES",{$CommonStore:Y,$UserStore:f}=ct(),C=It(),ie=g.exports.useRef(null),ce=g.exports.useRef(null),I=g.exports.useRef(null),me=g.exports.useRef(0),V=g.exports.useRef(null),Se=g.exports.useRef(null),de=g.exports.useRef(!1),F=g.exports.useRef("\uACB0\uC7AC \xB7 \uBBF8\uC0C1\uC2E0"),$=g.exports.useRef(0),Z=g.exports.useRef(!0),[E,v]=g.exports.useState({SchAccunit:"",SchFactory:"",SchFrDate:new Date,SchToDate:new Date,SchWriting:!0,SchType:"0",SchText:""}),[D,R]=g.exports.useState({}),[Ve,Ce]=g.exports.useState(!1),[U,X]=g.exports.useState(""),[be,pe]=g.exports.useState(!1),[Ie]=g.exports.useState({ImpExpenseDate:"required",GeneDate:"required",PnoNm:"required",DeptNm:"required"}),[ve]=g.exports.useState([{value:"0",text:"\uC791\uC131\uC77C"},{value:"1",text:"\uC791\uC131\uBC88\uD638"},{value:"2",text:"\uBD80\uC11C\uBA85"}]),[M,L]=g.exports.useState({visible:!1,desc:"",value:"",datas:{},id:"",viewId:"",selectedData:{}}),[Q,A]=g.exports.useState({visible:!1,desc:"",type:"N"}),[_,O]=g.exports.useState({visible:!1,desc:"",id:""}),m=new ht(h,A),s=new Tt(A),ee=new Et(A),w=new mt,ke=new xt,Me=["No","LCNO","LCCustnm","ClearanceDegree","ClearanceDegreenm","jukyocd","Jukyonm","Protypenm"],Re=["CostAmt","KorCostAmt","Amount","Total"],Pe=["LCNO","ClearanceDegreenm","Jukyonm","Protypenm","currnm","banknm","custnm","Deptnm","VatcdNm"],te=["LCNO","LCCustnm","ClearanceDegree","jukyocd","Protype","CostAmt","KorCostAmt","Amount","Total"],Fe={No:"No",LCNO:"LCNO",LCCustnm:"\uC218\uC775\uC790",ClearanceDegree:"\uD1B5\uAD00\uCC28\uC218",jukyocd:"\uD68C\uACC4\uCC98\uB9AC\uCF54\uB4DC",Protype:"\uC99D\uBE59\uC885\uB958",CostAmt:"\uD1B5\uD654\uAE08\uC561",KorCostAmt:"\uC6D0\uD654\uAE08\uC561",Amount:"\uACF5\uAE09\uAC00\uC561",Total:"\uD569\uACC4\uAE08\uC561"},Le=["LCNO","ClearanceDegreenm","Jukyonm","jukyocd","Protypenm","currnm","banknm","custnm","Deptnm","VatcdNm"],Ye=["Exchange","CostAmt"],Xe=["Amount"],K=["103011","103013","103015"],x=new dt(h,A,!0,!0,!0,!0,!1),_e=()=>{v({SchAccunit:f.user.accunit,SchFactory:f.user.factory,SchFrDate:T().clone().startOf("month").toDate(),SchToDate:new Date,SchWriting:"Y",SchType:"0",SchText:""}),ae(),document.getElementById(m.fMakeId("Remark")).maxLength=60,setTimeout(()=>{m.fSetTabIndex(),document.getElementById(x.Common.fMakeId("SchFrDate")).focus()},300)},ae=()=>{R({Accunit:f.user.accunit,Factory:f.user.factory,Factorynm:f.user.factorynm,ImpExpenseno:"",ImpExpenseDate:new Date,GeneDate:new Date,Pno:f.user.userid,Deptcd:f.user.deptcd,CrePno:"",CreDate:"",ModPno:"",ModDate:"",PnoNm:f.user.username.trim(),Remark:"",DeptNm:f.user.deptnm})},Oe=()=>{x.Grid.fContainerInit(x.Common.fMakeId("Grid1")),P=new u.exports.LocalDataProvider(!1),S=new u.exports.GridView(ie.current),s.fInitGridHeader(S,P,Bt,At,30,Ke,Ge,Ue),S.setRowIndicator({visible:!1}),S.setDisplayOptions({fitStyle:"evenFill"}),S.onCellDblClicked=function(){document.getElementById(m.fMakeId("GeneDate")).focus()},S.setRowStyleCallback((e,t)=>{if(e.getValue(t.index,"ApprDocProg")==="\uBC18\uB824")return"rg-column-color-1";if(e.getValue(t.index,"ApprDocProg")==="\uC644\uACB0")return"rg-column-color-3";if(e.getValue(t.index,"ApprDocProg")==="\uC9C4\uD589\uC911")return"rg-column-color-2"})},fe=(e,t)=>{d.commit(),X("H");const a=P.getJsonRow(t);V.current===a.ImpExpenseno&&(Z.current=!Z.current),V.current=a.ImpExpenseno,F.current=a.DocStatus,R(a),Ee(),setTimeout(()=>{me.current=t},100)},Ke=(e,t,a)=>{a>=0&&fe(e,a)},Ge=(e,t)=>{me.current===t.dataRow&&t.dataRow>=0&&fe(e,t.dataRow)},Ue=async(e,t)=>{switch(t.key){case(t.shiftKey&&"Tab"):document.getElementById(m.fMakeId("SchText")).focus();break;case"Tab":setTimeout(()=>{document.getElementById(x.Common.fMakeId("radioBox")).focus()},0);break}},We=()=>{x.Grid.fContainerInit(x.Common.fMakeId("Grid2")),o=new u.exports.LocalDataProvider(!1),d=new u.exports.GridView(ce.current),s.fInitGridDetail(d,o,St,Vt,he,ze,He),d.setRowIndicator({visible:!1}),d.setFooters({visible:!0}),d.onCellClicked=function(e,t){t.dataRow>=0&&X("D")},d.onValidateColumn=(e,t,a,l)=>{const n={};return Me.includes(t.fieldName)?(!l||l===void 0)&&(n.level="warning",n.message="\uD544\uC218 \uC785\uB825 \uAC12\uC785\uB2C8\uB2E4."):Re.includes(t.fieldName)&&l===void 0&&(n.level="warning",n.message="\uD544\uC218 \uC785\uB825 \uAC12\uC785\uB2C8\uB2E4."),n},d.columnByName("Exchange").styleCallback=ye,d.columnByField("CostAmt").styleCallback=ye,d.orderBy([],[]),o.onRowInserted=(e,t)=>{s.fSetMultiDataProvider(e,t,{No:Dt(parseInt(s.fMaxSeq(e,"No"))+1).format("000"),ToFactory:f.user.factory,Currcd:"057001",currnm:"KOR",Exchange:1,Accunit:f.user.accunit,ExchangeDate:T(D.ImpExpenseDate).format("yyyy-MM-DD")})},d.getDataSource().addRow([])},ye=(e,t)=>{const a=e.getValue(t._index._itemIndex,"Currcd");let l={};return a==="057001"?(l.numberFormat="#,##0",l.editor={type:"number",editFormat:"#,##0"}):a==="057003"?(l.numberFormat="#,##0.####",l.editor={type:"number",editFormat:"#,##0.####"}):(l.numberFormat="#,##0.##",l.editor={type:"number",editFormat:"#,##0.##"}),l},he=async(e,t)=>{e.commit(),X("D");const a=e.getValue(e.getCurrent().itemIndex,t.fieldName);let l={};t.fieldName==="LCNO"?l=await s.gridCodeClass(e.getCurrent(),w.helperImpExpeseLcno,h,a,!0):t.fieldName==="ClearanceDegreenm"?l=await s.gridCodeClass(e.getCurrent(),w.helperClearanceDegreeNm,h,a,!0):t.fieldName==="Jukyonm"?l=await s.gridCodeClass(e.getCurrent(),w.helperJukyoNm,h,a,!0):t.fieldName==="Protypenm"?l=await s.gridCodeClass(e.getCurrent(),w.helperProtypeNm,h,a,!0):t.fieldName==="currnm"?l=await s.gridCodeClass(e.getCurrent(),w.helperCurrNm,h,a,!0):t.fieldName==="banknm"?l=await s.gridCodeClass(e.getCurrent(),w.helperBankDNm,h,a,!0):t.fieldName==="custnm"?l=await s.gridCodeClass(e.getCurrent(),w.helperCust,h,a,!0):t.fieldName==="Deptnm"?l=await s.gridCodeClass(e.getCurrent(),w.helperDeptNm,h,a,!0):t.fieldName==="VatcdNm"&&(l=await s.gridCodeClass(e.getCurrent(),w.helperExpenseVatNm,h,a,!0));let n=0;l.datas[0].map(c=>{n+=Number(c.Size)}),$.current=n<470?470:n+80,L(l)},ze=(e,t)=>{e.commit(),X("D");const a=e.getCurrent(),l=e.getValue(a.itemIndex,a.column);if((l===null||l==="")&&(a.column==="LCNO"?s.fSetDataProvider(o,a.dataRow,["LCNO","LCCustcd","LCCustnm"],void 0):a.column==="ClearanceDegreenm"?s.fSetDataProvider(o,a.dataRow,["ClearanceDegree","ClearanceDegreenm"],void 0):a.column==="Jukyonm"?s.fSetDataProvider(o,a.dataRow,["jukyocd","Jukyonm"],void 0):a.column==="Protypenm"?s.fSetDataProvider(o,a.dataRow,["Protype","Protypenm"],void 0):a.column==="currnm"?s.fSetDataProvider(o,a.dataRow,["Currcd","currnm"],void 0):a.column==="banknm"?s.fSetDataProvider(o,a.dataRow,["Bankcd","banknm","AccountNo"],void 0):a.column==="custnm"?s.fSetDataProvider(o,a.dataRow,["Custcd","custnm"],void 0):a.column==="Deptnm"?s.fSetDataProvider(o,a.dataRow,["Deptcd","Deptnm"],void 0):a.column==="VatcdNm"&&(s.fSetMultiDataProvider(o,a.dataRow,{Vatcd:void 0,VatcdNm:void 0,Tax:0}),o.setValue(t,"Total",o.getValue(t,"Amount")))),Ye.includes(a.column)){const n=o.getValue(t,"Exchange"),c=o.getValue(t,"CostAmt"),N=o.getValue(t,"Vatcd");if(n!==void 0&&c!==void 0){o.setValue(t,"KorCostAmt",Math.round(n*c));const b=o.getValue(t,"KorCostAmt");let H=0;K.includes(N)&&(H=Math.round(b*.1)),o.setValue(t,"Amount",Math.round(n*c)),o.setValue(t,"Tax",H),o.setValue(t,"Total",Math.round(n*c)+H)}}if(Xe.includes(a.column)){const n=o.getValue(t,"Amount"),c=o.getValue(t,"Vatcd");let N=0;K.includes(c)&&(N=Math.round(n*.1)),o.setValue(t,"Tax",N),o.setValue(t,"Total",n+N)}if(a.column==="ExchangeDate"){const n=o.getValue(t,"Currcd");n!=="057001"&&n!==void 0&&re(t,n,l)}if(a.column==="KorCostAmt"){const n=o.getValue(t,"KorCostAmt");o.setValue(t,"Amount",n),o.setValue(t,"Total",n)}a.column==="Tax"&&o.setValue(t,"Total",o.getValue(t,"Tax")+o.getValue(t,"Amount")),e.validateCells()},He=async(e,t)=>{const a="Total",l=e.getDataSource().getRowCount(),{fieldName:n}=e.getCurrent(),{itemIndex:c}=e.getCurrent(),N=o.getJsonRows(),b=N.length-1;switch(t.key){case"Enter":if(A({visible:!1,desc:""}),e.commit(!0),n===a)s.fEnterLastField(e,c,l,W()===0);else if(e.getDataSource().getValue(c,n)&&Le.includes(n)){e.commit(),e.setCurrent({itemIndex:c,fieldName:n});const k=e.getValue(c,n);let p={};if(k!==""){if(n==="LCNO"){if(p=await s.gridCodeClass(e.getCurrent(),w.helperImpExpeseLcno,h,k,!1),!p.visible){const y=p.res;s.fSetMultiDataProvider(o,c,{LCNO:y.lcno,LCCustnm:y.custnm,LCCustcd:y.beneficiary.trim()})}}else if(n==="ClearanceDegreenm")p=await s.gridCodeClass(e.getCurrent(),w.helperClearanceDegreeNm,h,k,!1),p.visible||s.fSetDataProvider(o,c,["ClearanceDegree","ClearanceDegreenm"],p.res);else if(n==="Jukyonm"||n==="jukyocd"){if(p=await s.gridCodeClass(e.getCurrent(),w.helperJukyoNm,h,k,!1),!p.visible){const y=p.res;s.fSetMultiDataProvider(o,c,{jukyocd:y.jukyocd,Jukyonm:y.jukyonm})}}else if(n==="Protypenm")p=await s.gridCodeClass(e.getCurrent(),w.helperProtypeNm,h,k,!1),p.visible||s.fSetDataProvider(o,c,["Protype","Protypenm"],p.res);else if(n==="currnm"){if(p=await s.gridCodeClass(e.getCurrent(),w.helperCurrNm,h,k,!1),!p.visible){s.fSetDataProvider(o,c,["Currcd","currnm"],p.res);const y=o.getValue(c,"Currcd"),j=o.getValue(c,"ExchangeDate");y!=="057001"&&y!==void 0&&re(c,y,j),y=="057001"&&o.setValue(c,"Exchange",1),setTimeout(()=>{oe(c)},50)}}else if(n==="banknm"){if(p=await s.gridCodeClass(e.getCurrent(),w.helperBankDNm,h,k,!1),e.setCurrent({itemIndex:c,column:"custnm"}),!p.visible){const y=p.res;s.fSetMultiDataProvider(o,c,{Bankcd:y.minorcd,banknm:y.minornm,AccountNo:y.item1})}}else if(n==="custnm"){if(p=await s.gridCodeClass(e.getCurrent(),w.helperCust,h,k,!1),!p.visible){const y=p.res;s.fSetMultiDataProvider(o,c,{custcd:y.custcd,custnm:y.custnm})}}else if(n==="Deptnm"){if(p=await s.gridCodeClass(e.getCurrent(),w.helperDeptNm,h,k,!1),!p.visible){const y=p.res;s.fSetMultiDataProvider(o,c,{Deptcd:y.deptcd,Deptnm:y.deptnm})}}else if(n==="VatcdNm"&&(p=await s.gridCodeClass(e.getCurrent(),w.helperExpenseVatNm,h,k,!1),!p.visible)){const y=p.res,j=o.getValue(c,"Amount");let le=0;K.includes(y.minorcd)&&(le=Math.round(j*.1)),s.fSetMultiDataProvider(o,c,{Vatcd:y.minorcd,VatcdNm:y.minornm,Tax:le,Total:j+le})}let se=0;p.datas[0].map(y=>{se+=Number(y.Size)}),$.current=se<470?470:se+80,L(p)}}e.setFocus();break;case"Escape":s.fEscape(e,c,l,"No");break;case"Insert":s.fKeyInsert(e,c,W()===0,"No");break;case"ArrowDown":s.fArrowDown(e,c,l,W()===0,"No");break;case"ArrowUp":N[b].LCNO||N[b].LCCustnm||N[b].ClearanceDegreenm||N[b].jukyocd||N[b].Protype||N[b].CostAmt||N[b].KorCostAmt||N[b].Amount||N[b].Total||s.fArrowUp(e,c,l,W(c)>0);break;case"Tab":t.preventDefault(),document.getElementById(m.fMakeId("GeneDate")).focus();break;case(t.ctrlKey&&" "):he(e,{fieldName:n});break}},W=e=>{const t=o.getAllStateRows().created;if(t.length>0){let a=0;return t.map(l=>{if(e===void 0||l>=e){const n=d.getValues(l);for(let c=0;c<te.length;c++)Object.getOwnPropertyDescriptor(n,`${te[c]}`).value||(a+=1),Object.getOwnPropertyDescriptor(n,`${te[c]}`).value===void 0&&(a+=1)}}),a}return 0},z=(e,t)=>{t==="fr"?m.fFieldChange(v,"SchFrDate",e):m.fFieldChange(v,"SchToDate",e)},De=()=>{o.clearRows(),S.clearCurrent(),d.clearCurrent(),s.fNewRow(o,{No:"001"})},je=e=>{e.shiftKey&&e.key==="Tab"?(e.preventDefault(),document.getElementById(m.fMakeId("SchType")).focus()):e.key==="Tab"&&(e.preventDefault(),S.setFocus())},Je=e=>{e.shiftKey&&e.key==="Tab"?(e.preventDefault(),setTimeout(()=>{document.getElementById("IMPORTEXPENSES_DeptNm").focus()},10)):e.key==="Tab"&&(e.preventDefault(),d.setFocus())},qe=e=>{e.shiftKey&&e.key==="Tab"&&setTimeout(()=>{document.getElementById("IMPORTEXPENSES_Remark").focus()},10)},$e=()=>{O({visible:!1,desc:"",id:""})},Te=(e,t,a)=>{switch(e){case"PnoNm":m.fMultiFieldChange(R,{Pno:t,PnoNm:a});break;case"DeptNm":m.fMultiFieldChange(R,{Deptcd:t,DeptNm:a});break}},re=async(e,t,a)=>{if(!(e<0||!t||!a))try{const n=(await J.get("/@api/expense/importexpenses/selectByExchange",{params:{SchAccunit:f.user.accunit,SchCurrcd:t,SchExchangeDate:T(a).format("YYYYMMDD")}})).data;n&&(o.setValue(e,"Exchange",n.Rate),setTimeout(()=>{oe(e)},50))}catch{A({visible:!0,desc:"\uD658\uC728\uC815\uBCF4 \uC870\uD68C\uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4.",type:"E"})}},oe=e=>{const t=o.getValue(e,"Exchange"),a=o.getValue(e,"CostAmt"),l=o.getValue(e,"Vatcd");if(t!==void 0&&a!==void 0){let n=0;o.setValue(e,"KorCostAmt",Math.round(t*a));const c=o.getValue(e,"KorCostAmt");K.includes(l)&&(n=Math.round(c*.1)),o.setValue(e,"Amount",Math.round(t*a)),o.setValue(e,"Tax",n),o.setValue(e,"Total",Math.round(t*a)+n)}},Ze=async()=>{if(U==="D"){d.commit();const e=M.selectedData,t=e.dataRow,a=Y.Codeclass.selData;if(e.column==="LCNO")s.fSetMultiDataProvider(o,e.dataRow,{LCNO:a.lcno,LCCustnm:a.custnm,LCCustcd:a.beneficiary.trim()});else if(e.column==="ClearanceDegreenm")s.fSetDataProvider(o,e.dataRow,["ClearanceDegree","ClearanceDegreenm"],a);else if(e.column==="Jukyonm")s.fSetMultiDataProvider(o,e.dataRow,{jukyocd:a.jukyocd,Jukyonm:a.jukyonm}),d.setCurrent({dataRow:t,column:"Protypenm"});else if(e.column==="Protypenm")s.fSetDataProvider(o,e.dataRow,["Protype","Protypenm"],a);else if(e.column==="currnm"){s.fSetDataProvider(o,e.dataRow,["Currcd","currnm"],a);const l=o.getValue(e.dataRow,"Currcd"),n=o.getValue(e.dataRow,"ExchangeDate");l!=="057001"&&l!==void 0&&re(e.dataRow,l,n),l=="057001"&&o.setValue(e.dataRow,"Exchange",1),setTimeout(()=>{oe(e.dataRow)},50)}else if(e.column==="banknm")s.fSetMultiDataProvider(o,e.dataRow,{Bankcd:a.minorcd,banknm:a.minornm,AccountNo:a.item1}),d.setCurrent({dataRow:t,column:"custnm"});else if(e.column==="custnm")s.fSetMultiDataProvider(o,e.dataRow,{custcd:a.custcd,custnm:a.custnm});else if(e.column==="Deptnm")s.fSetMultiDataProvider(o,e.dataRow,{Deptcd:a.deptcd,Deptnm:a.deptnm});else if(e.column==="VatcdNm"){const l=o.getValue(e.dataRow,"KorCostAmt"),n=o.getValue(e.dataRow,"Amount");let c=0;K.includes(a.minorcd)&&(c=Math.round(l*.1)),s.fSetMultiDataProvider(o,e.dataRow,{Vatcd:a.minorcd,VatcdNm:a.minornm,Tax:c,Total:n+c})}d.commit(),d.validateCells(),L({visible:!1,desc:"",value:"",datas:{},selectedData:{},id:"",viewId:""}),d.setFocus()}},Qe=e=>{if(U==="D"){const t=d.getCurrent().itemIndex;Pe.includes(e.target)?L({visible:!1,desc:"",value:"",datas:{},selectedData:{},id:"",viewId:""}):e.target==="VatcdNm"&&(L({visible:!1,desc:"",value:"",datas:{},selectedData:{},id:"",viewId:""}),o.setValue(t,"Total",o.getValue(t,"Amount"))),d.setCurrent({itemIndex:t,fieldName:d.getCurrent().fieldName}),d.setFocus(),X("D")}L({visible:!1})},ue=(e,t)=>{t&&v({...E,SchWriting:e})},et=e=>{const t=E.SchWriting;e.key==="ArrowRight"?(t==="Y"&&v({...E,SchWriting:"N"}),t==="N"&&v({...E,SchWriting:"Y"})):e.key==="ArrowLeft"?(t==="Y"&&v({...E,SchWriting:"N"}),t==="N"&&v({...E,SchWriting:"Y"})):e.shiftKey&&e.key==="Tab"?(e.preventDefault(),S.setFocus()):e.key==="Tab"&&(e.preventDefault(),document.getElementById(m.fMakeId("SchFrDate")).focus())},tt=async()=>{O({visible:!1,desc:"",id:""}),_.id==="SAVE"?at():_.id==="DELETE"?rt():_.id==="DELETE_ITEM"&&ot()},Ee=async()=>{o.clearRows();try{const t=(await J.get("/@api/expense/importexpenses/selectByDetailList",{params:{SchExpenseNo:V.current,SchAccunit:f.user.accunit,SchFactory:f.user.factory,UserId:f.user.userid}})).data;t.dList.forEach(a=>{for(const[l,n]of Object.entries(a))typeof a[l]=="string"&&(a[l]=n.trim())}),t.dList===void 0||t.dList.length<1?s.fNewRow(o,{No:"001"}):o.setRows(t.dList),d.clearCurrent()}catch{A({visible:!0,desc:"\uC0C1\uC138\uB0B4\uC5ED \uC870\uD68C\uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4.",type:"E"})}},at=async()=>{const e={...D};e.ImpExpenseDate=T(D.ImpExpenseDate).format("YYYYMMDD"),e.GeneDate=T(D.GeneDate).format("YYYYMMDD"),e.Accunit=f.user.accunit,e.Factory=f.user.factory,e.UserId=f.user.userid;let t=[];if(s.fCheckGridData(o,t,Fe,"\uC218\uC785\uBD80\uB300\uBE44\uC6A9 \uC0C1\uC138")===void 0)try{const n=(await J.post("/@api/expense/importexpenses/updateByList",{header:e,detail:t})).data;if(n.errmess!==""){A({visible:!0,desc:n.errmess,type:"E"});return}const c=n.ImpExpenseno?n.ImpExpenseno.trim():D.ImpExpenseno.trim();A({visible:!0,desc:"\uBB38\uC11C \uC800\uC7A5\uC774 \uC644\uB8CC\uB418\uC5C8\uC2B5\uB2C8\uB2E4."}),G().then(()=>{const N=P.searchData({fields:["ImpExpenseno"],value:c,partialMatch:!0});N!=null&&S.setCurrent({dataRow:N.dataRow,column:0})})}catch(l){A({visible:!0,desc:`\uC800\uC7A5 \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4.${l}`})}},rt=async()=>{const e={...D};e.Accunit=f.user.accunit,e.Factory=f.user.factory;try{const a=(await J.post("/@api/expense/importexpenses/deleteByList",{data:e})).data;if(a.errmess!==""){A({visible:!0,desc:a.errmess,type:"E"});return}else await x.Command.fDeleteFiles("importexpenses",a.List),A({visible:!0,desc:"\uC0AD\uC81C\uAC00 \uC644\uB8CC\uB418\uC5C8\uC2B5\uB2C8\uB2E4."});setTimeout(async()=>{ne(),G()},100)}catch(t){A({visible:!0,desc:`\uC0AD\uC81C \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4. ${t}`})}},ot=async()=>{const e={...D};e.Accunit=f.user.accunit,e.Factory=f.user.factory,await ee.fDeleteCheckItem(d,o,"/@api/expense/importexpenses/deleteByItem",e,"\uC218\uC785\uBD80\uB300\uBE44\uC6A9 \uC0C1\uC138\uB0B4\uC5ED"),setTimeout(()=>{Ee()},100)},ut=()=>{x.Common.fValidate(x.Common.fEmptyReturn(V.current)==="",`\uAD6C\uB9E4\uC785\uACE0\uBC88\uD638\uAC00 \uC120\uD0DD\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4. 
\uD655\uC778\uD574 \uC8FC\uC2ED\uC2DC\uC624.`)||pe(!0)},nt=()=>{pe(!1)},ne=async()=>{ae(),setTimeout(()=>{m.fSetTabIndex(),document.getElementById(x.Common.fMakeId("SchFrDate")).focus()},300),De(),F.current="\uACB0\uC7AC \xB7 \uBBF8\uC0C1\uC2E0",de.current=!V.current,V.current="",I.current=new Date,setTimeout(()=>{document.getElementById(m.fMakeId("ImpExpenseDate")).focus()},302)},G=async()=>{if(ae(),De(),m.fValidate(!T(E.SchFrDate,"YYYY-MM-DD").isValid()||!T(E.SchToDate,"YYYY-MM-DD").isValid(),"\uC870\uD68C\uAE30\uAC04\uC744 \uBC14\uB974\uAC8C \uC785\uB825\uD574 \uC8FC\uC138\uC694.")||m.fValidate(T(E.SchFrDate).format("YYYYMMDD")>T(E.SchToDate).format("YYYYMMDD"),"\uC870\uD68C\uAE30\uAC04\uC744 \uD655\uC778\uD574 \uC8FC\uC138\uC694."))return;const e={...E};if(I.current){const t=T(I.current).format("YYYY-MM-DD"),a=T(E.SchFrDate).format("YYYY-MM-DD"),l=T(E.SchToDate).format("YYYY-MM-DD");t<a?(e.SchFrDate=T(t).format("YYYYMMDD"),z(I.current,"fr")):t>l&&(e.SchToDate=T(t).format("YYYYMMDD"),z(I.current,"to"))}e.SchFrDate=T(e.SchFrDate).format("YYYYMMDD"),e.SchToDate=T(e.SchToDate).format("YYYYMMDD"),e.SchWriting=F.current==="\uACB0\uC7AC \xB7 \uC9C4\uD589\uC911"?"N":E.SchWriting,e.SchAccunit=f.user.accunit,e.SchFactory=f.user.factory,await ee.fSearch(P,"/@api/expense/importexpenses/selectByList",e,"\uC218\uC785\uBD80\uB300\uBE44\uC6A9 \uBAA9\uB85D"),document.getElementById(x.Common.fMakeId("SchText")).focus(),F.current="\uACB0\uC7AC \xB7 \uBBF8\uC0C1\uC2E0",I.current=""},xe=async()=>{x.Common.fValidate(!T(D.ImpExpenseDate,"YYYY-MM-DD").isValid(),"\uC791\uC131\uC77C\uC790\uAC00 \uC81C\uB300\uB85C \uC785\uB825\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.")||m.fValidate(!D.Pno,"\uC0AC\uC6D0\uBA85\uC774 \uC81C\uB300\uB85C \uC785\uB825\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4")||m.fValidate(!D.Deptcd,"\uBD80\uC11C\uBA85\uC774 \uC81C\uB300\uB85C \uC785\uB825\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4")||(d.commit(),O({visible:!0,desc:"\uC800\uC7A5\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?",id:"SAVE"}),(I.current===null||I.current==="")&&(I.current=new Date))},ge=async()=>{if(!m.fValidate(!D.ImpExpenseno,"\uC218\uC785\uBD80\uB300\uBE44\uC6A9 \uBAA9\uB85D\uC774 \uC120\uD0DD\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.")){if(d.commit(!0),U==="H")O({visible:!0,desc:`\uC8FC\uC758) ${V.current} \uBB38\uC11C\uB97C \uC0AD\uC81C \uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?`,id:"DELETE"});else if(U==="D"){if(m.fValidate(d.getCheckedItems(!0).length<1,"\uC0AD\uC81C\uD560 \uBE44\uC6A9\uB0B4\uC5ED\uC744 \uC120\uD0DD\uD558\uC138\uC694."))return;O({visible:!0,desc:`${V.current} \uC0C1\uC138\uB0B4\uC5ED\uC744 \uC0AD\uC81C \uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?`,id:"DELETE_ITEM"})}}},Ne=async()=>{const e={...E};e.SchFrDate=T(e.SchFrDate).format("YYYYMMDD"),e.SchToDate=T(e.SchToDate).format("YYYYMMDD"),e.SchAccunit=f.user.accunit,e.SchFactory=f.user.factory;try{const t=await ee.fSearchByReturn("/@api/expense/importexpenses/selectByPrint",e);if(!t)A({visible:!0,desc:"\uCD9C\uB825\uC790\uB8CC \uC870\uD68C \uACB0\uACFC\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."});else{Ce(!0);const a='{ "data" : '+JSON.stringify(t)+" }";ke.fReport(a,"/\uC218\uC785\uBD80\uB300\uBE44\uC6A9\uB300\uC7A5.mrd","http://report.ehansun.co.kr/ReportingServer","http://hseerp.ehansun.co.kr/report")}}catch{A({visible:!0,desc:"\uC790\uB8CC \uC870\uD68C\uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4.",type:"W"})}},st=e=>{F.current=e,G().then(()=>{ue("N","checked");const t=P.searchData({fields:["ImpExpenseno"],value:V.current,partialMatch:!0});t!=null&&S.setCurrent({dataRow:t.dataRow,column:0})})};return g.exports.useEffect(()=>{m.fHotKey(Y,Y.isPopup,ne,G,xe,ge,Ne)},[Y.HotKey]),g.exports.useEffect(()=>(_e(),Oe(),We(),()=>{Y.fSetHotKey()}),[]),r.createElement(r.Fragment,null,r.createElement(gt,{pgmid:h,onNew:ne,onSearch:G,onSave:xe,onDelete:ge,onPrint:Ne,onAttachment:ut}),r.createElement(we,{className:"mainCon"},r.createElement(B.exports.Layout,{style:{width:"100%",height:"100%"}},r.createElement(B.exports.LayoutPanel,{region:"west",split:!0,style:{minWidth:350,width:400,maxWidth:400,height:770}},r.createElement(we,null,r.createElement(i,{style:{marginTop:5,marginLeft:5,display:"flex",alignItems:"center"}},r.createElement(i,{className:C.SA1},r.createElement(i,{className:C.SA2},"\uACB0\uC7AC\uC0C1\uD0DC")),r.createElement(i,{id:x.Common.fMakeId("radioBox"),onKeyDown:e=>et(e),className:"inputCls",style:{display:"flex",flexDirection:"row",border:"1px solid #9ac9ed",borderRadius:5,height:25,width:235.82,alignItems:"center",marginLeft:6,justifyContent:"center"}},r.createElement(i,{style:{marginLeft:5}},r.createElement(B.exports.RadioButton,{style:{width:15,height:15},inputId:x.Common.fMakeId("notcomplated"),value:"Y",groupValue:E.SchWriting,onChange:e=>{ue("Y",e)},inputCls:"inputCls"}),r.createElement(B.exports.Label,{htmlFor:x.Common.fMakeId("notcomplated"),style:{marginLeft:5,fontSize:12}},"\uC791\uC131\uC911+\uBC18\uB824")),r.createElement(i,{style:{marginLeft:25}},r.createElement(B.exports.RadioButton,{style:{width:15,height:15},inputId:x.Common.fMakeId("all"),value:"N",groupValue:E.SchWriting,onChange:e=>ue("N",e),inputCls:"inputCls"}),r.createElement(B.exports.Label,{htmlFor:x.Common.fMakeId("all"),style:{marginLeft:5,fontSize:12}},"\uC804\uCCB4")))),r.createElement(i,{style:{marginTop:2,marginLeft:5,display:"flex",alignItems:"center"}},r.createElement(i,{className:C.SA1},r.createElement(i,{className:C.SA2},"\uAE30\uAC04")),r.createElement(i,{style:{display:"flex",alignItems:"center",marginLeft:7}},r.createElement(i,{onKeyDown:e=>{e.shiftKey&&e.keyCode===9&&(e.preventDefault(),document.getElementById(x.Common.fMakeId("radioBox")).focus())}},r.createElement(q,{inputCls:"inputCls",selected:E.SchFrDate,inputId:m.fMakeId("SchFrDate"),onHandleDateChange:e=>z(e,"fr")})),r.createElement(i,{style:{margin:"0 3px",width:"10px"}},"~"),r.createElement(q,{inputCls:"inputCls",selected:E.SchToDate,inputId:m.fMakeId("SchToDate"),onHandleDateChange:e=>z(e,"to")}))),r.createElement(i,{style:{marginTop:2,marginLeft:5,display:"flex",alignItems:"center"}},r.createElement(i,{className:C.SA1},r.createElement(i,{className:C.SA2},"\uAC80\uC0C9")),r.createElement(B.exports.ComboBox,{inputCls:"inputCls",inputId:m.fMakeId("SchType"),data:ve,value:E.SchType,editable:!1,onChange:e=>m.fFieldChange(v,"SchType",e),onSelectionChange:e=>{m.fGridSort(S,e.value,{0:"ImpExpenseDate",1:"ImpExpenseno",2:"DeptNm"}),setTimeout(()=>{document.getElementById(m.fMakeId("SchText")).focus()},100)},panelStyle:{height:100},className:C.SA4,style:{marginLeft:7}}),r.createElement(i,{onKeyDown:e=>{je(e)}},r.createElement(B.exports.TextBox,{inputCls:"inputCls",inputId:m.fMakeId("SchText"),className:C.SA5,style:{width:140},onChange:e=>{S.commit(),m.fFieldChange(v,"SchText",e),m.fSearchMatch(S,P,E.SchType,{0:"ImpExpenseDate",1:"ImpExpenseno",2:"DeptNm"},e)},value:E.SchText}))),r.createElement(i,{ref:ie,id:x.Common.fMakeId("Grid1"),style:{width:"100%",height:661,marginTop:5}}))),r.createElement(B.exports.LayoutPanel,{region:"center",style:{height:770}},r.createElement(i,{style:{display:"flex"}},r.createElement(B.exports.Form,{ref:Se,style:{maxWidth:"100%",marginBottom:0},model:D,rules:Ie},r.createElement(i,{style:{width:"100%",height:"100%",borderRadius:"5px",display:"flex",flexDirection:"column",paddingBottom:5,paddingRight:15,paddingTop:5}},r.createElement(i,{style:{marginTop:3,display:"flex",alignItems:"center"}},r.createElement(i,{className:C.SC1},r.createElement(i,{className:C.SC2},"\uACF5\uC7A5\uBA85")),r.createElement(B.exports.TextBox,{inputId:m.fMakeId("Factorynm"),inputCls:"inputCls",name:"Factorynm",value:f.user.factorynm,editable:!1,className:C.SC3,disabled:!0})),r.createElement(i,{style:{marginTop:3,display:"flex",alignItems:"center"},onKeyDown:e=>{e.shiftKey&&e.keyCode===9&&(e.preventDefault(),d.setFocus())}},r.createElement(i,{className:C.SC1},r.createElement(i,{className:C.SC2},"\uC791\uC131\uBC88\uD638")),r.createElement(B.exports.TextBox,{inputCls:"inputCls",name:"ImpExpenseno",inputId:m.fMakeId("ImpExpenseno"),value:D.ImpExpenseno,onChange:e=>m.fFieldChange(R,"ImpExpenseno",e),className:C.SC3,disabled:!0})),r.createElement(i,{style:{marginTop:3,display:"flex",alignItems:"center"}},r.createElement(i,{className:C.SC1},r.createElement(i,{className:C.SC2},"\uC791\uC131\uC77C\uC790",r.createElement(Be,{style:{marginLeft:25,color:"#ffa8a8"},size:10}))),r.createElement(q,{inputCls:"inputCls",selected:D.ImpExpenseDate,inputId:m.fMakeId("ImpExpenseDate"),disabled:!!V.current,onHandleDateChange:e=>{m.fFieldChange(R,"ImpExpenseDate",e),I.current=e,o.setValue(0,"ExchangeDate",T(e).format("yyyy-MM-DD"))},style:{width:160},inputRequired:!0})),r.createElement(i,{style:{marginTop:3,display:"flex",alignItems:"center"}},r.createElement(i,{className:C.SC1},r.createElement(i,{className:C.SC2},"\uC804\uD45C\uC77C\uC790/\uBC88\uD638")),r.createElement(B.exports.TextBox,{inputId:m.fMakeId("slpdat"),inputCls:"inputCls",value:D.slpdat,editable:!1,className:C.SC3,disabled:!0})),r.createElement(i,{style:{marginTop:3,display:"flex",alignItems:"center"},onKeyDown:e=>{e.shiftKey&&e.keyCode===9&&(e.preventDefault(),d.setFocus())}},r.createElement(i,{className:C.SC1},r.createElement(i,{className:C.SC2},"\uBE44\uC6A9\uBC1C\uC0DD\uC77C",r.createElement(Be,{style:{marginLeft:14,color:"#ffa8a8"},size:10}))),r.createElement(q,{inputCls:"inputCls",selected:D.GeneDate,inputId:m.fMakeId("GeneDate"),onHandleDateChange:e=>m.fFieldChange(R,"GeneDate",e),style:{width:160},inputRequired:!0})),r.createElement(Ae,{title:"\uC0AC\uC6D0\uBA85",inputCls:"inputCls",pgmid:h,inputType:"Pno",id:"PnoNm",helper:x.CodeHelper.helperPnoNm2,ComponentCode:D.Pno,ComponentValue:D.PnoNm,SetValue:Te,labelStyles:{width:90,height:25,margin:"3px 10px 5px 10px",padding:5,fontSize:12,display:"flex",alignItems:"center",fontWeight:600},inputStyles:{width:200,margin:"0px 0px 5px 0px"},inputRequired:!0}),r.createElement(Ae,{title:"\uBD80\uC11C\uBA85",inputCls:"inputCls",pgmid:h,inputType:"Dept",id:"DeptNm",helper:x.CodeHelper.helperDeptNm,ComponentCode:D.Deptcd,ComponentValue:D.DeptNm,SetValue:Te,labelStyles:{width:90,height:25,margin:"3px 10px 5px 10px",padding:5,fontSize:12,display:"flex",alignItems:"center",fontWeight:600},inputStyles:{width:200,margin:"0px 0px 5px 0px"},inputRequired:!0}),r.createElement(i,{style:{marginTop:3,display:"flex",alignItems:"center"}},r.createElement(i,{className:C.SC1},r.createElement(i,{className:C.SC2},"\uCD5C\uCD08\uC791\uC131\uC77C")),r.createElement(B.exports.TextBox,{inputCls:"inputCls",name:"CreDate",editable:!1,value:T(D.CreDate,"YYYY-MM-DD").isValid()?T(D.CreDate).format("YYYY-MM-DD"):"",className:C.SC3,disabled:!0})),r.createElement(i,{style:{marginTop:3,display:"flex",alignItems:"center"}},r.createElement(i,{className:C.SC1},r.createElement(i,{className:C.SC2},"\uCD5C\uC885\uC218\uC815\uC77C")),r.createElement(B.exports.TextBox,{inputCls:"inputCls",name:"ModDate",inputId:m.fMakeId("ModDate"),editable:!1,value:T(D.ModDate,"YYYY-MM-DD").isValid()?T(D.ModDate).format("YYYY-MM-DD"):"",className:C.SC3,disabled:!0})),r.createElement(i,{style:{marginTop:3,display:"flex",alignItems:"center"}},r.createElement(i,{className:C.SC1},r.createElement(i,{className:C.SC2},"\uBE44\uACE0")),r.createElement(i,{onKeyDown:e=>{Je(e)}},r.createElement(B.exports.TextBox,{inputCls:"inputCls",name:"Remark",inputId:m.fMakeId("Remark"),value:D.Remark,onChange:e=>m.fFieldChange(R,"Remark",e),className:C.SC3,placeholder:"\uCD5C\uB300 60\uC790",style:{width:400}})))))),r.createElement(i,{onKeyDown:e=>{qe(e)}},r.createElement(i,{ref:ce,id:x.Common.fMakeId("Grid2"),style:{width:"100%",height:409,marginTop:5}}))),r.createElement(B.exports.LayoutPanel,{region:"east",title:F.current,collapsible:!0,collapsed:!0,expander:!0,style:{width:400}},r.createElement(i,{style:{marginTop:10}},r.createElement(wt,{PGMID:h,Init:de.current,ApprovalType:"A",ApprovalDocNo:V.current,ApprovalDocSource:"EI",AttachmentsKeyName:"\uBB38\uC11C\uBC88\uD638",RetrieveFlag:Z.current,MaxRevNo:0,RevNo:0,SetTitle:st,isImageComponent:!0,isAttachments:!0,isRevision:!1,filepath:"importexpenses"}))))),Ve&&r.createElement(B.exports.Dialog,{title:r.createElement(i,{style:{display:"flex"}},r.createElement("img",{src:Ct,alt:"logo",style:{width:"50px"}})," ",r.createElement(i,{style:{marginLeft:15}},"\uC218\uC785\uBD80\uB300\uBE44\uC6A9\uB300\uC7A5 \uCD9C\uB825")),style:{width:"1870px",height:"900px"},bodyCls:"f-column",closable:!0,modal:!0,onClose:()=>Ce(!1)},r.createElement(i,{className:"f-full"},r.createElement("div",{id:"crownix-viewer",style:{position:"absolute",width:"100%",height:"100%"}}))),r.createElement(pt,{visible:M.visible,description:M.desc,value:M.value,datas:M.datas,id:M.id,viewId:M.viewId,selectedData:M.selectedData,width:$.current,onConfirm:Ze,onCancel:()=>Qe({target:M.id})}),be&&r.createElement(Nt,{PGMID:h,FileTitle:"\uC218\uC785\uBD80\uB300\uBE44\uC6A9\uBC88\uD638",FileType:"EI",FileNo:V.current,FilePath:"importexpenses",setClose:nt}),r.createElement(ft,{visible:Q.visible,description:Q.desc,type:Q.type,onConfirm:()=>A({visible:!1})}),r.createElement(yt,{visible:_.visible,description:_.desc,onCancel:$e,onConfirm:tt}))});let P,o,S,d;const It=it(bt);export{_t as default};
