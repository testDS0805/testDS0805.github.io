import{m as n,o as dt,c as pt,u as ft,U as yt,P as Ae,r as h,B as l,q as ht,f as Tt,A as gt,C as Nt,h as B,n as Bt,d as G}from"./App.11263b70.js";import{r as f,R as a}from"./index.da6908f5.js";import{C as U}from"./CodeHelperPopup.3932fdb9.js";import{C as xt}from"./CommonButton.0b792d77.js";import{C as ie}from"./CommonDatePicker.d7bc57f8.js";import{A as Dt}from"./Approval.69c4f070.js";import{A as Et}from"./Attachments.19d97d2b.js";import{S as St}from"./SearchGoods.aa0af31e.js";import"./index.6f186c21.js";import"./EvidenceViewer.5aab9677.js";const At=[{fieldName:"Accunit",dataType:n.exports.ValueType.TEXT},{fieldName:"ApprDocProg",dataType:n.exports.ValueType.TEXT},{fieldName:"BalDate",dataType:n.exports.ValueType.DATE,datetimeFormat:"yyyyMMdd"},{fieldName:"BalNo",dataType:n.exports.ValueType.TEXT},{fieldName:"ContractNo",dataType:n.exports.ValueType.TEXT},{fieldName:"CustCd",dataType:n.exports.ValueType.TEXT},{fieldName:"CustCdNm",dataType:n.exports.ValueType.TEXT},{fieldName:"delvqty",dataType:n.exports.ValueType.NUMBER},{fieldName:"DeptCd",dataType:n.exports.ValueType.TEXT},{fieldName:"DeptCDNm",dataType:n.exports.ValueType.TEXT},{fieldName:"DocStatus",dataType:n.exports.ValueType.TEXT},{fieldName:"ExportYn",dataType:n.exports.ValueType.TEXT},{fieldName:"FileNo",dataType:n.exports.ValueType.TEXT},{fieldName:"OrderProgressYN",dataType:n.exports.ValueType.TEXT},{fieldName:"orderqty",dataType:n.exports.ValueType.NUMBER},{fieldName:"Pno",dataType:n.exports.ValueType.TEXT},{fieldName:"PnoNm",dataType:n.exports.ValueType.TEXT},{fieldName:"Remark",dataType:n.exports.ValueType.TEXT},{fieldName:"TotalAmt",dataType:n.exports.ValueType.NUMBER},{fieldName:"ToTalVat",dataType:n.exports.ValueType.NUMBER},{fieldName:"TotalWeight",dataType:n.exports.ValueType.NUMBER},{fieldName:"TotalOkAmt",dataType:n.exports.ValueType.NUMBER},{fieldName:"TruncNm",dataType:n.exports.ValueType.TEXT},{fieldName:"URGENCY",dataType:n.exports.ValueType.TEXT},{fieldName:"URGENCYNM",dataType:n.exports.ValueType.TEXT},{fieldName:"Vatcd",dataType:n.exports.ValueType.TEXT},{fieldName:"VatNm",dataType:n.exports.ValueType.TEXT}],Vt=[{name:"ApprDocProg",fieldName:"ApprDocProg",width:54,styleName:"center-column",header:{text:"\uACB0\uC7AC\uC0C1\uD0DC"}},{name:"BalDate",fieldName:"BalDate",width:75,styleName:"center-column",header:{text:"\uBC1C\uC8FC\uC77C"},datetimeFormat:"yyyy-MM-dd"},{name:"BalNo",fieldName:"BalNo",width:100,styleName:"center-column",header:{text:"\uBC1C\uC8FC\uBC88\uD638"},datetimeFormat:"yyyy-MM-dd"},{name:"CustCdNm",fieldName:"CustCdNm",width:135,styleName:"left-column",header:{text:"\uAC70\uB798\uCC98\uBA85"},renderer:{type:"text",showTooltip:!0}},{name:"OrderProgressYN",fieldName:"OrderProgressYN",width:54,styleName:"center-column",header:{text:"\uB9C8\uAC10\uC0C1\uD0DC"},renderer:{type:"text",showTooltip:!0}}],wt=[{fieldName:"AcceptPrice",dataType:n.exports.ValueType.TEXT},{fieldName:"AcceptQty",dataType:n.exports.ValueType.TEXT},{fieldName:"Accunit",dataType:n.exports.ValueType.TEXT},{fieldName:"Amount",dataType:n.exports.ValueType.NUMBER},{fieldName:"BalNo",dataType:n.exports.ValueType.TEXT},{fieldName:"BalQty",dataType:n.exports.ValueType.NUMBER},{fieldName:"BalSeq",dataType:n.exports.ValueType.TEXT},{fieldName:"Clstype",dataType:n.exports.ValueType.TEXT},{fieldName:"color",dataType:n.exports.ValueType.TEXT},{fieldName:"CreDate",dataType:n.exports.ValueType.TEXT},{fieldName:"CrePno",dataType:n.exports.ValueType.TEXT},{fieldName:"DelvdateA",dataType:n.exports.ValueType.TEXT},{fieldName:"ExportYn",dataType:n.exports.ValueType.TEXT},{fieldName:"GoodCd",dataType:n.exports.ValueType.TEXT},{fieldName:"GoodCdNm",dataType:n.exports.ValueType.TEXT},{fieldName:"Goodenm",dataType:n.exports.ValueType.TEXT},{fieldName:"GoodNo",dataType:n.exports.ValueType.TEXT},{fieldName:"Goodtype",dataType:n.exports.ValueType.TEXT},{fieldName:"InCnt",dataType:n.exports.ValueType.NUMBER},{fieldName:"InQty",dataType:n.exports.ValueType.NUMBER},{fieldName:"Kgperm",dataType:n.exports.ValueType.NUMBER},{fieldName:"MarkCdNm",dataType:n.exports.ValueType.TEXT},{fieldName:"ModDate",dataType:n.exports.ValueType.TEXT},{fieldName:"ModPno",dataType:n.exports.ValueType.TEXT},{fieldName:"NapDate",dataType:n.exports.ValueType.TEXT},{fieldName:"NapQty",dataType:n.exports.ValueType.NUMBER},{fieldName:"No",dataType:n.exports.ValueType.TEXT},{fieldName:"Okamt",dataType:n.exports.ValueType.NUMBER},{fieldName:"Price",dataType:n.exports.ValueType.NUMBER},{fieldName:"Priceunit",dataType:n.exports.ValueType.TEXT},{fieldName:"ProgType",dataType:n.exports.ValueType.TEXT},{fieldName:"Qty",dataType:n.exports.ValueType.NUMBER},{fieldName:"Remark",dataType:n.exports.ValueType.TEXT},{fieldName:"Spec",dataType:n.exports.ValueType.TEXT},{fieldName:"StockQty",dataType:n.exports.ValueType.NUMBER},{fieldName:"Stockunit",dataType:n.exports.ValueType.TEXT},{fieldName:"StockUnitCd",dataType:n.exports.ValueType.TEXT},{fieldName:"Stockunitnm",dataType:n.exports.ValueType.TEXT},{fieldName:"Su",dataType:n.exports.ValueType.NUMBER},{fieldName:"Suunitnm",dataType:n.exports.ValueType.TEXT},{fieldName:"Tax",dataType:n.exports.ValueType.NUMBER},{fieldName:"UnitCd",dataType:n.exports.ValueType.TEXT},{fieldName:"UnitCdNm",dataType:n.exports.ValueType.TEXT},{fieldName:"Weight",dataType:n.exports.ValueType.NUMBER},{fieldName:"Weightunitnm",dataType:n.exports.ValueType.TEXT},{fieldName:"WonAmt",dataType:n.exports.ValueType.NUMBER}],It=[{name:"NO",fieldName:"NO",width:40,styleName:"center-column",editable:!1,header:{text:"NO"}},{name:"GoodNo",fieldName:"GoodNo",width:150,styleName:"left-column",editable:!0,header:{text:"\uD488\uBC88"},renderer:{type:"text",showTooltip:!0},editor:{textCase:"upper"}},{name:"Spec",fieldName:"Spec",width:200,styleName:"left-column",editable:!0,editor:{maxLength:25},header:{text:"\uADDC\uACA9",showTooltip:!0},renderer:{type:"text",showTooltip:!0}},{name:"GoodCdNm",fieldName:"GoodCdNm",width:150,styleName:"left-column",editable:!0,header:{text:"\uD488\uBA85",showTooltip:!0}},{name:"BalQty",fieldName:"BalQty",width:60,styleName:"right-column",editable:!0,header:{text:"\uBC1C\uC8FC\uB7C9",showTooltip:!0},footer:{numberFormat:"#,##0.##",expression:"sum"},editor:{type:"number",editFormat:"#,##0.##"},numberFormat:"#,##0.##"},{name:"UnitCdNm",fieldName:"UnitCdNm",width:50,styleName:"center-column rg-disable-cell",editable:!1,header:{text:"\uB2E8\uC704",showTooltip:!0}},{name:"Weight",fieldName:"Weight",width:60,styleName:"right-column rg-disable-cell",editable:!1,header:{text:"\uC911\uB7C9",showTooltip:!0},footer:{numberFormat:"#,##0.##",expression:"sum"},editor:{type:"number",editFormat:"#,##0.##"},numberFormat:"#,##0.##"},{name:"Su",fieldName:"Su",width:60,styleName:"right-column rg-disable-cell",editable:!1,header:{text:"\uAE38\uC774",showTooltip:!0},footer:{numberFormat:"#,##0.##",expression:"sum"},editor:{type:"number",editFormat:"#,##0.##"},numberFormat:"#,##0.##"},{name:"NapQty",fieldName:"NapQty",width:60,styleName:"right-column rg-disable-cell",editable:!1,header:{text:"\uB0A9\uD488\uB7C9",showTooltip:!0},numberFormat:"#,##0.##"},{name:"Price",fieldName:"Price",width:70,styleName:"right-column",editable:!0,header:{text:"\uB2E8\uAC00",showTooltip:!0},editor:{type:"number",editFormat:"#,##0"},renderer:{showTooltip:!0},numberFormat:"#,##0"},{name:"Amount",fieldName:"Amount",width:80,styleName:"right-column",editable:!0,header:{text:"\uACF5\uAE09\uAC00\uC561",showTooltip:!0},footer:{numberFormat:"#,##0.##",expression:"sum"},editor:{type:"number",editFormat:"#,##0"},numberFormat:"#,##0.##"},{name:"Tax",fieldName:"Tax",width:80,styleName:"right-column",editable:!0,header:{text:"\uBD80\uAC00\uC138",showTooltip:!0},footer:{numberFormat:"#,##0.##",expression:"sum"},editor:{type:"number",editFormat:"#,##0"},numberFormat:"#,##0.##"},{name:"Okamt",fieldName:"Okamt",width:80,styleName:"right-column",editable:!0,header:{text:"\uD569\uACC4\uAE08\uC561",showTooltip:!0},footer:{numberFormat:"#,##0",expression:"sum"},editor:{type:"number",editFormat:"#,##0"},numberFormat:"#,##0"},{name:"NapDate",fieldName:"NapDate",width:100,styleName:"center-column",yearNavigation:!0,editable:!0,header:{text:"\uB0A9\uAE30\uC77C"},renderer:{type:"text",showTooltip:!1},editor:{type:"date",maxLength:10,yearNavigation:!0,datetimeFormat:"yyyy-MM-dd"},datetimeFormat:"yyyy-MM-dd"},{name:"Remark",fieldName:"Remark",width:300,styleName:"left-column",placeHolder:"\uCD5C\uB30060\uC790",editable:!0,editor:{maxLength:60},header:{text:"\uBE44 \uACE0"},renderer:{type:"text",showTooltip:!0}}],Rt={textBoxMatchPickDateBox:{marginLeft:0,width:150,height:25,"& input":{fontSize:"12px !important"}},SA1:{width:70,height:25,margin:"3px 3px",backgroundColor:"#e0ecff",color:"#163971",padding:5,fontSize:"12px",alignItems:"center",fontWeight:600,display:"flex"},SA2:{width:60},SA3:{width:"15px!important",height:"15px!important",border:"1px solid #3c96ff",marginTop:"1px","& .checkbox-checked":{border:0,background:"#3c96ff"}},SA4:{width:90,height:25,"& input":{fontSize:"12px !important"}},SA5:{marginLeft:5,width:140,height:25,"& input":{fontSize:"12px !important"}},SB1:{width:253,height:32,"& input":{fontSize:"16px !important",textAlign:"center",color:"#0070c0"}},SB2:{fontSize:12,paddingBottom:2,fontWeight:500},SC1:{width:90,height:25,margin:"3px 10px",backgroundColor:"#e0ecff",color:"#163971",padding:5,fontSize:"12px",alignItems:"center",fontWeight:600,display:"flex"},SC2:{width:80},SC3:{width:200,height:25,"& input":{fontSize:"12px !important"}},SC4:{width:200,height:25,"& input":{fontSize:"12px !important",textAlign:"right"}},SC5:{fontSize:12,paddingBottom:2,fontWeight:500,marginLeft:5},SC6:{width:150,height:25,"& input":{fontSize:"12px !important",textAlign:"center"}},SC7:{width:80,height:29,margin:"3px 1px",backgroundColor:"#e0ecff",color:"#163971",padding:5,fontSize:"12px",alignItems:"center",fontWeight:600,display:"flex"},SC8:{"& textarea":{fontSize:"12px !important"}}},Wt=dt(()=>{const S="ORDERMATERIAL",{$CommonStore:y,$UserStore:T}=ft(),c=kt(),[Q,x]=f.exports.useState({visible:!1,desc:"",type:"N"}),[O,W]=f.exports.useState({visible:!1,desc:"",id:""}),t=new yt(S,x,!0,!0,!0,!0,!0),[Ve,se]=f.exports.useState(!1),[we,Y]=f.exports.useState(""),me=f.exports.useRef(null),Ce=f.exports.useRef(null),j=f.exports.useRef(0),Ie=f.exports.useRef(!1),_=f.exports.useRef("\uACB0\uC7AC \xB7 \uBBF8\uC0C1\uC2E0"),A=f.exports.useRef(""),Re=f.exports.useRef(new Date),ke=f.exports.useRef(0),be=f.exports.useRef(0),Me=f.exports.useRef(!1),Pe=f.exports.useRef("OD"),R=f.exports.useRef(""),$=f.exports.useRef(""),V=f.exports.useRef(""),M=f.exports.useRef(""),ve=f.exports.useRef(1),P=f.exports.useRef(10),Z=f.exports.useRef(""),ee=f.exports.useRef(!0),ce=f.exports.useRef(0),[p,g]=f.exports.useState({schCustCd:"",SchWriting:"Y",SchWritingRadio:"1"}),[Fe,de]=f.exports.useState(!1),[C,D]=f.exports.useState({}),[w,H]=f.exports.useState({visible:!1,description:"",value:"",datas:{},id:"",viewId:"",selectedData:{}}),[Ge]=f.exports.useState([{value:"0",text:"\uACB0\uC7AC\uC0C1\uD0DC"},{value:"1",text:"\uBC1C\uC8FC\uC77C"},{value:"2",text:"\uBC1C\uC8FC\uBC88\uD638"},{value:"3",text:"\uAC70\uB798\uCC98\uBA85"}]),[z,pe]=f.exports.useState({visible:!1,selectedData:{},id:"",pgmid:""}),[Ye]=f.exports.useState({Delvdate:"required",CustCd:"required",CustCdNm:"required",Pno:"required",PnoNm:"required",Vatcd:"required",VatNm:"required",URGENCY:"required",URGENCYNM:"required"}),v={BalQty:"\uBC1C\uC8FC\uB7C9",GoodNo:"\uD488\uBC88",GoodCdNm:"\uD488\uBA85",NapDate:"\uB0A9\uAE30\uC77C"},Le=["GoodNo"],Ue=document.getElementById(t.Common.fMakeId("BalDate")),Oe=()=>{g({SchAccunit:"",SchFactory:"",SchToDate:B().format("YYYY-MM-DD"),SchFrDate:B().startOf("month").format("YYYY-MM-DD"),SchWriting:"Y",SchWritingRadio:"1",cboSchType:"2",SchText:"",schCustNm:"",schCustCd:"",schClastype:"1"},50),te(),document.getElementById(t.Common.fMakeId("Remark")).maxLength=60,t.Common.fSetTabIndex(),A.current="",$.current=new Date,R.current="",M.current=""},te=()=>{D({Accunit:T.user.accunit,ApprDocProg:"",ArrivalPortNm:"",AssentNm:"",BalDate:new Date,BalNo:"",CiTypeNm:"",ContractNo:"",CurrCdNm:"",CustCdNm:"",delvqty:"",DeptCd:T.user.deptcd,DeptCDNm:T.user.deptnm,DocStatus:"",ExportYn:"",Factory:T.user.factory,FileNo:"",LoadportNm:"",LoadTypeNm:"",Mediator:"",Mediatornm:"",OrderProgressYN:"",orderqty:"",PaymentTypeNm:"",Pno:T.user.userid,PnoNm:T.user.username.trim(),Remark:"",Termsofpricecd:"",TermsofpriceNm:"",TotalAmt:0,ToTalVat:0,TotalWeight:0,TotalOkAmt:0,TruncNm:"",URGENCY:C.URGENCY?C.URGENCY:"130001",URGENCYNM:"\uC815\uC0C1\uBC1C\uC8FC",Vatcd:"103011",VatNm:"\uC804\uC790\uC138\uAE08\uACC4\uC0B0\uC11C(\uC77C\uBC18\uACFC\uC138)"})},We=()=>{t.Grid.fContainerInit(t.Common.fMakeId("Grid1")),b=new n.exports.LocalDataProvider(!1),E=new n.exports.GridView(me.current),t.Grid.fInitGridHeader(E,b,At,Vt,30,Xe,Ke,He),E.setRowIndicator({visible:!1}),E.setDisplayOptions({fitStyle:"none"}),E.setRowStyleCallback(_e),E.onShowTooltip=function(e,o,r){let u=e.getValue(o.itemIndex,"CustCdNm");return o.column=="CustCdNm"&&u.length<12&&(r=null),r},E.onCellDblClicked=function(){Y("H"),document.getElementById(t.Common.fMakeId("CustCdNm")).focus()}},_e=(e,o)=>{const r=e.getValue(o.index,"ApprDocProg");if(r==="\uC644\uACB0")return"rg-column-color-3";if(r==="\uC9C4\uD589\uC911")return"rg-column-color-2";if(r==="\uBC18\uB824")return"rg-column-color-1"},Xe=(e,o,r)=>{Me.current=!1,r>=0&&fe(e,r)},Ke=(e,o)=>{ce.current===o.dataRow&&o.dataRow>=0&&fe(e,o.dataRow)},fe=(e,o)=>{s.commit(),Y("H"),y.fSetBinding(!0);const r=b.getJsonRow(o);A.current===r.BalNo&&(ee.current=!ee.current),A.current=r.BalNo,$.current=r.BalDate,M.current=r.CustCd,_.current=r.DocStatus,Re.current=r.BalDate,r.RateDay?r.RateDay:r.RateDay=r.BalDate,D(r),R.current=e.getValue(o,"BalNo"),y.fSetBinding(!1),De(r.Vatcd),Te(),setTimeout(()=>{ce.current=o},100)},He=(e,o)=>{switch(o.key){case(o.shiftKey&&"Tab"):document.getElementById(t.Common.fMakeId("SchText")).focus();break;case"Tab":setTimeout(()=>{document.getElementById(t.Common.fMakeId("SchFrDate")).focus()},0)}},ze=()=>{t.Grid.fContainerInit(t.Common.fMakeId("Grid2")),i=new n.exports.LocalDataProvider(!1),s=new n.exports.GridView(Ce.current),t.Grid.fInitGridDetail(s,i,wt,It,ye,qe,Je),s.setRowIndicator({visible:!1}),s.setFooters({visible:!0}),s.onCellClicked=(e,o)=>{o.dataRow>=0&&Y("D")},s.onValidateColumn=(e,o,r,u,m)=>{const d={};return Object.keys(v).includes(o.fieldName)&&(t.Common.fEmptyReturn(u)||(d.level="warning",d.message="\uD544\uC218 \uC785\uB825 \uAC12\uC785\uB2C8\uB2E4!")),o.fieldName=="Price"&&e.getValue(m,"PriceUpdated")&&e.getValue(m,"Price")>.001&&(d.level="info",d.message="\uCD5C\uC885 \uAC31\uC2E0 \uB2E8\uAC00"),d},i.onRowInserted=(e,o)=>{t.Grid.fSetMultiDataProvider(e,o,{No:Bt(o+1).format("000"),NapDate:B(C.BalDate).format("yyyy-MM-DD")})},s.getDataSource().addRow([])},ye=async(e,o)=>{e.commit(),Y("D");let r=e.getValue(e.getCurrent().itemIndex,o.fieldName);t.Common.fEmptyReturn(r)||(r="");let u={};o.fieldName==="GoodCdNm"&&(u=await t.Grid.gridCodeClass(e.getCurrent(),t.CodeHelper.helperOrderGoodno,S,r,!0));let m=0;u.datas[0].map(d=>{m+=Number(d.Size)}),j.current=m<470?470:m+500,H(u)},qe=(e,o)=>{s.commit(),Y("D");const{column:r,dataRow:u}=e.getCurrent(),{dataRow:m}=e.getCurrent(),d=e.getValue(u,r);if(d===null||d==="")r==="GoodNo"&&t.Grid.fSetDataProvider(i,u,["GoodNo","GoodCd","GoodCdNm","UnitCdNm","Spec","Kgperm","Priceunit","StockUnitCd","UnitCd"],void 0);else if(r)if(r==="BalQty"){const k=e.getValue(u,"UnitCd"),F=e.getValue(u,"Priceunit"),N=e.getValue(u,"BalQty");k.trim()==="064047"&&F==="220001"&&N!=null?nt(u,N,"Kg"):(i.setValue(u,"Weight",N),i.setValue(u,"Su",0),ue(m),I())}else r==="Price"?(ue(u),I()):r==="Amount"?(i.setValue(u,"Tax",Math.round(e.getValue(u,"Amount")*P.current)),i.setValue(u,"Okamt",Math.round(e.getValue(u,"Amount")+e.getValue(u,"Tax"))),I()):r==="Okamt"?I():r==="Tax"&&(i.setValue(u,"Okamt",e.getValue(u,"Amount")+e.getValue(u,"Tax")),I());Ct(),s.validateCells(),s.commit()},Je=async(e,o)=>{const r=e.getDataSource().getRowCount(),{fieldName:u,itemIndex:m}=e.getCurrent(),d=i.getJsonRows(),k=d.length-1;switch(o.key){case"Enter":if(e.commit(),u===e._view._columns.columns[e._view._columns.columns.length-1]._fieldName)t.Grid.fEnterLastField(e,m,r,q()===0),s.commit();else if(e.getDataSource().getValue(m,u)&&Le.includes(u)){e.commit();const F=e.getValue(m,u);let N={};if(t.Common.fEmptyReturn(F)&&u==="GoodNo"){e.commit();const le=t.CodeHelper.fRedefHelper(t.CodeHelper.helperProtypeNm,{iInId:"AD11",iInCode1:"001",iInCode2:T.user.factory,iInCode3:t.Common.fTrim(e.getValue(e.getCurrent().itemIndex,"GoodNo"))});if(s.commit(),N=await t.Grid.gridCodeClass(e.getCurrent(),le,S,F,!1),!N.visible){s.commit(),t.Grid.fSetMultiDataProvider(i,m,{GoodNo:N.res.goodno,GoodCd:N.res.goodcd,GoodCdNm:N.res.goodnm,UnitCdNm:N.res.inunitnm,Spec:N.res.spec,Kgperm:N.res.kgperm,Priceunit:N.res.priceunit,StockUnitCd:N.res.stockunit,UnitCd:N.res.inunit});const ct=await Ee(i,m,N.res.goodcd);i.setValue(m,"Price",ct)}}let ne=0;N.datas[0].map(le=>{ne+=Number(le.Size)}),j.current=ne<470?470:ne+300,H(N),s.commit()}e.setFocus(),s.validateCells(),s.commit();break;case"Escape":t.Grid.fEscape(e,m,r,"NO"),I();break;case"Insert":t.Grid.fKeyInsert(e,m,q(m)===0,"NO");break;case"ArrowDown":t.Grid.fArrowDown(e,m,r,q(m)===0,"NO"),s.validateCells();break;case"ArrowUp":d[k].GoodNo||d[k].BalQty||t.Grid.fArrowUp(e,m,r,q(m)>0);break;case"Tab":o.preventDefault(),R.current?setTimeout(()=>{document.getElementById(t.Common.fMakeId("CustCdNm")).focus()},0):(setTimeout(()=>{document.getElementById(t.Common.fMakeId("BalDate")).focus()},0),s.commit(),s.clearCurrent());break;case(o.ctrlKey&&" "):ye(e,{fieldName:u});break}},q=e=>{s.commit();const o=i.getAllStateRows().created;if(o.length>0){let r=0;return o.map(u=>{if(e===void 0||u>=e){const m=s.getValues(u);for(let d=0;d<Object.keys(v).length;d++)Object.getOwnPropertyDescriptor(m,`${Object.keys(v)[d]}`)!=null&&(Object.getOwnPropertyDescriptor(m,`${Object.keys(v)[d]}`).value||(r+=1),Object.getOwnPropertyDescriptor(m,`${Object.keys(v)[d]}`).value===void 0&&(r+=1))}}),r}return 0},he=()=>{i.clearRows(),E.clearCurrent(),s.clearCurrent(),t.Grid.fNewRow(i,{NO:"001"})},Qe=()=>{if(we==="D"){s.commit();const{dataRow:e,column:o}=z.selectedData;if(o==="GoodCdNm")try{y.Parameter.map((r,u)=>{s.getDataSource().getRowCount()<=u+e&&s.getDataSource().addRow([]),t.Grid.fSetMultiDataProvider(i,e+u,{GoodCdNm:y.Parameter[u].Goodnm,Spec:y.Parameter[u].Spec,GoodNo:y.Parameter[u].Goodno,GoodCd:y.Parameter[u].Goodcd,Kgperm:y.Parameter[u].Goodcd,Priceunitnm:y.Parameter[u].Priceunitnm,Priceunit:y.Parameter[u].Priceunit,Stockunitnm:y.Parameter[u].Unitnm,UnitCdNm:y.Parameter[u].Unitnm,UnitCd:y.Parameter[u].unitcd,StockUnitCd:y.Parameter[u].stockunit?y.Parameter[u].stockunit:y.Parameter[u].unitcd,Jukyocd:y.Parameter[u].Jukyocd,Jukyonm:y.Parameter[u].Jukyonm,Weight:y.Parameter[u].Weight})})}catch{x({visible:!0,desc:"\uD488\uBAA9\uC744 \uC120\uD0DD\uD574\uC8FC\uC138\uC694.",type:"W"});return}s.commit(),s.validateCells(),pe({visible:!1,selectedData:{},id:"",viewId:"",searchValue:""}),s.setFocus(),y.fSetParameter("")}},je=async()=>{s.commit();const e=y.Codeclass.selData,{column:o,dataRow:r}=w.selectedData;if(o==="GoodNo"||o==="GoodCdNm"){t.Grid.fSetMultiDataProvider(i,r,{GoodNo:e.goodno,GoodCd:e.goodcd,GoodCdNm:e.goodnm,UnitCdNm:e.inunitnm,Goodtype:e.goodtype,Spec:e.spec,Kgperm:e.kgperm,Priceunit:e.priceunit,StockUnitCd:e.stockunit?e.stockunit:e.unitcd,UnitCd:e.inunit});const u=await Ee(i,r,e.goodcd);i.setValue(r,"Price",u)}s.commit(),s.validateCells(),H({visible:!1,desc:"",value:"",datas:{},selectedData:{},id:"",viewId:""}),s.setFocus()},$e=()=>{s.setFocus(),Y("D"),H({visible:!1})},J=(e,o)=>{o==="fr"?t.Common.fFieldChange(g,"SchFrDate",e):t.Common.fFieldChange(g,"SchToDate",e)},ae=async()=>{s.commit(),te(),he(),t.Grid.fNewRow(i,{NO:"001"}),E.clearCurrent(),s.clearCurrent(),A.current="",$.current=new Date,V.current=new Date,R.current="",M.current="",_.current="\uACB0\uC7AC",setTimeout(()=>{Ue.focus()},100)},X=async()=>{if(te(),he(),s.commit(),t.Common.fValidate(!B(p.SchFrDate,"YYYY-MM-DD").isValid()||!B(p.SchToDate,"YYYY-MM-DD").isValid(),"\uC870\uD68C\uAE30\uAC04\uC744 \uBC14\uB974\uAC8C \uC785\uB825\uD574 \uC8FC\uC138\uC694.")||t.Common.fValidate(B(p.SchFrDate).format("YYYYMMDD")>B(p.SchToDate).format("YYYYMMDD"),"\uC870\uD68C\uAE30\uAC04\uC744 \uD655\uC778\uD574 \uC8FC\uC138\uC694."))return;const e={...p};if(V.current){const o=B(V.current).format("YYYY-MM-DD"),r=B(p.SchFrDate).format("YYYY-MM-DD"),u=B(p.SchToDate).format("YYYY-MM-DD");o<r?(e.SchFrDate=B(o).format("YYYYMMDD"),J(V.current,"fr")):o>u&&(e.SchToDate=B(o).format("YYYYMMDD"),J(V.current,"to"))}e.SchFrDate=B(e.SchFrDate).format("YYYYMMDD"),e.SchToDate=B(e.SchToDate).format("YYYYMMDD"),e.SchWriting=_.current==="\uACB0\uC7AC \xB7 \uC9C4\uD589\uC911"?"N":p.SchWriting,e.SchAccunit=T.user.accunit,e.SchFactory=T.user.factory,e.schPno=T.user.userid,await t.Command.fSearch(b,"/@api/purchase/orderMaterial/selectByList",e,"\uBC1C\uC8FC\uC790\uB8CC\uC785\uB825 \uBAA9\uB85D"),document.getElementById(t.Common.fMakeId("SchText")).focus(),V.current=""},Te=async()=>{i.clearRows();let e=[];try{if(e=(await G.get("/@api/purchase/orderMaterial/selectByDetailList",{params:{SchOrderMaterialNo:A.current,SchAccunit:T.user.accunit,SchFactory:T.user.factory,UserId:T.user.userid,CustCd:C.CustCd}})).data.dList,e===void 0||e.length<1)t.Grid.fNewRow(i,{No:"001"});else{for(let r=0;r<e.length;r++)for(const[u,m]of Object.entries(e[r]))e[r][u]=t.Common.fTrim(m);i.setRows(e),e.forEach(r=>r.Weight=Number(r.Weight))}s.clearCurrent()}catch{x({visible:!0,desc:"\uC0C1\uC138\uB0B4\uC5ED \uC870\uD68C\uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4.",type:"E"})}s.commit(),s.validateCells()},ge=async()=>{try{se(!0);const e=await G.get("/@api/purchase/orderMaterial/print01",{params:{factory:T.user.factory,accunit:T.user.accunit,balNo:A.current}}),o='{ "data" :'+JSON.stringify(e.data)+"}";t.Report.fReport(o,"/\uBC1C\uC8FC\uC11C.mrd","http://report.ehansun.co.kr/ReportingServer","http://hseerp.ehansun.co.kr/report")}catch{x({visible:!0,desc:"\uC790\uB8CC \uC870\uD68C\uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4.",type:"W"})}},Ne=()=>{const e=i.getJsonRows();let o=0,r=0,u=0;if(e.forEach(d=>{o+=d.Weight,r+=d.Amount,u+=d.Tax}),Math.round(o*100)/100!==Math.round(C.TotalWeight*100)/100||r!==C.TotalAmt||u!==C.ToTalVat){x({visible:!0,desc:"\uD5E4\uB354\uC790\uB8CC\uC640 \uC544\uC774\uD15C\uC758 \uD569\uACC4 \uC790\uB8CC\uAC00 \uC77C\uCE58\uD558\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4."});return}t.Common.fValidate(!C.Vatcd,"\uACC4\uC0B0\uC11C\uAD6C\uBD84\uC774 \uC81C\uB300\uB85C \uC785\uB825\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4")||t.Common.fValidate(!C.CustCd,"\uAC70\uB798\uCC98\uBA85\uC774 \uC81C\uB300\uB85C \uC785\uB825\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4")||t.Common.fValidate(!C.DeptCd,"\uBD80\uC11C\uBA85\uC774 \uC81C\uB300\uB85C \uC785\uB825\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4")||t.Common.fValidate(!C.URGENCY,"\uBC1C\uC8FC\uAD6C\uBD84\uC774 \uC81C\uB300\uB85C \uC785\uB825\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4")||t.Common.fValidate(!B(C.BalDate,"YYYY-MM-DD").isValid(),"\uBC1C\uC8FC\uC77C \uC81C\uB300\uB85C \uC785\uB825\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.")||(V.current===""&&(V.current=C.BalDate),s.commit(),s.validateCells(),W({visible:!0,desc:"\uC800\uC7A5 \uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?",id:"SAVE"}))},Ze=async()=>{const e={...C};e.BalDate=B(C.BalDate).format("YYYYMMDD"),e.Delvdate=B(C.Delvdate).format("YYYYMMDD"),e.RateDay=B(C.RateDay).format("YYYY-MM-DD"),e.Accunit=T.user.accunit,e.Factory=T.user.factory,e.UserId=T.user.userid;let o=[],r=[];const u=t.Grid.fCheckGridData(i,o,v,"\uBC1C\uC8FC\uC790\uB8CC\uC785\uB825 \uC0C1\uC138");if(!(t.Grid.fCheckGridData(b,r,v,"\uBC1C\uC8FC\uC790\uB8CC\uC785\uB825 HeaderVO")!==void 0||u!==void 0))try{const d=await G.post("/@api/purchase/orderMaterial/updateByList",{header:e,detail:o,headerTable:r});if(d.data.errmess!==""){x({visible:!0,desc:d.data.errmess,type:"E"});return}x({visible:!0,desc:"\uBB38\uC11C \uC800\uC7A5\uC774 \uC644\uB8CC\uB418\uC5C8\uC2B5\uB2C8\uB2E4."});const k=d.data.BalNo.trim();X().then(()=>{const F=b.searchData({fields:["BalNo"],value:k,partialMatch:!0});F!=null&&E.setCurrent({dataRow:F.dataRow,column:0})})}catch(d){x({visible:!0,desc:`\uC800\uC7A5 \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4.${d}`})}},Be=async()=>{s.commit();const e=s.getCheckedItems(!0).length;t.Common.fValidate(!C.BalNo,"\uBC1C\uC8FC\uC790\uB8CC \uBAA9\uB85D\uC774 \uC120\uD0DD\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.")||(s.commit(!0),e>=1?W({visible:!0,desc:`${R.current} \uBC1C\uC8FC \uC0C1\uC138\uB0B4\uC5ED\uC744 \uC0AD\uC81C \uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?`,id:"DELETE_ITEM"}):W({visible:!0,desc:`\uC8FC\uC758) ${R.current} \uBC1C\uC8FC \uBB38\uC11C\uB97C \uC0AD\uC81C \uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?`,id:"DELETE"}))},et=async()=>{const e={...C};e.Accunit=T.user.accunit,e.Factory=T.user.factory,e.useridPno=T.user.userid;try{let o=await G.post("/@api/purchase/orderMaterial/deleteByList",{data:e});if(o.data.errmess!==""){x({visible:!0,desc:o.data.errmess,type:"E"});return}return x({visible:!0,desc:"\uBC1C\uC8FC\uC790\uB8CC \uBB38\uC11C\uAC00 \uC0AD\uC81C\uB418\uC5C8\uC2B5\uB2C8\uB2E4"}),o.data.status=!0,o.data}catch{return x({visible:!0,desc:"\uBC1C\uC8FC\uC790\uB8CC \uBB38\uC11C \uC0AD\uC81C \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4."}),!1}},tt=async()=>{const e={...C};e.Accunit=T.user.accunit,e.Factory=T.user.factory,e.useridPno=T.user.userid,await t.Command.fDeleteCheckItem(s,i,"/@api/purchase/orderMaterial/deleteByItem",e,"\uBC1C\uC8FC\uC790\uB8CC\uC785\uB825 \uC0C1\uC138\uB0B4\uC5ED"),await Te()},at=async()=>{if(W({visible:!1,desc:"",id:""}),O.id==="SAVE")Ze();else if(O.id==="DELETE"){const e=await et();e.errmess||await t.Command.fDeleteFiles("OD",e.List),ae(),X()}else O.id==="DELETE_ITEM"&&tt()},ot=()=>W({visible:!1,desc:"",id:""}),rt=()=>de(!1),ut=()=>{s.commit(),!t.Common.fValidate(t.Common.fEmptyReturn(R.current)==="",`\uBC1C\uC8FC\uBC88\uD638\uAC00 \uC120\uD0DD\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4. 
\uD655\uC778\uD574 \uC8FC\uC2ED\uC2DC\uC624.`)&&de(!0)},nt=async(e,o,r)=>{const u=i.getValue(e,"GoodCd");if(u!=="")try{const m=await G.get("/@api/purchase/purchaseStorage/searchConvertValue",{params:{SchGoodcd:u,SchConvertUnit:r,SchConvertValue:o}});if(!m.data)return;r==="M"&&(i.setValue(e,"Weight",m.data.returnValue),i.setValue(e,"Su",o)),r==="Kg"&&(i.setValue(e,"Su",o),i.setValue(e,"Weight",m.data.returnValue)),ue(e),I(),s.validateCells()}catch{x({visible:!0,desc:"\uB2E8\uC704 \uD658\uC0B0 \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4.",type:"E"})}},L=(e,o,r)=>{if(!y.fGetBinding())switch(e){case"schCustNm":t.Common.fMultiFieldChange(g,{schCustCd:o,SchCustCdNm:r});break;case"CustCdNm":if(t.Common.fMultiFieldChange(D,{CustCd:o,CustCdNm:r}),!s)return;o&&(M.current=o,Se());break;case"DeptCDNm":t.Common.fMultiFieldChange(D,{DeptCd:o,DeptCDNm:r});break;case"PnoNm":t.Common.fMultiFieldChange(D,{Pno:o,PnoNm:r});break;case"URGENCYNM":t.Common.fMultiFieldChange(D,{URGENCY:o,URGENCYNM:r});break;case"VatNm":if(t.Common.fMultiFieldChange(D,{Vatcd:o,VatNm:r}),De(o),!s)return;xe(),I(),s.commit();break}},oe=(e,o)=>{y.fGetBinding()||o&&g({...p,SchWriting:e})},lt=e=>{const o=p.SchWriting;e.shiftKey&&e.keyCode==9?(e.preventDefault(),document.getElementById(t.Common.fMakeId("SchToDate")).focus()):e.key==="ArrowRight"?(o==="Y"&&g({...p,SchWriting:"N"}),o==="N"&&g({...p,SchWriting:"Y"})):e.key==="ArrowLeft"?(o==="N"&&g({...p,SchWriting:"Y"}),o==="Y"&&g({...p,SchWriting:"N"})):e.key==="Tab"&&(e.preventDefault(),document.getElementById(t.Common.fMakeId("radioBox2")).focus())},re=(e,o)=>{o&&g({...p,schClastype:e})},it=e=>{const o=p.schClastype;e.shiftKey&&e.keyCode==9?(e.preventDefault(),document.getElementById(t.Common.fMakeId("radioBox")).focus()):e.key==="ArrowRight"?(o==="0"&&g({...p,schClastype:"1"}),o==="1"&&g({...p,schClastype:"2"}),o==="2"&&g({...p,schClastype:"0"})):e.key==="ArrowLeft"?(o==="0"&&g({...p,schClastype:"2"}),o==="1"&&g({...p,schClastype:"0"}),o==="2"&&g({...p,schClastype:"1"})):e.key==="Tab"&&(e.preventDefault(),document.getElementById(t.Common.fMakeId("schCustNm")).focus())},st=e=>{_.current=e,X().then(()=>{oe("N","checked");const o=b.searchData({fields:["BalNo"],value:R.current,partialMatch:!0});o!=null&&E.setCurrent({dataRow:o.dataRow,column:0})})},mt=()=>{pe({visible:!1,selectedData:{},id:"",viewId:"",value:""}),setTimeout(()=>{y.fSetParameter("")},10)},Ct=()=>{String(C.TotalWeight).length>17&&t.Common.fFieldChange(D,"TotalWeight",1e17),String(C.ToTalVat).length>17&&t.Common.fFieldChange(D,"ToTalVat",1e17),String(C.TotalAmt).length>17&&t.Common.fFieldChange(D,"TotalAmt",1e17)},xe=()=>{const e=i.getJsonRows();s.commit(),e.forEach((o,r)=>{const u=i.getValue(r,"Weight"),m=i.getValue(r,"Price");i.setValue(r,"Amount",Math.round(u*m));const d=i.getValue(r,"Amount");d*P.current==1/0?i.setValue(r,"Tax",0):i.setValue(r,"Tax",Math.round(d*P.current));const k=i.getValue(r,"Tax");i.setValue(r,"Okamt",k+d)})},ue=e=>{if(!i)return;const o=i.getValue(e,"Weight"),r=i.getValue(e,"Price");i.setValue(e,"Amount",Math.round(o*r));const u=o*r;u*P.current==1/0?i.setValue(e,"Tax",0):i.setValue(e,"Tax",Math.round(u*P.current)),i.setValue(e,"Okamt",i.getValue(e,"Tax")+u)},I=()=>{t.Common.fMultiFieldChange(D,{ToTalVat:K(i.getJsonRows(),"Tax"),TotalAmt:K(i.getJsonRows(),"Amount")*ve.current,orderqty:K(i.getJsonRows(),"Weight"),TotalWeight:K(i.getJsonRows(),"Weight"),TotalOkAmt:K(i.getJsonRows(),"Okamt")})},K=(e,o)=>{let r=0;for(let u in e){let m=Object.getOwnPropertyDescriptor(e[u],`${o}`).value;isNaN(m)&&(m=0),r+=m}return r},De=e=>{e==103011||e==103015?P.current=.1:P.current=0},Ee=async(e,o,r)=>{try{const m=(await G.get("/@api/purchase/orderMaterial/findGoodPrice",{params:{custCd:M.current,goodCd:r,accunit:T.user.accunit}})).data[0].Price;return s.commit(),m}catch(u){if(u.response&&u.response.status===404){x({visible:!0,desc:u.response});return}else return}},Se=async()=>{if(t.Common.fEmptyReturn(M.current)){const e=i.getJsonRows(),o=[];e.forEach(u=>{const m=[];m.push(u.GoodCd),m.push(u.Price),o.push(m)});let r={arr:o};try{(await G.get("/@api/purchase/orderMaterial/findGoodPrice2",{params:{items:r,accunit:T.user.accunit,custCd:M.current}})).data.forEach((m,d)=>{i.setValue(d,"Price",m.price)}),xe(),I()}catch(u){if(u.response&&u.response.status===404){x({visible:!0,desc:u.response});return}}}else return x({visible:!0,desc:"\uAC70\uB798\uCC98\uBA85\uC744 \uC9C0\uC815\uD558\uC9C0 \uC54A\uC544 \uAC00\uACA9\uC744 \uC5C5\uB370\uC774\uD2B8 \uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.",type:"W"}),!1};return f.exports.useEffect(()=>{t.Common.fHotKey(y,y.isPopup,ae,X,Ne,Be,ge)},[y.HotKey]),f.exports.useEffect(()=>(Oe(),We(),ze(),setTimeout(()=>{document.getElementById(t.Common.fMakeId("SchFrDate")).focus()},1),()=>{y.fSetHotKey()}),[]),a.createElement(a.Fragment,null,a.createElement(xt,{pgmid:S,onNew:ae,onSearch:X,onSave:Ne,onDelete:Be,onPrint:ge,onAttachment:ut}),a.createElement(Ae,{className:"mainCon"},a.createElement(h.exports.Layout,{style:{width:"100%",height:"100%"}},a.createElement(h.exports.LayoutPanel,{region:"west",split:!0,style:{minWidth:340,maxWidth:450,width:440,height:775}},a.createElement(Ae,null,a.createElement(l,{display:"flex",alignItems:"center",style:{marginTop:5,marginLeft:5}},a.createElement(l,{style:{marginTop:0,display:"flex",alignItems:"center"}},a.createElement(l,{className:c.SA1},a.createElement(l,{className:c.SA2},"\uAE30\uAC04")),a.createElement(l,{style:{display:"flex",alignItems:"center",marginLeft:5},onKeyDown:e=>{e.shiftKey&&e.keyCode==9&&(e.preventDefault(),E.setFocus())}},a.createElement(ie,{inputCls:"inputCls",selected:p.SchFrDate,id:t.Common.fMakeId("SchFrDate"),inputId:t.Common.fMakeId("SchFrDate"),onHandleDateChange:e=>J(e,"fr")}),a.createElement(l,{style:{margin:"0 3px",width:"10px"}},"~"),a.createElement(l,{onKeyDown:e=>{e.shiftKey&&e.keyCode==9?(e.preventDefault(),setTimeout(()=>{document.getElementById(t.Common.fMakeId("SchFrDate")).focus()},10)):e.keyCode===9&&(e.preventDefault(),document.getElementById(t.Common.fMakeId("radioBox")).focus())}},a.createElement(ie,{inputCls:"inputCls",selected:p.SchToDate,inputId:t.Common.fMakeId("SchToDate"),onHandleDateChange:e=>J(e,"to")}))))),a.createElement(l,{style:{marginLeft:5,display:"flex",alignItems:"center",marginTop:3}},a.createElement(l,{className:c.SA1},a.createElement(l,{className:c.SA2},"\uACB0\uC7AC\uC0C1\uD0DC")),a.createElement(l,{id:t.Common.fMakeId("radioBox"),onKeyDown:e=>{lt(e)},className:"inputCls",style:{display:"flex",flexDirection:"row",border:"1px solid #9ac9ed",borderRadius:5,height:25,width:235.82,alignItems:"center",marginLeft:5}},a.createElement(l,{style:{marginLeft:5}},a.createElement(h.exports.RadioButton,{style:{width:15,height:15},inputId:t.Common.fMakeId("notcomplated"),value:"Y",groupValue:p.SchWriting,onChange:e=>oe("Y",e),inputCls:"inputCls"}),a.createElement(h.exports.Label,{htmlFor:t.Common.fMakeId("notcomplated"),style:{marginLeft:5,fontSize:12}},"\uC791\uC131\uC911+\uBC18\uB824")),a.createElement(l,{style:{marginLeft:25}},a.createElement(h.exports.RadioButton,{style:{width:15,height:15},inputId:t.Common.fMakeId("all"),value:"N",groupValue:p.SchWriting,onChange:e=>oe("N",e),inputCls:"inputCls"}),a.createElement(h.exports.Label,{htmlFor:t.Common.fMakeId("all"),style:{marginLeft:5,fontSize:12}},"\uC804\uCCB4")))),a.createElement(l,{style:{marginLeft:5,display:"flex",alignItems:"center",marginTop:3}},a.createElement(l,{className:c.SA1},a.createElement(l,{className:c.SA2},"\uB9C8\uAC10\uC0C1\uD0DC")),a.createElement(l,{id:t.Common.fMakeId("radioBox2"),onKeyDown:e=>{it(e)},className:"inputCls",style:{display:"flex",flexDirection:"row",border:"1px solid #9ac9ed",borderRadius:5,height:25,width:235.82,alignItems:"center",marginLeft:5}},a.createElement(l,{style:{marginLeft:5}},a.createElement(h.exports.RadioButton,{style:{width:15,height:15},inputId:t.Common.fMakeId("r0"),value:"0",groupValue:p.schClastype,onChange:e=>re("0",e),inputCls:"inputCls"}),a.createElement(h.exports.Label,{htmlFor:t.Common.fMakeId("r0"),style:{marginLeft:5,fontSize:12,width:45}},"\uC804\uCCB4")),a.createElement(l,{style:{marginLeft:15}},a.createElement(h.exports.RadioButton,{style:{width:15,height:15},inputId:t.Common.fMakeId("r1"),value:"1",groupValue:p.schClastype,onChange:e=>re("1",e),inputCls:"inputCls"}),a.createElement(h.exports.Label,{htmlFor:t.Common.fMakeId("r1"),style:{marginLeft:5,fontSize:12,width:45}},"\uBBF8\uACB0")),a.createElement(l,{style:{marginLeft:15}},a.createElement(h.exports.RadioButton,{style:{width:15,height:15},inputId:t.Common.fMakeId("r2"),value:"2",groupValue:p.schClastype,onChange:e=>re("2",e),inputCls:"inputCls"}),a.createElement(h.exports.Label,{htmlFor:t.Common.fMakeId("r2"),style:{marginLeft:5,fontSize:12,width:45}},"\uC644\uB8CC")))),a.createElement(l,{style:{marginLeft:5,marginTop:5}},a.createElement(U,{title:"\uAC70\uB798\uCC98\uBA85",inputCls:"inputCls",pgmid:S,inputType:"Cust",id:"schCustNm",helper:t.CodeHelper.helperCust,ComponentCode:p.schCustCd,ComponentValue:p.schCustNm,SetValue:L,labelStyles:{width:70,height:25,margin:"0px 3px 5px 3px",padding:5,fontSize:12,display:"flex",alignItems:"center",fontWeight:600},inputStyles:{width:236,margin:"0px 0px 5px 5px"}})),a.createElement(l,{style:{paddingLeft:5,marginTop:2,display:"flex",alignItems:"center"}},a.createElement(l,{className:c.SA1},a.createElement(l,{className:c.SA2},"\uAC80\uC0C9")),a.createElement(h.exports.ComboBox,{inputCls:"inputCls",inputId:t.Common.fMakeId("cboSchType"),data:Ge,value:p.cboSchType,editable:!1,onChange:e=>t.Common.fFieldChange(g,"cboSchType",e),onSelectionChange:e=>{t.Common.fGridSort(E,e.value,{0:"ApprDocProg",1:"BalDate",2:"BalNo",3:"CustCdNm"})},panelStyle:{height:130},className:c.SA4,style:{width:80,marginLeft:5}}),a.createElement(l,{onKeyDown:e=>{e.shiftKey&&e.keyCode==9?(e.preventDefault(),document.getElementById(t.Common.fMakeId("cboSchType")).focus()):e.key==="Tab"&&(e.preventDefault(),E.setFocus())}},a.createElement(h.exports.TextBox,{inputCls:"inputCls",inputId:t.Common.fMakeId("SchText"),className:c.SA5,onChange:e=>{t.Common.fFieldChange(g,"SchText",e),E.commit(),t.Common.fSearchMatch(E,b,p.cboSchType,{0:"ApprDocProg",1:"BalDate",2:"BalNo",3:"CustCdNm"},e)},value:p.SchText,style:{width:151}}))),a.createElement(l,{ref:me,id:t.Common.fMakeId("Grid1"),style:{width:"100%",height:596,marginTop:5}}))),a.createElement(h.exports.LayoutPanel,{region:"center",style:{width:1280,height:775}},a.createElement(l,{style:{display:"flex",height:220}},a.createElement(h.exports.Form,{style:{maxWidth:"100%"},model:C,rules:Ye},a.createElement(l,{style:{width:"100%",height:"100%",borderRadius:"5px",display:"flex",flexDirection:"row",padding:5}},a.createElement(l,{style:{marginTop:0,display:"flex",flexDirection:"column"}},a.createElement(l,{style:{marginTop:0,display:"flex",alignItems:"center"}},a.createElement(l,{className:c.SC1,style:{marginLeft:5}},a.createElement(l,{className:c.SC2},"\uACF5\uC7A5\uBA85")),a.createElement(l,{onKeyDown:e=>{e.shiftKey&&e.keyCode===9&&(e.preventDefault(),s.setFocus())}},a.createElement(h.exports.TextBox,{inputId:t.Common.fMakeId("Factorynm"),inputCls:"inputCls",name:"Factorynm",value:T.user.factorynm,editable:!1,className:c.textBoxMatchPickDateBox}))),a.createElement(l,{style:{marginTop:4,display:"flex",alignItems:"center"}},a.createElement(l,{className:c.SC1,style:{marginLeft:5}},a.createElement(l,{className:c.SC2,id:t.Common.fMakeId("BalDateLabel")},"\uBC1C\uC8FC\uC77C")),a.createElement(ie,{inputCls:"inputCls",selected:C.BalDate,inputId:t.Common.fMakeId("BalDate"),disabled:!!A.current,onHandleDateChange:e=>{t.Common.fFieldChange(D,"BalDate",e),V.current=e},style:{width:110}})),a.createElement(l,{style:{marginTop:4,display:"flex",alignItems:"center"}},a.createElement(l,{className:c.SC1,style:{marginLeft:5}},a.createElement(l,{className:c.SC2,id:t.Common.fMakeId("BalDateLabel")},"\uBC1C\uC8FC\uBC88\uD638")),a.createElement(h.exports.TextBox,{inputCls:"inputCls",name:"BalNo",inputId:t.Common.fMakeId("BalNo"),value:C.BalNo,onChange:e=>t.Common.fFieldChange(D,"BalNo",e),editable:!1,className:c.textBoxMatchPickDateBox,disabled:!0})),a.createElement(U,{ComponentCode:C.CustCd,ComponentValue:C.CustCdNm,helper:t.CodeHelper.helperCust,id:"CustCdNm",inputCls:"inputCls",inputRequired:!0,inputType:"Cust",labelStyles:{width:90,height:25,margin:"0px 10px 5px 5px",padding:5,fontSize:12,display:"flex",alignItems:"center",fontWeight:600},inputStyles:{width:150,margin:"4px 0px 5px 0px"},pgmid:S,SetValue:L,title:"\uAC70\uB798\uCC98\uBA85"}),a.createElement(U,{title:"\uBD80\uC11C\uBA85",inputCls:"inputCls",pgmid:S,inputType:"Dept",id:"DeptCDNm",helper:t.CodeHelper.helperDeptNm,ComponentCode:C.DeptCd,ComponentValue:C.DeptCDNm,SetValue:L,labelStyles:{width:90,height:25,margin:"0px 10px 5px 5px",padding:5,fontSize:12,display:"flex",alignItems:"center",fontWeight:600},inputStyles:{width:150,margin:"3px 0px 5px 0px"}}),a.createElement(U,{inputCls:"inputCls",pgmid:S,inputType:"Pno",id:"PnoNm",title:"\uC0AC\uC6D0\uBA85",helper:t.CodeHelper.helperPnoNm2,ComponentCode:C.Pno,ComponentValue:C.PnoNm,SetValue:L,labelStyles:{width:90,height:25,margin:"0px 10px 5px 5px",padding:5,fontSize:12,display:"flex",alignItems:"center",fontWeight:600},inputStyles:{width:150,margin:"3px 0px 5px 0px"}})),a.createElement(l,{style:{marginTop:0,display:"flex",flexDirection:"column"}},a.createElement(l,{style:{marginTop:0,display:"flex",flexDirection:"row"}},a.createElement(l,{style:{marginTop:30,display:"flex",flexDirection:"column"}},a.createElement(U,{title:"\uBC1C\uC8FC\uAD6C\uBD84",id:"URGENCYNM",inputCls:"inputCls",pgmid:S,inputType:"notListed",helper:t.CodeHelper.UrgencyNm,ComponentCode:C.URGENCY,ComponentValue:C.URGENCYNM,SetValue:L,labelStyles:{width:90,height:25,margin:"0px 10px 5px 10px",padding:5,fontSize:12,display:"flex",alignItems:"center",fontWeight:600},inputStyles:{width:150,margin:"5px 0px 5px 0px"},inputRequired:!0}),a.createElement(U,{inputCls:"inputCls",pgmid:S,inputType:"notListed",id:"VatNm",title:"\uACC4\uC0B0\uC11C\uAD6C\uBD84",helper:t.CodeHelper.helperExpenseVatNm,ComponentCode:C.Vatcd,ComponentValue:C.VatNm,SetValue:L,labelStyles:{width:90,height:25,margin:"0px 10px 5px 10px",padding:5,fontSize:12,display:"flex",alignItems:"center",fontWeight:600},inputStyles:{width:150,margin:"3px 0px 5px 0px"},inputRequired:!0}),a.createElement(l,{style:{marginTop:3,display:"flex",alignItems:"center",davNoteNm:"\uACC4\uC57D\uBC88\uD638-??????"}},a.createElement(l,{className:c.SC1},a.createElement(l,{className:c.SC2},"\uACC4\uC57D\uBC88\uD638")),a.createElement(h.exports.TextBox,{inputCls:"inputCls",placeholder2:"",placeholder3:"",inputId:t.Common.fMakeId("ContractNo"),className:c.textBoxMatchPickDateBox,value:C.ContractNo,onChange:e=>t.Common.fFieldChange(D,"ContractNo",e)})),a.createElement(l,{style:{marginTop:3,display:"flex",alignItems:"center",davNoteNm:"\uAD00\uB9AC\uBC88\uD638-FileNo"}},a.createElement(l,{className:c.SC1},a.createElement(l,{className:c.SC2},"\uAD00\uB9AC\uBC88\uD638")),a.createElement(h.exports.TextBox,{inputCls:"inputCls",inputId:t.Common.fMakeId("FileNo"),className:c.textBoxMatchPickDateBox,onChange:e=>{t.Common.fFieldChange(D,"FileNo",e)},value:C.FileNo,disabled:!0}))),a.createElement(l,{style:{marginTop:30,display:"flex",flexDirection:"column"}},a.createElement(l,{style:{marginTop:5,display:"flex",alignItems:"center",davNoteNm:"\uACF5\uAE09\uAC00\uC561-TotalAmt"}},a.createElement(l,{className:c.SC1},a.createElement(l,{className:c.SC2},"\uACF5\uAE09\uAC00\uC561")),a.createElement(h.exports.NumberBox,{inputId:t.Common.fMakeId("TotalAmt"),name:"TotalAmt",value:C.TotalAmt,groupSeparator:",",precision:0,spinners:!1,className:c.textBoxMatchPickDateBox,inputStyle:{textAlign:"right"},onChange:()=>{},disabled:!0})),a.createElement(l,{style:{marginTop:5,display:"flex",alignItems:"center",davNoteNm:"VAT-ToTalVat"}},a.createElement(l,{className:c.SC1},a.createElement(l,{className:c.SC2},"\uBD80\uAC00\uC138")),a.createElement(h.exports.NumberBox,{name:"ToTalVat",inputId:t.Common.fMakeId("ToTalVat"),value:C.ToTalVat,groupSeparator:",",precision:0,spinners:!1,className:c.textBoxMatchPickDateBox,inputStyle:{textAlign:"right"},disabled:!0})),a.createElement(l,{style:{marginTop:5,display:"flex",alignItems:"center",davNoteNm:"VAT-ToTalVat"}},a.createElement(l,{className:c.SC1},a.createElement(l,{className:c.SC2},"\uD569\uACC4\uAE08\uC561")),a.createElement(h.exports.NumberBox,{name:"TotalOkAmt",inputId:t.Common.fMakeId("TotalOkAmt"),value:C.TotalOkAmt,groupSeparator:",",precision:0,spinners:!1,className:c.textBoxMatchPickDateBox,inputStyle:{textAlign:"right"},disabled:!0})),a.createElement(l,{style:{marginTop:3,display:"flex",alignItems:"center"}},a.createElement(l,{className:c.SC1},a.createElement(l,{className:c.SC2},"\uBC1C\uC8FC\uB7C9")),a.createElement(h.exports.NumberBox,{name:"TotalWeight",inputId:t.Common.fMakeId("orderqty"),value:C.TotalWeight,groupSeparator:",",precision:2,spinners:!1,className:c.textBoxMatchPickDateBox,inputStyle:{textAlign:"right"},disabled:!0})))),a.createElement(l,{style:{marginTop:0,display:"flex",flexDirection:"row"}},a.createElement(l,{style:{marginTop:5,display:"flex",alignItems:"center"},onKeyDown:e=>{e.shiftKey&&e.key==="Tab"?(e.preventDefault(),document.getElementById(t.Common.fMakeId("VatNm")).focus()):e.key==="Tab"&&(e.preventDefault(),Z.current.focus())}},a.createElement(l,{className:c.SC1},a.createElement(l,{className:c.SC2},"\uBE44\uACE0")),a.createElement(h.exports.TextBox,{placeholder:"\uCD5C\uB30060\uC790",inputCls:"inputCls",inputId:t.Common.fMakeId("Remark"),className:c.textBoxMatchPickDateBox,onChange:e=>t.Common.fFieldChange(D,"Remark",e),value:C.Remark,style:{width:410}}))))))),a.createElement(l,{style:{height:40,backgroundColor:"#fff3d3",display:"flex",flexDirection:"row",alignItems:"center"},id:t.Common.fMakeId("refPriceButton"),onKeyDown:e=>{e.shiftKey&&e.key==="Tab"?(e.preventDefault(),document.getElementById(t.Common.fMakeId("Remark")).focus()):e.key==="Tab"&&(e.preventDefault(),s.setFocus())}},a.createElement(h.exports.LinkButton,{ref:Z,iconCls:"icon-search",style:{width:120,height:34,color:"#424242",borderRadius:3,marginLeft:10},onClick:Se},a.createElement(l,{style:{display:"flex",alignItems:"center",justifyContent:"center"}},a.createElement(l,{style:{marginLeft:5,fontSize:14,paddingBottom:2,fontWeight:500}},"\uC9C1\uC804\uB2E8\uAC00\uC870\uD68C")))),a.createElement(l,{onKeyDown:e=>{e.shiftKey&&e.key==="Tab"&&setTimeout(()=>{Z.current.focus()},10)}},a.createElement(l,{ref:Ce,id:t.Common.fMakeId("Grid2"),style:{width:"100%",height:510,marginTop:3}}))),a.createElement(h.exports.LayoutPanel,{region:"east",title:_.current,collapsible:!0,collapsed:!0,expander:!0,style:{width:410}},a.createElement(l,{style:{marginTop:10}},a.createElement(Dt,{PGMID:S,ApprovalType:"A",ApprovalDocNo:A.current,ApprovalDocSource:"OD",ApprovalDocFlag:"C",AttachmentsKeyName:"\uBB38\uC11C\uBC88\uD638",RetrieveFlag:ee.current,SetTitle:st,isAttachments:!0,isImageComponent:!0,Init:Ie.current,filepath:"OD",MaxRevNo:ke.current,RevNo:be.current}))))),Ve&&a.createElement(h.exports.Dialog,{title:a.createElement(l,{style:{display:"flex"}},a.createElement("img",{src:ht,alt:"logo",style:{width:"50px"}})," ",a.createElement(l,{style:{marginLeft:15}},"\uBC1C\uC8FC\uC11C \uCD9C\uB825")),style:{width:"1870px",height:"900px"},bodyCls:"f-column",closable:!0,draggable:!0,modal:!0,onClose:()=>se(!1)},a.createElement(l,{className:"f-full"},a.createElement("div",{id:"crownix-viewer",style:{position:"absolute",width:"100%",height:"100%"}}))),a.createElement(Tt,{visible:w.visible,description:w.desc,value:w.value,datas:w.datas,id:w.id,viewId:w.viewId,selectedData:w.selectedData,width:j.current,onConfirm:je,onCancel:()=>$e({target:w.id})}),Fe&&a.createElement(Et,{PGMID:S,FileTitle:"\uBC1C\uC8FC\uC790\uB8CC\uBC88\uD638",FileType:Pe.current,FileNo:A.current,FilePath:"OD",setClose:rt}),a.createElement(gt,{visible:Q.visible,description:Q.desc,type:Q.type,onConfirm:()=>x({visible:!1})}),a.createElement(Nt,{visible:O.visible,description:O.desc,onCancel:ot,onConfirm:at}),a.createElement(St,{visible:z.visible,selectedData:z.selectedData,id:z.id,onConfirm:()=>Qe(),onClose:()=>mt(),pgmid:S}))});let b,i,E,s;const kt=pt(Rt);export{Wt as default};
