import{r as o,R as e}from"./index.da6908f5.js";import{m as y,h as M,o as V,u as k,f as K,B as m,c as X,U as $,P as F,r as C,A as j,C as q}from"./App.11263b70.js";import{C as J}from"./CommonButton.0b792d77.js";import{H as Q}from"./HeaderList.b90f1652.js";const Y=[{fieldName:"Code",dataType:y.exports.ValueType.TEXT},{fieldName:"Name",dataType:y.exports.ValueType.TEXT}],Z=[{name:"Code",fieldName:"Code",type:"data",width:"100",header:{text:"\uCF54\uB4DC",showTooltip:!0},renderer:{type:"text",showTooltip:!0},styleName:"center-column"},{name:"Name",fieldName:"Name",type:"data",width:"100",header:{text:"\uCF54\uB4DC\uBA85",showTooltip:!0},renderer:{type:"text",showTooltip:!0},styleName:"center-column"}],_=[{fieldName:"Code",dataType:y.exports.ValueType.TEXT},{fieldName:"Name",dataType:y.exports.ValueType.TEXT}],ee=[{name:"Code",fieldName:"Code",type:"data",width:"100",header:{text:"\uCF54\uB4DC",showTooltip:!0},renderer:{type:"text",showTooltip:!0},styleName:"center-column"},{name:"Name",fieldName:"Name",type:"data",width:"100",header:{text:"\uCF54\uB4DC\uBA85",showTooltip:!0},renderer:{type:"text",showTooltip:!0},styleName:"center-column"}],te={DateTitleBox:{margin:"5px 10px 0px 15px",backgroundColor:"#e0ecff",padding:5,color:"#163971",height:25,fontSize:"12px",display:"flex",width:85,alignItems:"center",fontWeight:600},TitleBox4:{backgroundColor:"#fccf76",color:"#163971",padding:5,height:20,fontSize:"12px",display:"flex",alignItems:"center",width:"100%",fontWeight:600},TitleText3:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},InputBox3:{marginTop:5,width:120,height:25,"& input":{fontSize:"12px !important"}},Scroll:{"& .mainCon":{height:"700px",padding:"10px"}},SA1:{width:80,height:25,margin:"3px 3px",backgroundColor:"#e0ecff",color:"#163971",paddingTop:3,fontSize:"12px",alignItems:"center",fontWeight:600,display:"flex"},SA2:{marginTop:-2,marginLeft:5,alignItems:"center",textAlign:"center"},SA3:{width:"15px!important",height:"15px!important",border:"1px solid #3c96ff",marginTop:"1px","& .checkbox-checked":{border:0,background:"#3c96ff"}},SA4:{width:90,height:25,"& input":{fontSize:"12px !important"}},SA5:{marginLeft:5,width:140,height:25,"& input":{fontSize:"12px !important"}},SA6:{width:70,height:25,margin:"3px 3px",backgroundColor:"#fccf76",color:"#163971",padding:5,fontSize:"12px",alignItems:"center",fontWeight:600},SB1:{width:253,height:32,"& input":{fontSize:"16px !important",textAlign:"center",color:"#0070c0"}},SB2:{fontSize:12,paddingBottom:2,fontWeight:500},SC1:{width:90,height:25,margin:"3px 10px",backgroundColor:"#e0ecff",color:"#163971",padding:5,fontSize:"12px",alignItems:"center",fontWeight:600,display:"flex"},SC2:{width:80},SC3:{width:200,height:25,"& input":{fontSize:"12px !important"}},SC4:{width:200,height:25,"& input":{fontSize:"12px !important",textAlign:"right"}},SC5:{fontSize:12,paddingBottom:2,fontWeight:500,marginLeft:5},SC6:{width:150,height:25,"& input":{fontSize:"12px !important",textAlign:"center"}},SC7:{width:80,height:29,margin:"3px 1px",backgroundColor:"#e0ecff",color:"#163971",padding:5,fontSize:"12px",alignItems:"center",fontWeight:600,display:"flex"},SC8:{"& textarea":{fontSize:"12px !important"}}};function U(){const[t,s]=o.exports.useState({a:""}),[g,n]=o.exports.useState({a:""}),[w]=o.exports.useState({a:"required"}),[S,E]=o.exports.useState(""),[x,T]=o.exports.useState({visible:!1,desc:"",type:"N"}),[I,p]=o.exports.useState({visible:!1,desc:"",id:""}),[h,u]=o.exports.useState({visible:!1,description:"",value:"",datas:{},id:"",viewId:"",selectedData:{}});return String.prototype.DateValidation=function(i){return new Date(this)instanceof Date&&!isNaN(new Date(this))?M(this).format(i):null},{searchVO:t,setSearchVO:s,headerVO:g,setHeaderVO:n,gridFocus:S,setGridFocus:E,alert:x,setAlert:T,confirm:I,setConfirm:p,codeClassInputs:h,setCodeClassInputs:u,ValidationRules:w}}const ie=async(t,s)=>{t({a:""},50),s({a:""},50)},ne=V(t=>{const s=o.exports.useRef(null),g=[""];k();const{codeClassInputs:n,setCodeClassInputs:w}=U(),S=async()=>{a.commit(!0),n.selectedData,w({visible:!1,desc:"",value:"",datas:{},selectedData:{},id:"",viewId:""}),a.commit(!0),a.setFocus(),a.validateCells()},E=i=>{const r=a.getCurrent().itemIndex;a.setCurrent({itemIndex:r,fieldName:a.getCurrent().fieldName}),a.setFocus(),a.validateCells(),w({visible:!1})},x=async()=>{t.Util.Grid.fContainerInit(t.Util.Common.fMakeId(t.Id)),N=new y.exports.LocalDataProvider(!1),a=new y.exports.GridView(s.current),t.Util.Grid.fInitGridDetail(a,N,t.GridFields,t.GridColumns,T,I,h),a.displayOptions.rowHeight=25,a.onItemChecked=()=>{t.setGridFocus("R")},a.onValidateColumn=(i,r,l,d)=>{const c={};return g[0].includes(r.fieldName)&&(!d||d===void 0)&&(c.level="warning",c.message="\uD544\uC218 \uC785\uB825 \uAC12\uC785\uB2C8\uB2E4."),c},t.DataProviderBind(N),t.GridViewBind(a)},T=async(i,r)=>{i.commit(),t.setGridFocus("R"),i.getValue(i.getCurrent().itemIndex,r.fieldName)},I=i=>{i.commit(),t.setGridFocus("R"),a.validateCells()},p=async(i,r,l)=>{},h=async(i,r)=>{const l="LastField",d=i.getDataSource().getRowCount(),{fieldName:c}=i.getCurrent(),{itemIndex:f}=i.getCurrent();switch(t.setGridFocus("R"),r.key){case"Enter":t.setAlert({visible:!1,desc:""}),i.commit(!0),c===l?t.Util.Grid.fEnterLastField(i,f,d,u()===0):(i.getDataSource().getValue(f,c)||g.includes(c))&&p(),i.setFocus();break;case"Escape":t.Util.Grid.fEscape(i,f,d,"No");break;case"Insert":t.Util.Grid.fKeyInsert(i,f,u()===0,"No");break;case"ArrowDown":t.Util.Grid.fArrowDown(i,f,d,u()===0,"No");break;case"ArrowUp":t.Util.Grid.fArrowUp(i,f,d,u(f)>0);break;case(r.ctrlKey&&" "):p();break}},u=i=>{const r=N.getAllStateRows().created;if(r.length>0){let l=0;return r.map(d=>{if(i===void 0||d>=i){const c=a.getValues(d);(!c.ItemTypeNm||c.ItemTypeNm===void 0)&&(l+=1)}}),l}return 0};return o.exports.useEffect(()=>{x()},[]),e.createElement(e.Fragment,null,e.createElement(K,{visible:n.visible,description:n.desc,value:n.value,datas:n.datas,id:n.id,viewId:n.viewId,selectedData:n.selectedData,onConfirm:S,onCancel:()=>E({target:n.id})}),e.createElement(m,{ref:s,key:t.Util.Common.fMakeId(t.Id),id:t.Util.Common.fMakeId(t.Id),style:{width:"100%",height:725}}))});let N,a;const ce=V(()=>{const t="TEMPLATE",{$CommonStore:s,$UserStore:g}=k(),n=ae(),{searchVO:w,setSearchVO:S,headerVO:E,setHeaderVO:x,gridFocus:T,setGridFocus:I,alert:p,setAlert:h,confirm:u,setConfirm:i,ValidationRules:r}=U(),l=new $(t,h,!0,!0,!0,!0,!0),d=o.exports.useRef(null),c=o.exports.useRef(""),f=o.exports.useRef(0),A=async()=>{s.fSetBinding(!0),await ie(S,x),s.fSetBinding(!1),c.current="",l.Common.fSetTabIndex()};o.exports.useState({Util:l,User:g,fInit:A,setAlert:h,setHeaderVO:x});const z=v=>{},L=v=>{},P=v=>{},R=v=>{},W=(v,oe)=>{console.log("\uD589\uC120\uD0DD")},H=async()=>{i({visible:!1,desc:"",id:""}),u.id},O=()=>{i({visible:!1,desc:"",id:""})},D=async()=>{console.log("\uC2E0\uADDC")},b=async()=>{console.log("\uC870\uD68C")},G=async()=>{console.log("\uC800\uC7A5")},B=async()=>{console.log("\uC0AD\uC81C")};return o.exports.useEffect(()=>{l.Common.fHotKey(s,s.isPopup,D,b,G,B)},[s.HotKey]),o.exports.useEffect(()=>{A()},[]),e.createElement(e.Fragment,null,e.createElement(J,{pgmid:t,visible:"111100",onNew:D,onSearch:b,onSave:G,onDelete:B}),e.createElement(F,{className:"mainCon"},e.createElement(C.exports.Layout,{style:{width:"100%",height:775}},e.createElement(C.exports.LayoutPanel,{region:"west",split:!0,style:{minWidth:370,maxWidth:480,height:775}},e.createElement(F,{className:n.Scroll},e.createElement(m,{style:{marginTop:5}},e.createElement(m,{display:"flex",alignItems:"center"},e.createElement(m,{style:{display:"flex",alignItems:"center"}},e.createElement(m,{className:n.SA1},e.createElement(m,{className:n.SA2},"\uAE30\uAC04")))),e.createElement(m,{style:{marginTop:5}},e.createElement(Q,{Util:l,Id:"Grid1",GridTitle:"\uD5E4\uB354",Height:735,currentIndex:f,GridFields:Y,GridColumns:Z,RowChanged:W,DataProviderBind:z,GridViewBind:P}))))),e.createElement(C.exports.LayoutPanel,{region:"center",split:!0,style:{minWidth:400,maxWidth:1400,height:774}},e.createElement(C.exports.Layout,null,e.createElement(C.exports.LayoutPanel,{region:"north"},e.createElement(C.exports.Form,{ref:d,style:{maxWidth:"100%"},model:E,rules:r,labelWidth:120,labelAlign:"right"},e.createElement(m,{style:{width:"100%",height:40,marginTop:10}},e.createElement(m,{className:n.SA1},e.createElement(m,{className:n.SA2},"\uAE30\uAC04"))))),e.createElement(C.exports.LayoutPanel,{region:"center"},e.createElement(m,{style:{width:"100%"}},e.createElement(ne,{Util:l,Id:"Grid2",GridTitle:"\uBA85\uC138",GridFields:_,GridColumns:ee,setGridFocus:I,setAlert:h,DataProviderBind:L,GridViewBind:R}))))))),e.createElement(j,{visible:p.visible,description:p.desc,type:p.type,onConfirm:()=>h({visible:!1})}),e.createElement(q,{visible:u.visible,description:u.desc,onCancel:O,onConfirm:H}))}),ae=X(te);export{ce as default};
