import{r as g,R as a}from"./index.da6908f5.js";import{m as l,o as wt,c as vt,u as St,s as Rt,P as Pe,r as f,B as s,F as Ie,h as y,$ as Vt,a0 as kt,a1 as bt,f as Pt,q as Me,A as It,C as Mt,t as Ft,v as Yt,n as _t,d as q,w as Lt,Z as Gt}from"./App.11263b70.js";import{C as Xt}from"./CommonButton.0b792d77.js";import{C as j}from"./CommonDatePicker.d7bc57f8.js";import{C as ne}from"./CodeHelperPopup.3932fdb9.js";import{C as Ut}from"./ChangeDate.2e889790.js";import{A as Ot}from"./Approval.69c4f070.js";import{A as Kt}from"./Attachments.19d97d2b.js";import"./index.6f186c21.js";import"./EvidenceViewer.5aab9677.js";const zt={SA1:{width:80,height:25,margin:"3px 3px",backgroundColor:"#e0ecff",color:"#163971",padding:5,fontSize:"12px",alignItems:"center",fontWeight:600,display:"flex"},SA2:{width:80},SA3:{width:"15px!important",height:"15px!important",border:"1px solid #3c96ff",marginTop:"1px","& .checkbox-checked":{border:0,background:"#3c96ff"}},SA4:{width:90,height:25,"& input":{fontSize:"12px !important"}},SA5:{marginLeft:5,width:140,height:25,"& input":{fontSize:"12px !important"}},SB1:{width:253,height:32,"& input":{fontSize:"16px !important",textAlign:"center",color:"#0070c0"}},SB2:{fontSize:12,paddingBottom:2,fontWeight:500},SC1:{width:90,height:25,margin:"3px 10px",backgroundColor:"#e0ecff",color:"#163971",padding:5,fontSize:"12px",alignItems:"center",fontWeight:600,display:"flex"},SC2:{width:80},SC3:{width:235,height:25,"& input":{fontSize:"12px !important"}},SC4:{width:200,height:25,"& input":{fontSize:"12px !important",textAlign:"right"}},SC5:{fontSize:12,paddingBottom:2,fontWeight:500,marginLeft:5},SC6:{width:150,height:25,"& input":{fontSize:"12px !important",textAlign:"center"}},SC7:{width:80,height:29,margin:"3px 1px",backgroundColor:"#e0ecff",color:"#163971",padding:5,fontSize:"12px",alignItems:"center",fontWeight:600,display:"flex"},SC8:{"& textarea":{fontSize:"12px !important"}}},Jt=[{fieldName:"Accunit",dataType:l.exports.ValueType.TEXT},{fieldName:"Factory",dataType:l.exports.ValueType.TEXT},{fieldName:"ApprDocProg",dataType:l.exports.ValueType.TEXT},{fieldName:"Costno",dataType:l.exports.ValueType.TEXT},{fieldName:"CostDate",dataType:l.exports.ValueType.DATE,datetimeFormat:"yyyyMMdd"},{fieldName:"GeneDate",dataType:l.exports.ValueType.DATE,datetimeFormat:"yyyyMMdd"},{fieldName:"Amount",dataType:l.exports.ValueType.NUMBER},{fieldName:"Tax",dataType:l.exports.ValueType.NUMBER},{fieldName:"Total",dataType:l.exports.ValueType.NUMBER},{fieldName:"slipyn",dataType:l.exports.ValueType.TEXT},{fieldName:"slpdat",dataType:l.exports.ValueType.TEXT},{fieldName:"Pno",dataType:l.exports.ValueType.TEXT},{fieldName:"PnoNm",dataType:l.exports.ValueType.TEXT},{fieldName:"Deptcd",dataType:l.exports.ValueType.TEXT},{fieldName:"DeptNm",dataType:l.exports.ValueType.TEXT},{fieldName:"CrePno",dataType:l.exports.ValueType.TEXT},{fieldName:"CreDate",dataType:l.exports.ValueType.TEXT},{fieldName:"ModPno",dataType:l.exports.ValueType.TEXT},{fieldName:"ModDate",dataType:l.exports.ValueType.TEXT},{fieldName:"Remark",dataType:l.exports.ValueType.TEXT},{fieldName:"BussTravelChk",dataType:l.exports.ValueType.TEXT},{fieldName:"BussTravelPno",dataType:l.exports.ValueType.TEXT},{fieldName:"BussTravelPnoNm",dataType:l.exports.ValueType.TEXT},{fieldName:"BussTravelComp",dataType:l.exports.ValueType.TEXT},{fieldName:"BussTravelFrYmd",dataType:l.exports.ValueType.DATE,datetimeFormat:"yyyyMMdd"},{fieldName:"BussTravelToYmd",dataType:l.exports.ValueType.DATE,datetimeFormat:"yyyyMMdd"},{fieldName:"BussTravelDest",dataType:l.exports.ValueType.TEXT},{fieldName:"DocStatus",dataType:l.exports.ValueType.TEXT}],Wt=[{name:"ApprDocProg",fieldName:"ApprDocProg",width:65,styleName:"center-column",header:{text:"\uACB0\uC7AC\uC0C1\uD0DC",showTooltip:!0},renderer:{type:"text",showTooltip:!0}},{name:"GeneDate",fieldName:"GeneDate",width:80,styleName:"center-column",header:{text:"\uBC1C\uC0DD\uC77C",showTooltip:!0},renderer:{type:"text",showTooltip:!0},datetimeFormat:"yyyy-MM-dd"},{name:"DeptNm",fieldName:"DeptNm",width:85,styleName:"left-column",header:{text:"\uBD80\uC11C\uBA85",showTooltip:!0},renderer:{type:"text",showTooltip:!0}},{name:"PnoNm",fieldName:"PnoNm",width:85,styleName:"left-column",header:{text:"\uC0AC\uC6D0\uBA85",showTooltip:!0},renderer:{type:"text",showTooltip:!0}},{name:"CostDate",fieldName:"CostDate",width:80,styleName:"center-column",header:{text:"\uC791\uC131\uC77C",showTooltip:!0},renderer:{type:"text",showTooltip:!0},datetimeFormat:"yyyy-MM-dd"},{name:"Costno",fieldName:"Costno",width:90,styleName:"center-column",header:{text:"\uC791\uC131\uBC88\uD638",showTooltip:!0},renderer:{type:"text",showTooltip:!0}},{name:"Amount",fieldName:"Amount",width:90,styleName:"right-column",header:{text:"\uACBD\uBE44",showTooltip:!0},renderer:{type:"text",showTooltip:!0},numberFormat:"#,##0"},{name:"Tax",fieldName:"Tax",width:90,styleName:"right-column",header:{text:"\uBD80\uAC00\uC138",showTooltip:!0},renderer:{type:"text",showTooltip:!0},numberFormat:"#,##0"},{name:"Total",fieldName:"Total",width:90,styleName:"right-column",header:{text:"\uD569\uACC4\uAE08\uC561",showTooltip:!0},renderer:{type:"text",showTooltip:!0},numberFormat:"#,##0"},{name:"Slipyn",fieldName:"Slipyn",width:80,styleName:"center-column",header:{text:"\uD68C\uACC4\uCC98\uB9AC",showTooltip:!0},renderer:{type:"text",showTooltip:!0}}],Ht=[{fieldName:"Accunit",dataType:l.exports.ValueType.TEXT},{fieldName:"Factory",dataType:l.exports.ValueType.TEXT},{fieldName:"costno",dataType:l.exports.ValueType.TEXT},{fieldName:"costseq",dataType:l.exports.ValueType.TEXT},{fieldName:"ToFactory",dataType:l.exports.ValueType.TEXT},{fieldName:"jukyocd",dataType:l.exports.ValueType.TEXT},{fieldName:"Jukyonm",dataType:l.exports.ValueType.TEXT},{fieldName:"Currcd",dataType:l.exports.ValueType.TEXT},{fieldName:"Currnm",dataType:l.exports.ValueType.TEXT},{fieldName:"CardNo",dataType:l.exports.ValueType.TEXT},{fieldName:"cardcd",dataType:l.exports.ValueType.TEXT},{fieldName:"Deptcd",dataType:l.exports.ValueType.TEXT},{fieldName:"Deptnm",dataType:l.exports.ValueType.TEXT},{fieldName:"Account",dataType:l.exports.ValueType.TEXT},{fieldName:"LCNO",dataType:l.exports.ValueType.TEXT},{fieldName:"GoodCd",dataType:l.exports.ValueType.TEXT},{fieldName:"Vatcd",dataType:l.exports.ValueType.TEXT},{fieldName:"VatcdNm",dataType:l.exports.ValueType.TEXT},{fieldName:"Protypecd",dataType:l.exports.ValueType.TEXT},{fieldName:"Protypenm",dataType:l.exports.ValueType.TEXT},{fieldName:"CostAmt",dataType:l.exports.ValueType.NUMBER},{fieldName:"Amount",dataType:l.exports.ValueType.NUMBER},{fieldName:"Tax",dataType:l.exports.ValueType.NUMBER},{fieldName:"Total",dataType:l.exports.ValueType.NUMBER},{fieldName:"Remark",dataType:l.exports.ValueType.TEXT},{fieldName:"No",dataType:l.exports.ValueType.TEXT},{fieldName:"CrePno",dataType:l.exports.ValueType.TEXT},{fieldName:"CreDate",dataType:l.exports.ValueType.TEXT},{fieldName:"ModPno",dataType:l.exports.ValueType.TEXT},{fieldName:"ModDate",dataType:l.exports.ValueType.TEXT},{fieldName:"subtractcd",dataType:l.exports.ValueType.TEXT},{fieldName:"subtractnm",dataType:l.exports.ValueType.TEXT},{fieldName:"pno",dataType:l.exports.ValueType.TEXT},{fieldName:"PnoNm",dataType:l.exports.ValueType.TEXT},{fieldName:"InvGubun",dataType:l.exports.ValueType.TEXT},{fieldName:"InvGubunnm",dataType:l.exports.ValueType.TEXT},{fieldName:"Carnocd",dataType:l.exports.ValueType.TEXT},{fieldName:"Carnonm",dataType:l.exports.ValueType.TEXT},{fieldName:"Custcd",dataType:l.exports.ValueType.TEXT},{fieldName:"custnm",dataType:l.exports.ValueType.TEXT},{fieldName:"CustText",dataType:l.exports.ValueType.TEXT},{fieldName:"custoutcd",dataType:l.exports.ValueType.TEXT},{fieldName:"bankcd",dataType:l.exports.ValueType.TEXT},{fieldName:"banknm",dataType:l.exports.ValueType.TEXT},{fieldName:"AccountNo",dataType:l.exports.ValueType.TEXT},{fieldName:"ExchangeDate",dataType:l.exports.ValueType.TEXT},{fieldName:"BussTravelCurrCd",dataType:l.exports.ValueType.TEXT},{fieldName:"BussTravelCurrCdNm",dataType:l.exports.ValueType.TEXT},{fieldName:"BussTravelExRate",dataType:l.exports.ValueType.NUMBER},{fieldName:"BussTravelForeAmt",dataType:l.exports.ValueType.NUMBER},{fieldName:"Actno",dataType:l.exports.ValueType.TEXT}],qt=[{name:"No",fieldName:"No",width:50,styleName:"center-column",editable:!1,header:{text:"NO",showTooltip:!0},renderer:{type:"text",showTooltip:!0}},{name:"jukyocd",fieldName:"jukyocd",width:80,styleName:"left-column",header:{text:"\uD68C\uACC4\uCC98\uB9AC\uCF54\uB4DC",showTooltip:!0},renderer:{type:"text",showTooltip:!0}},{name:"Jukyonm",fieldName:"Jukyonm",width:120,styleName:"left-column",button:"action",editable:!0,header:{text:"\uD68C\uACC4\uCC98\uB9AC\uCF54\uB4DC\uBA85",showTooltip:!0},renderer:{type:"text",showTooltip:!0}},{name:"BussTravelCurrCdNm",fieldName:"BussTravelCurrCdNm",width:50,styleName:"center-column",button:"action",editable:!0,header:{text:"\uD1B5\uD654",showTooltip:!0},renderer:{type:"text",showTooltip:!0},editor:{type:"line",textCase:"upper"}},{name:"ExchangeDate",fieldName:"ExchangeDate",width:100,styleName:"left-column",yearNavigation:!0,editable:!0,header:{text:"\uD658\uC728\uC77C\uC790",showTooltip:!0},renderer:{type:"text",showTooltip:!1},editor:{type:"date",maxLength:10,yearNavigation:!0,datetimeFormat:"yyyy-MM-dd"},datetimeFormat:"yyyy-MM-dd"},{name:"BussTravelExRate",fieldName:"BussTravelExRate",width:80,styleName:"right-column",editable:!1,header:{text:"\uD658\uC728",showTooltip:!0},renderer:{type:"text",showTooltip:!0},editor:{type:"number",editFormat:"#,##0.##"},numberFormat:"#,##0.##"},{name:"BussTravelForeAmt",fieldName:"BussTravelForeAmt",width:80,styleName:"right-column",editable:!0,header:{text:"\uC678\uD654\uAE08\uC561",showTooltip:!0},renderer:{type:"text",showTooltip:!0},editor:{type:"number",editFormat:"#,##0.##"},numberFormat:"#,##0.##"},{name:"subtractnm",fieldName:"subtractnm",width:80,styleName:"left-column",button:"action",editable:!0,header:{text:"\uACF5\uC81C\uC5EC\uBD80",showTooltip:!0},renderer:{type:"text",showTooltip:!0}},{name:"CostAmt",fieldName:"CostAmt",width:80,styleName:"right-column",editable:!0,header:{text:"\uACBD\uBE44",showTooltip:!0},renderer:{type:"text",showTooltip:!0},editor:{type:"number",editFormat:"#,##0.##"},footer:{numberFormat:"#,##0.##",expression:"sum"},numberFormat:"#,##0.##"},{name:"Remark",fieldName:"Remark",width:240,styleName:"left-column",placeHolder:"\uD55C\uAE00 \uCD5C\uB30035\uC790",header:{text:"\uBE44\uACE0",showTooltip:!0},renderer:{type:"text",showTooltip:!0},editor:{maxLength:35}},{name:"CardNo",fieldName:"CardNo",width:130,styleName:"left-column",button:"action",editable:!0,header:{text:"\uCE74\uB4DC\uBC88\uD638",showTooltip:!0},renderer:{type:"text",showTooltip:!0}},{name:"CustText",fieldName:"CustText",width:150,styleName:"left-column",editable:!0,header:{text:"\uACBD\uBE44\uC0AC\uC6A9\uCC98",showTooltip:!0},renderer:{type:"text",showTooltip:!0},editor:{maxLength:25}},{name:"custnm",fieldName:"custnm",width:150,styleName:"left-column",button:"action",editable:!0,header:{text:"\uAC70\uB798\uCC98",showTooltip:!0},renderer:{type:"text",showTooltip:!0}},{name:"Carnonm",fieldName:"Carnonm",width:80,styleName:"left-column",button:"action",editable:!0,header:{text:"\uCC28\uB7C9\uBC88\uD638",showTooltip:!0},renderer:{type:"text",showTooltip:!0}},{name:"Protypenm",fieldName:"Protypenm",width:130,styleName:"left-column",button:"action",editable:!0,header:{text:"\uC99D\uBE59\uC885\uB958",showTooltip:!0},renderer:{type:"text",showTooltip:!0}},{name:"Deptnm",fieldName:"Deptnm",width:90,styleName:"left-column",button:"action",editable:!0,header:{text:"\uBD80\uC11C",showTooltip:!0},renderer:{type:"text",showTooltip:!0}},{name:"PnoNm",fieldName:"PnoNm",width:75,styleName:"left-column",button:"action",editable:!0,header:{text:"\uC0AC\uC6D0\uBA85",showTooltip:!0},renderer:{type:"text",showTooltip:!0}},{name:"Actno",fieldName:"Actno",width:100,styleName:"left-column",header:{text:"\uC218\uC8FC\uACB0\uC758\uC11C\uBC88\uD638",showTooltip:!0},renderer:{type:"text",showTooltip:!0}},{name:"InvGubunnm",fieldName:"InvGubunnm",width:80,styleName:"left-column",button:"action",editable:!0,header:{text:"\uC5F0\uAD6C\uAC1C\uBC1C\uBE44\uD56D\uBAA9",showTooltip:!0},renderer:{type:"text",showTooltip:!0}},{name:"banknm",fieldName:"banknm",width:100,styleName:"left-column",button:"action",editable:!0,header:{text:"\uC740\uD589\uBA85",showTooltip:!0},renderer:{type:"text",showTooltip:!0}},{name:"AccountNo",fieldName:"AccountNo",width:150,styleName:"left-column",header:{text:"\uACC4\uC88C\uBC88\uD638",showTooltip:!0},renderer:{type:"text",showTooltip:!0}},{name:"LCNO",fieldName:"LCNO",width:100,styleName:"left-column",header:{text:"LCNO",showTooltip:!0},renderer:{type:"text",showTooltip:!0}},{name:"VatcdNm",fieldName:"VatcdNm",width:150,styleName:"left-column",button:"action",editable:!0,header:{text:"\uBD80\uAC00\uC138\uC885\uB958",showTooltip:!0},renderer:{type:"text",showTooltip:!0}},{name:"Amount",fieldName:"Amount",width:80,styleName:"right-column",editable:!1,header:{text:"\uACF5\uAE09\uAC00\uC561",showTooltip:!0},renderer:{type:"text",showTooltip:!0},footer:{numberFormat:"#,##0",expression:"sum"},editor:{type:"number",editFormat:"#,##0"},numberFormat:"#,##0"},{name:"Tax",fieldName:"Tax",width:80,styleName:"right-column",header:{text:"\uBD80\uAC00\uC138",showTooltip:!0},renderer:{type:"text",showTooltip:!0},footer:{numberFormat:"#,##0",expression:"sum"},editor:{type:"number",editFormat:"#,##0"},numberFormat:"#,##0"},{name:"Total",fieldName:"Total",width:80,styleName:"right-column",editable:!1,header:{text:"\uD569\uACC4\uAE08\uC561",showTooltip:!0},renderer:{type:"text",showTooltip:!0},footer:{numberFormat:"#,##0",expression:"sum"},editor:{type:"number",editFormat:"#,##0"},numberFormat:"#,##0"}],na=wt(()=>{const D="COSTAMOUNT",p=jt(),{$CommonStore:F,$UserStore:T}=St(),ye=g.exports.useRef(null),De=g.exports.useRef(null),v=g.exports.useRef(""),Fe=g.exports.useRef(null),Be=g.exports.useRef(0),le=g.exports.useRef(0),M=g.exports.useRef(null),ie=g.exports.useRef(!0),V=g.exports.useRef(""),$=g.exports.useRef(!1),J=g.exports.useRef("\uACB0\uC7AC"),[Ye,Ee]=g.exports.useState(!1),[te,Z]=g.exports.useState(""),[i,N]=g.exports.useState({}),[_e,xe]=g.exports.useState(!1),[Le,Q]=g.exports.useState(!1),[Ge,ae]=g.exports.useState(!1),[Xe,Ce]=g.exports.useState(""),[E,Y]=g.exports.useState({SchAccunit:"",SchFactory:"",SchFrDate:new Date,SchToDate:new Date,SchWriting:"Y",SchCrePno:"",SchCrePnonm:"",SchRemark:"",SchType:"0",SchText:""}),[Ue]=g.exports.useState([{value:"0",text:"\uC791\uC131\uC77C"},{value:"1",text:"\uC791\uC131\uBC88\uD638"},{value:"2",text:"\uBD80\uC11C\uBA85"}]),[Oe]=g.exports.useState({CostDate:"required",GeneDate:"required",PnoNm:"required",DeptNm:"required"}),[Ke]=g.exports.useState({CostDate:"required",GeneDate:"required",PnoNm:"required",DeptNm:"required",BussTravelPnoNm:"required",BussTravelFrYmd:"required",BussTravelToYmd:"required"}),[_,re]=g.exports.useState({visible:!1,description:"",value:"",datas:{},id:"",viewId:"",selectedData:{}}),[de,A]=g.exports.useState({visible:!1,desc:"",type:"N"}),[X,ee]=g.exports.useState({visible:!1,desc:"",id:""}),u=new Ft(D,A),x=new Rt,C=new Yt(A),W=new Lt(A),ce=new Gt,ze=["No","jukyocd","Jukyonm","Protypecd","Protypenm"],Je=["BussTravelForeAmt","Tax","CostAmt","Amount","Total"],We=["Jukyonm","jukyocd","BussTravelCurrCdNm","subtractnm","CardNo","Carnonm","Protypenm","Deptnm","PnoNm","InvGubunnm","banknm","custnm","VatcdNm"],He=["CostAmt","BussTravelExRate","BussTravelForeAmt"],U=["103011","103013","103015"],ge={No:"No",Jukyonm:"\uD68C\uACC4\uCC98\uB9AC\uCF54\uB4DC\uBA85",Protypenm:"\uC99D\uBE59\uC885\uB958",CostAmt:"\uACBD\uBE44",Amount:"\uACF5\uAE09\uAC00\uC561",Total:"\uD569\uACC4\uAE08\uC561"},qe=()=>{Y({SchAccunit:"",SchFactory:"",SchFrDate:y().clone().startOf("month").toDate(),SchToDate:new Date,SchWriting:"Y",SchCrePno:"",SchCrePnonm:"",SchRemark:"",SchType:"0",SchText:""},50),N({Accunit:"001",Factory:T.user.factory,Costno:"",CostDate:new Date,GeneDate:new Date,slpdat:"",Pno:T.user.userid,PnoNm:T.user.username.trim(),ApprDocProg:"",Deptcd:T.user.deptcd,DeptNm:T.user.deptnm,CrePno:"",CreDate:"",ModPno:"",ModDate:"",Remark:"",BussTravelChk:"N",BussTravelPno:"",BussTravelPnoNm:"",BussTravelComp:"",BussTravelFrYmd:"",BussTravelToYmd:"",BussTravelDest:"",Gubun:"1"},50),v.current="",u.fSetTabIndex(),setTimeout(()=>{document.getElementById(u.fMakeId("SchFrDate")).focus()},400),document.getElementById(u.fMakeId("Remark")).maxLength=60,document.getElementById(u.fMakeId("BussTravelDest")).maxLength=25},Ae=()=>{N({Accunit:"001",Factory:T.user.factory,Costno:"",CostDate:new Date,GeneDate:new Date,slpdat:"",Pno:T.user.userid,PnoNm:T.user.username.trim(),ApprDocProg:"",Deptcd:T.user.deptcd,DeptNm:T.user.deptnm,CrePno:"",CreDate:"",ModPno:"",ModDate:"",Remark:"",BussTravelChk:"N",BussTravelPno:"",BussTravelPnoNm:"",BussTravelComp:"",BussTravelFrYmd:"",BussTravelToYmd:"",BussTravelDest:"",Gubun:"1"},50),setTimeout(()=>{u.fSetTabIndex()},300)},me=()=>{o.clearRows(),w.clearCurrent(),m.clearCurrent(),C.fNewRow(o,{No:"001"})},je=()=>{C.fContainerInit(u.fMakeId("Grid1")),I=new l.exports.LocalDataProvider(!1),w=new l.exports.GridView(ye.current),C.fInitGridHeader(w,I,Jt,Wt,30,Ze,Qe,et),w.setRowIndicator({visible:!1}),w.setDisplayOptions({fitStyle:"none"}),w.orderBy([],[]),w.onCellDblClicked=()=>{setTimeout(()=>{document.getElementById(u.fMakeId("GeneDate")).focus()},100)},w.setRowStyleCallback($e)},$e=(e,t)=>{const r=e.getValue(t.index,"ApprDocProg");if(r==="\uC644\uACB0")return"rg-column-color-3";if(r==="\uC9C4\uD589\uC911")return"rg-column-color-2";if(r==="\uBC18\uB824")return"rg-column-color-1"},Ze=(e,t,r)=>{r>=0&&Ne(e,r)},Qe=(e,t)=>{Be.current===t.dataRow&&t.dataRow>=0&&Ne(e,t.dataRow)},Ne=(e,t)=>{w.commit(),m.commit(),Z("H");const r=I.getJsonRow(t);v.current===r.Costno&&(ie.current=!ie.current),v.current=r.Costno,J.current=r.DocStatus,F.fSetBinding(!0),N(r),F.fSetBinding(!1),ue(),setTimeout(()=>{Be.current=t},100),V.current=""},et=async(e,t)=>{switch(t.key){case(t.shiftKey&&"Tab"):document.getElementById(u.fMakeId("SchText")).focus();break;case"Tab":setTimeout(()=>{document.getElementById(u.fMakeId("radioBox")).focus()},10);break}},tt=()=>{C.fContainerInit(u.fMakeId("Grid2")),o=new l.exports.LocalDataProvider(!1),m=new l.exports.GridView(De.current),C.fInitGridDetail(m,o,Ht,qt,ve,at,rt),m.setRowIndicator({visible:!1}),m.setFooters({visible:!0}),m.orderBy([],[]),m.onCellClicked=function(e,t){t.dataRow>=0&&Z("D")},m.onValidateColumn=(e,t,r,d)=>{const n={};return ze.includes(t.fieldName)?(!d||d===void 0)&&(n.level="warning",n.message="\uD544\uC218 \uC785\uB825 \uAC12\uC785\uB2C8\uB2E4."):Je.includes(t.fieldName)&&d===void 0&&(n.level="warning",n.message="\uD544\uC218 \uC785\uB825 \uAC12\uC785\uB2C8\uB2E4."),n},m.columnByField("BussTravelExRate").styleCallback=we,m.columnByField("BussTravelForeAmt").styleCallback=we,m.orderBy([],[]),o.onRowInserted=(e,t)=>{C.fSetMultiDataProvider(e,t,{No:_t(t+1).format("000"),Factory:T.user.factory,ToFactory:T.user.factory,ExchangeDate:y(i.CostDate).format("YYYY-MM-DD"),BussTravelCurrCd:"057001",BussTravelCurrCdNm:"KOR",BussTravelExRate:1,BussTravelForeAmt:0})}},we=(e,t)=>{const r=e.getValue(t._index._itemIndex,"BussTravelCurrCd");let d={};return r==="057001"?(d.numberFormat="#,##0",d.editor={type:"number",editFormat:"#,##0"}):r==="057003"?(d.numberFormat="#,##0.####",d.editor={type:"number",editFormat:"#,##0.####"}):(d.numberFormat="#,##0.##",d.editor={type:"number",editFormat:"#,##0.##"}),d},ve=async(e,t)=>{e.commit(),Z("D");const r=e.getValue(e.getCurrent().itemIndex,t.fieldName);let d={};t.fieldName==="Jukyonm"?d=await C.gridCodeClass(e.getCurrent(),x.helperJukyoNm,D,r,!0):t.fieldName==="BussTravelCurrCdNm"?d=await C.gridCodeClass(e.getCurrent(),x.helperCurrNm,D,r,!0):t.fieldName==="subtractnm"?d=await C.gridCodeClass(e.getCurrent(),x.helperSubtractcd,D,r,!0):t.fieldName==="CardNo"?d=await C.gridCodeClass(e.getCurrent(),x.helperCardNo,D,r,!0):t.fieldName==="Carnonm"?d=await C.gridCodeClass(e.getCurrent(),x.helperCarno,D,r,!0):t.fieldName==="Protypenm"?d=await C.gridCodeClass(e.getCurrent(),x.helperProtypeNm,D,r,!0):t.fieldName==="Deptnm"?d=await C.gridCodeClass(e.getCurrent(),x.helperDeptNm,D,r,!0):t.fieldName==="PnoNm"?d=await C.gridCodeClass(e.getCurrent(),x.helperPnoNm2,D,r,!0):t.fieldName==="InvGubunnm"?d=await C.gridCodeClass(e.getCurrent(),x.helperInvGubun,D,r,!0):t.fieldName==="banknm"?d=await C.gridCodeClass(e.getCurrent(),x.helperBankDNm,D,r,!0):t.fieldName==="custnm"&&!o.getValue(e.getCurrent().itemIndex,"CustText")?d=await C.gridCodeClass(e.getCurrent(),x.helperCust,D,r,!0):t.fieldName==="VatcdNm"&&(d=await C.gridCodeClass(e.getCurrent(),x.helperExpenseVatNm,D,r,!0));let n=0;d.datas[0].map(c=>{n+=Number(c.Size)}),le.current=n<490?490:n+100,re(d)},at=async(e,t)=>{e.commit(),Z("D");const r=e.getCurrent(),d=e.getValue(r.itemIndex,r.column),n=o.getJsonRow(t);if((d===null||d==="")&&(r.column==="Jukyonm"?C.fSetDataProvider(o,r.dataRow,["Jukyocd","Jukyonm"],void 0):r.column==="BussTravelCurrCdNm"?C.fSetDataProvider(o,r.dataRow,["BussTravelCurrCd","BussTravelCurrCdNm"],void 0):r.column==="Protypenm"?C.fSetDataProvider(o,r.dataRow,["Protypecd","Protypenm"],void 0):r.column==="Carnonm"?C.fSetDataProvider(o,r.dataRow,["Carnocd","Carnonm"],void 0):r.column==="CardNo"?C.fSetDataProvider(o,r.dataRow,["Cardcd","CardNo"],void 0):r.column==="banknm"?C.fSetDataProvider(o,r.dataRow,["bankcd","banknm","AccountNo"],void 0):r.column==="PnoNm"?C.fSetDataProvider(o,r.dataRow,["pno","PnoNm"],void 0):r.column==="custnm"?C.fSetDataProvider(o,r.dataRow,["Custcd","custnm"],void 0):r.column==="Deptnm"?C.fSetDataProvider(o,r.dataRow,["Deptcd","Deptnm"],void 0):r.column==="VatcdNm"&&(C.fSetMultiDataProvider(o,r.dataRow,{Vatcd:void 0,VatcdNm:void 0,Tax:0}),o.setValue(t,"Total",o.getValue(t,"Amount")))),He.includes(r.column)){const c=o.getValue(t,"BussTravelExRate"),S=o.getValue(t,"BussTravelForeAmt"),k=o.getValue(t,"CostAmt"),P=o.getValue(t,"Vatcd");let R=0;c!==void 0&&S!==void 0&&S!==0?(U.includes(P)&&(R=Math.round(Math.round(c*S)*.1)),o.setValue(t,"CostAmt",Math.round(n.BussTravelExRate*n.BussTravelForeAmt)),o.setValue(t,"Amount",Math.round(n.BussTravelExRate*n.BussTravelForeAmt)),o.setValue(t,"Tax",R),o.setValue(t,"Total",Math.round(n.BussTravelExRate*n.BussTravelForeAmt)+R)):(U.includes(P)&&(R=Math.round(k*.1)),o.setValue(t,"CostAmt",n.CostAmt),o.setValue(t,"Amount",n.CostAmt),o.setValue(t,"Tax",R),o.setValue(t,"Total",Math.round(n.CostAmt+R)))}if(r.column==="ExchangeDate"){const c=o.getValue(t,"BussTravelCurrCd");if(c!==void 0){await pe(t,c,d);const S=o.getValue(t,"BussTravelExRate"),k=o.getValue(t,"BussTravelForeAmt"),P=o.getValue(t,"Vatcd");let R=0;U.includes(P)&&(R=Math.round(Math.round(S*k)*.1)),await o.setValue(t,"CostAmt",Math.round(S*k)),o.setValue(t,"Amount",Math.round(S*k)),o.setValue(t,"Tax",R),o.setValue(t,"Total",Math.round(S*k)+R)}}r.column==="CustText"&&o.getValue(t,"Custcd")&&o.setValue(t,"CustText",""),r.column==="Tax"&&o.setValue(t,"Total",d+o.getValue(t,"Amount")),e.validateCells()},rt=async(e,t)=>{const r="Total",d=e.getDataSource().getRowCount(),{fieldName:n}=e.getCurrent(),{itemIndex:c}=e.getCurrent(),S={fieldName:n},k=o.getJsonRow(c),P=o.getJsonRows(),R=P.length-1;switch(t.key){case"Enter":if(A({visible:!1,desc:""}),e.commit(!0),n===r)c+1===d?C.fEnterLastField(e,c,d,O()===0):(m.setFocus(),c+1===d?C.fTab(m,O()===0,"No"):e.setCurrent({dataRow:c+1,column:0}));else if(e.getDataSource().getValue(c,n)){if(We.includes(n)){e.commit(),e.setCurrent({itemIndex:c,fieldName:n});const b=e.getValue(c,n);let h={};if(b!==""){if(n==="Jukyonm"||n==="jukyocd"){if(h=await C.gridCodeClass(e.getCurrent(),x.helperJukyoNm,D,b,!1),!h.visible){const B=h.res;C.fSetMultiDataProvider(o,c,{Jukyocd:B.jukyocd,Jukyonm:B.jukyonm})}}else if(n==="BussTravelCurrCdNm"){if(h=await C.gridCodeClass(e.getCurrent(),x.helperCurrNm,D,b,!1),!h.visible){const B=h.res,L=await pe(c,B.minorcd,k.ExchangeDate);let Te=0;U.includes(k.Vatcd)&&(Te=Math.round(Math.round(L*k.BussTravelForeAmt)*.1)),C.fSetMultiDataProvider(o,c,{BussTravelCurrCd:B.minorcd,BussTravelCurrCdNm:B.minornm,BussTravelExRate:L,CostAmt:Math.round(L*k.BussTravelForeAmt),Amount:Math.round(L*k.BussTravelForeAmt),Tax:Te,ToTal:Math.round(L*k.BussTravelForeAmt)+Te})}}else if(n==="Protypenm")h=await C.gridCodeClass(e.getCurrent(),x.helperProtypeNm,D,b,!1),h.visible||C.fSetDataProvider(o,c,["Protypecd","Protypenm"],h.res);else if(n==="subtractnm")h=await C.gridCodeClass(e.getCurrent(),x.helperSubtractcd,D,b,!1),h.visible||C.fSetDataProvider(o,c,["subtractcd","subtractnm"],h.res);else if(n==="InvGubunnm")h=await C.gridCodeClass(e.getCurrent(),x.helperInvGubun,D,b,!1),h.visible||C.fSetDataProvider(o,c,["InvGubun","InvGubunnm"],h.res);else if(n==="Carnonm")h=await C.gridCodeClass(e.getCurrent(),x.helperCarno,D,b,!1),h.visible||C.fSetDataProvider(o,c,["Carnocd","Carnonm"],h.res);else if(n==="CardNo"){if(h=await C.gridCodeClass(e.getCurrent(),x.helperCardNo,D,b,!1),!h.visible){const B=h.res;C.fSetMultiDataProvider(o,c,{Cardcd:B.cardcd,CardNo:B.cardno})}}else if(n==="PnoNm"){if(h=await C.gridCodeClass(e.getCurrent(),x.helperPnoNm2,D,b,!1),!h.visible){const B=h.res;C.fSetMultiDataProvider(o,c,{pno:B.pno,PnoNm:B.name})}}else if(n==="banknm"){if(h=await C.gridCodeClass(e.getCurrent(),x.helperBankDNm,D,b,!1),!h.visible){const B=h.res;C.fSetMultiDataProvider(o,c,{bankcd:B.minorcd,banknm:B.minornm,AccountNo:B.item1})}}else if(n==="Deptnm"){if(h=await C.gridCodeClass(e.getCurrent(),x.helperDeptNm,D,b,!1),!h.visible){const B=h.res;C.fSetMultiDataProvider(o,c,{Deptcd:B.deptcd,Deptnm:B.deptnm})}}else if(n==="custnm"&&!o.getValue(c,"CustText")){if(h=await C.gridCodeClass(e.getCurrent(),x.helperCust,D,b,!1),!h.visible){const B=h.res;C.fSetMultiDataProvider(o,c,{Custcd:B.custcd,custnm:B.custnm,custoutcd:B.custoutcd})}}else if(n==="custnm"&&o.getValue(c,"CustText"))C.fSetMultiDataProvider(o,c,{Custcd:"",custnm:"",custoutcd:""});else if(n==="VatcdNm"&&(h=await C.gridCodeClass(e.getCurrent(),x.helperExpenseVatNm,D,b,!1),!h.visible)){const B=h.res;let L=0;U.includes(B.minorcd)&&(L=Math.round(k.CostAmt*.1)),C.fSetMultiDataProvider(o,c,{Vatcd:B.minorcd,VatcdNm:B.minornm,Tax:L,Total:k.Amount+L})}let he=0;h.datas[0].map(B=>{he+=Number(B.Size)}),le.current=he<490?490:he+100,re(h)}}}else e.getDataSource().getValue(c,n)===""&&n==="subtractnm"&&(o.setValue(c,"subtractnm",""),o.setValue(c,"subtractcd",""));e.setFocus();break;case"Escape":C.fEscape(e,c,d,"No");break;case"Insert":C.fKeyInsert(e,c,O()===0,"No");break;case"ArrowDown":C.fArrowDown(e,c,d,O()===0,"No");break;case"ArrowUp":P[R].Jukyonm||P[R].Protypenm||P[R].CostAmt||P[R].Amount||P[R].Total||C.fArrowUp(e,c,d,O(c)>0);break;case(!t.shiftKey&&"Tab"):document.getElementById(u.fMakeId("Costno")).focus();break;case(t.shiftKey&&"Tab"):t.preventDefault(),document.getElementById(u.fMakeId("Remark")).focus();break;case(t.ctrlKey&&" "):ve(e,S);break}},O=e=>{const t=o.getAllStateRows().created;if(t.length>0){let r=0;return t.map(d=>{if(e===void 0||d>=e){const n=m.getValues(d);(!n.Jukyonm||n.Jukyonm===void 0||!n.Protypenm||n.Protypenm===void 0||!n.CostAmt||n.CostAmt===void 0||!n.Amount||n.Amount===void 0||!n.Total||n.Total===void 0||n.Total<1)&&(r+=1)}}),r}return 0},pe=async(e,t,r)=>{if(!(e<0||!t||!r))try{const n=(await q.get("/@api/expense/costamount/selectByExchange",{params:{SchAccunit:T.user.accunit,SchCurrcd:t,SchExchangeDate:y(r).format("YYYYMMDD")}})).data;if(n)return o.setValue(e,"BussTravelExRate",n.Rate),n.Rate;if(t==="057001")return o.setValue(e,"BussTravelExRate",1),1}catch{A({visible:!0,desc:"\uD658\uC728\uC815\uBCF4 \uC870\uD68C\uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4.",type:"E"})}},ue=async()=>{o.clearRows();try{const t=(await q.get("/@api/expense/costamount/selectByDetailList",{params:{SchCostno:v.current,SchAccunit:T.user.accunit,SchFactory:T.user.factory,UserId:T.user.userid}})).data;t.dList===void 0||t.dList.length<1?C.fNewRow(o,{No:"001"}):o.setRows(t.dList),m.clearCurrent()}catch{A({visible:!0,desc:"\uC0C1\uC138\uB0B4\uC5ED \uC870\uD68C \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4.",type:"E"})}},H=e=>{if(!(e===""||e===null))return y(e).format("YYYYMMDD")},Se=async()=>{const e={...i};e.CostDate=y(i.CostDate).format("YYYYMMDD"),e.GeneDate=y(i.GeneDate).format("YYYYMMDD"),e.Accunit=T.user.accunit,e.Factory=T.user.factory,e.UserId=T.user.userid,e.BussTravelFrYmd=H(i.BussTravelFrYmd),e.BussTravelToYmd=H(i.BussTravelToYmd);let t=[];if(C.fCheckGridData(o,t,ge,"\uC9C0\uCD9C\uACBD\uBE44 \uC0C1\uC138")===void 0)try{const n=(await q.post("/@api/expense/costamount/updateByList",{header:e,detail:t})).data;if(n.errmess!==""){A({visible:!0,desc:n.errmess,type:"E"});return}const c=n.Costno?n.Costno.trim():i.Costno.trim();A({visible:!0,desc:"\uBB38\uC11C \uC800\uC7A5\uC774 \uC644\uB8CC\uB418\uC5C8\uC2B5\uB2C8\uB2E4."}),z().then(()=>{const S=I.searchData({fields:["Costno"],value:c,partialMatch:!0});S!=null&&w.setCurrent({dataRow:S.dataRow,column:0})})}catch(d){A({visible:!0,desc:`\uC800\uC7A5 \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4.${d}`})}},ut=async()=>{const e={...i};e.Accunit=T.user.accunit,e.Factory=T.user.factory;try{const r=(await q.post("/@api/expense/costamount/deleteByList",{data:e})).data;return r.errmess!==""?(A({visible:!0,desc:r.errmess,type:"E"}),r):(r.errmess===""&&await W.fDeleteFiles("CostAmount",r.List),setTimeout(async()=>{fe(),z()},700),r)}catch(t){A({visible:!0,desc:`\uC0AD\uC81C \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4.${t}`})}},ot=async()=>{const e={...i};e.Accunit=T.user.accunit,e.Factory=T.user.factory,await W.fDeleteCheckItem(m,o,"/@api/expense/costamount/deleteByItem",e,"\uC9C0\uCD9C\uACBD\uBE44 \uC0C1\uC138\uB0B4\uC5ED"),setTimeout(()=>{ue()},100)},st=async()=>{if(u.fValidate(u.fEmptyReturn(i.Costno)==="","\uC9C0\uCD9C\uACBD\uBE44 \uB4F1\uB85D \uD6C4 \uC0AC\uC6A9 \uAC00\uB2A5\uD569\uB2C8\uB2E4."))return;const e={...i};e.CostDate=i.CostDate===""?i.CostDate:y(i.CostDate).format("YYYYMMDD"),e.Accunit=T.user.accunit,e.Factory=T.user.factory,e.iUserPno=T.user.userid;let t=[];if(C.fCheckGridData(o,t,ge,"\uC9C0\uCD9C\uACBD\uBE44 \uC0C1\uC138")===void 0)try{const n=(await q.post("/@api/expense/costamount/updateByAppr",{header:e,detail:t})).data;if(n.errmess!==""){A({visible:!0,desc:n.errmess,type:"E"});return}const c=n.Costno?n.Costno.trim():i.Costno.trim();A({visible:!0,desc:"\uC800\uC7A5\uC774 \uC644\uB8CC\uB418\uC5C8\uC2B5\uB2C8\uB2E4."}),setTimeout(()=>{z(),v.current=c,u.fFieldChange(N,"Costno",c),setTimeout(async()=>{const S=I.searchData({fields:["Costno"],value:c,partialMatch:!0});S!=null&&w.setCurrent({dataRow:S.dataRow,column:0}),await ue(),$.current=!$.current},500)},700)}catch(d){A({visible:!0,desc:`\uC800\uC7A5 \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4.${d}`})}},nt=async()=>{const e={...i};e.CostDate=i.CostDate===""?i.CostDate:y(i.CostDate).format("YYYYMMDD"),e.Accunit=T.user.accunit,e.Factory=T.user.factory,e.iUserPno=T.user.userid;try{const r=(await q.post("/@api/expense/costamount/deleteByAppr",{data:e})).data;if(r.errmess!==""){A({visible:!0,desc:r.errmess,type:"E"});return}const d=r.Costno?r.Costno.trim():v.current.trim();A({visible:!0,desc:"\uBB38\uC11C \uC0AD\uC81C\uAC00 \uC644\uB8CC\uB418\uC5C8\uC2B5\uB2C8\uB2E4."}),setTimeout(()=>{z(),v.current=d,u.fFieldChange(N,"Costno",d),setTimeout(async()=>{const n=I.searchData({fields:["Costno"],value:d,partialMatch:!0});n!=null&&w.setCurrent({dataRow:n.dataRow,column:0}),await ue(),$.current=!$.current},500)},700)}catch(t){A({visible:!0,desc:`\uC800\uC7A5 \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4.${t}`})}},lt=async()=>{const e={...i};e.Accunit=T.user.accunit,e.Factory=T.user.factory,e.Pno=T.user.userid,e.FrDate=y(E.SchFrDate).format("YYYYMMDD"),e.ToDate=y(E.SchToDate).format("YYYYMMDD");try{Q(!1),Ce("\uC9C0\uCD9C \uACBD\uBE44 \uB0B4\uC5ED\uC11C");const t=await W.fSearchByReturn("/@api/expense/costamount/selectByPrint",e),r='{ "data" : '+JSON.stringify(t)+"}";t?(ae(!0),ce.fReport(r,"/\uC9C0\uCD9C\uACBD\uBE44\uB808\uD3EC\uD2B8.mrd","http://report.ehansun.co.kr/ReportingServer","http://hseerp.ehansun.co.kr/report")):A({visible:!0,desc:"\uCD9C\uB825\uC790\uB8CC \uC870\uD68C \uACB0\uACFC\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."})}catch{A({visible:!0,desc:"\uCD9C\uB825\uC790\uB8CC \uC870\uD68C\uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4."})}},it=async()=>{const e={...i};e.Accunit=T.user.accunit,e.Factory=T.user.factory,e.CostDate=H(i.CostDate),e.GeneDate=H(i.GeneDate),e.BussTravelFrYmd=H(i.BussTravelFrYmd),e.BussTravelToYmd=H(i.BussTravelToYmd);try{Q(!1),Ce("\uCD9C\uC7A5 \uC5EC\uBE44 \uC815\uC0B0\uC11C (\uAC1C\uBCC4)");const t=await W.fSearchByReturn("/@api/expense/costamount/selectByPrint1",e),r=' { "data": '+JSON.stringify(t)+"}";t?(ae(!0),ce.fReport(r,"/\uCD9C\uC7A5\uC5EC\uBE44\uC815\uC0B0\uC11C(\uAC1C\uBCC4).mrd","http://report.ehansun.co.kr/ReportingServer","http://hseerp.ehansun.co.kr/report")):A({visible:!0,desc:"\uCD9C\uB825\uC790\uB8CC \uC870\uD68C \uACB0\uACFC\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."})}catch{A({visible:!0,desc:"\uCD9C\uB825\uC790\uB8CC \uC870\uD68C\uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4."})}},Ct=async()=>{const e={...i};e.Accunit=T.user.accunit,e.FrYmd=y(E.SchFrDate).format("YYYYMMDD"),e.ToYmd=y(E.SchToDate).format("YYYYMMDD");try{Q(!1),Ce("\uCD9C\uC7A5 \uC5EC\uBE44 \uC815\uC0B0\uC11C (\uC9D1\uACC4)");const t=await W.fSearchByReturn("/@api/expense/costamount/selectByPrint2",e),r=' { "data": '+JSON.stringify(t)+"}";t?(ae(!0),ce.fReport(r,"/\uCD9C\uC7A5\uC5EC\uBE44\uC815\uC0B0\uC11C(\uC9D1\uACC4).mrd","http://report.ehansun.co.kr/ReportingServer","http://hseerp.ehansun.co.kr/report")):A({visible:!0,desc:"\uCD9C\uB825\uC790\uB8CC \uC870\uD68C \uACB0\uACFC\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."})}catch{A({visible:!0,desc:"\uCD9C\uB825\uC790\uB8CC \uC870\uD68C\uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4."})}},dt=e=>{Y(r=>({...r,SchText:e}));let t="";E.SchType==="0"?t=I.searchData({fields:["CostDate"],value:e,partialMatch:!0}):E.SchType==="1"?t=I.searchData({fields:["CostNo"],value:e,partialMatch:!0}):E.SchType==="2"&&(t=I.searchData({fields:["DeptNm"],value:e,partialMatch:!0})),t!=null&&w.setCurrent({dataRow:t.dataRow,column:0})},oe=async(e,t,r)=>{if(!F.fGetBinding())switch(e){case"SchCrePnonm":u.fMultiFieldChange(Y,{SchCrePnonm:r,SchCrePno:t});break;case"DeptNm":u.fMultiFieldChange(N,{Deptcd:t,DeptNm:r});break;case"PnoNm":u.fMultiFieldChange(N,{Pno:t,PnoNm:r});break;case"BussTravelPnoNm":u.fMultiFieldChange(N,{BussTravelPno:t,BussTravelPnoNm:r});break}},ct=async()=>{if(te==="D"){m.commit();const e=_.selectedData,t=F.Codeclass.selData,r=o.getJsonRow(e.itemIndex),d=e.dataRow;if(e.column==="Jukyonm")C.fSetMultiDataProvider(o,e.dataRow,{Jukyocd:t.jukyocd,Jukyonm:t.jukyonm});else if(e.column==="BussTravelCurrCdNm"){const n=await pe(e.itemIndex,t.minorcd,r.ExchangeDate);let c=0;U.includes(r.Vatcd)&&(c=Math.round(Math.round(n*r.BussTravelForeAmt)*.1)),C.fSetMultiDataProvider(o,e.dataRow,{BussTravelCurrCd:t.minorcd,BussTravelCurrCdNm:t.minornm,BussTravelExRate:n,CostAmt:Math.round(n*r.BussTravelForeAmt),Amount:Math.round(n*r.BussTravelForeAmt),Tax:c,ToTal:Math.round(n*r.BussTravelForeAmt)+c})}else if(e.column==="subtractnm")C.fSetDataProvider(o,e.dataRow,["subtractcd","subtractnm"],t);else if(e.column==="Protypenm")C.fSetDataProvider(o,e.dataRow,["Protypecd","Protypenm"],t);else if(e.column==="Carnonm")C.fSetMultiDataProvider(o,e.dataRow,{Carnocd:t.minorcd,Carnonm:t.minornm});else if(e.column==="CardNo")C.fSetMultiDataProvider(o,e.dataRow,{cardcd:t.cardcd,CardNo:t.cardno});else if(e.column==="InvGubunnm")C.fSetMultiDataProvider(o,e.dataRow,{InvGubun:t.minorcd,InvGubunnm:t.minornm});else if(e.column==="PnoNm"){const n=t.pno.trim(),c=t.name.trim();C.fSetMultiDataProvider(o,e.dataRow,{pno:n,PnoNm:c})}else if(e.column==="banknm")C.fSetMultiDataProvider(o,e.dataRow,{bankcd:t.minorcd,banknm:t.minornm,AccountNo:t.item1}),m.setCurrent({dataRow:d,column:"LCNO"});else if(e.column==="Deptnm")C.fSetMultiDataProvider(o,e.dataRow,{Deptcd:t.deptcd,Deptnm:t.deptnm});else if(e.column==="custnm")console.log(t),C.fSetMultiDataProvider(o,e.dataRow,{Custcd:t.custcd,custnm:t.custnm,custoutcd:t.custoutcd});else if(e.column==="VatcdNm"){let n=0;U.includes(t.minorcd)&&(n=Math.round(r.CostAmt*.1)),C.fSetMultiDataProvider(o,e.dataRow,{Vatcd:t.minorcd,VatcdNm:t.minornm,Tax:n,Total:r.Amount+n})}m.commit(),m.validateCells(),re({visible:!1,desc:"",value:"",datas:{},selectedData:{},id:"",viewId:""}),m.setFocus()}else return},mt=()=>{if(te==="D"){const e=m.getCurrent().itemIndex;m.setCurrent({itemIndex:e,fieldName:m.getCurrent().fieldName}),m.setFocus(),Z("D")}re({visible:!1})},pt=async()=>{const e=F.ChangeDate;if(u.fValidate(!y(e,"YYYY-MM-DD").isValid(),"\uBCC0\uACBD\uC77C\uC790\uAC00 \uC62C\uBC14\uB974\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4."))return;N(r=>({...r,Costno:"",CostDate:y(e).format("YYYY-MM-DD"),Slpdat:"",GeneDate:y(e).format("YYYY-MM-DD"),CreDate:"",ModDate:""}));const t=o.getJsonRows();o.setRows(t),t.forEach((r,d)=>{o.setRowState(d,"created")}),v.current=null,w.clearCurrent(),m.clearCurrent(),Ee(!1),A({visible:!0,desc:`\uBCF5\uC0AC \uC790\uB8CC\uAC00 \uC900\uBE44\uB418\uC5C8\uC2B5\uB2C8\uB2E4.
\uB0B4\uC6A9 \uD655\uC778 \uD6C4 \uC800\uC7A5\uD558\uC5EC \uC8FC\uC138\uC694.`})},ft=async()=>{ee({visible:!1,desc:"",id:""}),X.id==="SAVE"?Se():X.id==="DELETE"?ut():X.id==="DELETE_ITEM"?ot():X.id==="APPR"?st():X.id==="APPR_CANCEL"&&nt()},ht=()=>{ee({visible:!1,desc:"",id:""})},Re=async()=>{u.fValidate(!y(i.CostDate,"YYYY-MM-DD").isValid(),"\uC791\uC131\uC77C\uC790\uAC00 \uC81C\uB300\uB85C \uC785\uB825\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.")||u.fValidate(!y(i.GeneDate,"YYYY-MM-DD").isValid(),"\uBE44\uC6A9\uBC1C\uC0DD\uC77C\uC774 \uC81C\uB300\uB85C \uC785\uB825\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.")||u.fValidate(!i.Pno,"\uC0AC\uC6D0\uBA85\uC774 \uC81C\uB300\uB85C \uC785\uB825\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.")||u.fValidate(!i.DeptNm,"\uBD80\uC11C\uBA85\uC774 \uC81C\uB300\uB85C \uC785\uB825\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.")||i.BussTravelChk==="Y"&&(u.fValidate(!i.BussTravelPnoNm,"\uCD9C\uC7A5\uC790\uBA85\uC774 \uC81C\uB300\uB85C \uC785\uB825\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.")||u.fValidate(!y(i.BussTravelFrYmd,"YYYY-MM-DD").isValid(),"\uCD9C\uC7A5\uAE30\uAC04(FR)\uC774 \uC81C\uB300\uB85C \uC785\uB825\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.")||u.fValidate(!y(i.BussTravelToYmd,"YYYY-MM-DD").isValid(),"\uCD9C\uC7A5\uAE30\uAC04(TO)\uC774 \uC81C\uB300\uB85C \uC785\uB825\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4."))||(m.commit(),ee({visible:!0,desc:"\uC800\uC7A5 \uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?",id:"SAVE"}),(M.current===null||M.current==="")&&(M.current=new Date))},Ve=async()=>{if(!u.fValidate(!i.Costno,"\uC9C0\uCD9C\uACBD\uBE44 \uBAA9\uB85D\uC774 \uC120\uD0DD\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.")){if(m.commit(!0),te==="H")ee({visible:!0,desc:`\uC8FC\uC758) ${v.current} \uBB38\uC11C\uB97C \uC0AD\uC81C\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?`,id:"DELETE"});else if(te==="D"){if(u.fValidate(m.getCheckedItems(!0).length<1,"\uC0AD\uC81C\uD560 \uACBD\uBE44\uB0B4\uC5ED\uC744 \uC120\uD0DD\uD558\uC138\uC694."))return;ee({visible:!0,desc:`${v.current} \uBE44\uC6A9 \uC0C1\uC138\uB0B4\uC5ED\uC744 \uC0AD\uC81C \uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?`,id:"DELETE_ITEM"})}}},Tt=e=>{J.current=e,Y({...E}),setTimeout(()=>{z(),setTimeout(()=>{K("N","checked");const t=I.searchData({fields:["Costno"],value:v.current,partialMatch:!0});t!=null&&w.setCurrent({dataRow:t.dataRow,column:0})},300)},400)},yt=e=>{!e.shiftKey&&e.key==="Tab"?document.getElementById(u.fMakeId("CostDate")).focus():e.shiftKey&&e.key==="Tab"&&(e.preventDefault(),m.setFocus())},Dt=e=>{!e.shiftKey&&e.key==="Tab"?setTimeout(()=>{document.getElementById(u.fMakeId("SchToDate")).focus()},100):e.shiftKey&&e.key==="Tab"&&setTimeout(()=>{document.getElementById(u.fMakeId("radioBox")).focus()},100)},Bt=e=>{e.shiftKey&&e.key==="Tab"?(e.preventDefault(),document.getElementById(u.fMakeId("SchType")).focus()):e.key==="Tab"&&(e.preventDefault(),w.setFocus())},K=(e,t)=>{J.current="\uACB0\uC7AC",t&&Y({...E,SchWriting:e})},Et=e=>{e.preventDefault(),e.key==="1"&&K("Y","checked"),e.key==="2"&&K("N","checked"),!e.shiftKey&&e.key==="Tab"?document.getElementById(u.fMakeId("SchFrDate")).focus():e.shiftKey&&e.key==="Tab"&&(e.preventDefault(),w.setFocus());const t=["Y","N"];if(e.key==="ArrowRight"){let d=t.indexOf(E.SchWriting)+1;d>1&&(d=1),K(t[d],"checked")}else if(e.key==="ArrowLeft"){let d=t.indexOf(E.SchWriting)-1;d<0&&(d=0),K(t[d],"checked")}},G=(e,t)=>{t&&N({...i,Gubun:e})},xt=e=>{e.preventDefault(),e.key==="1"&&G("1","checked"),e.key==="2"&&G("2","checked"),e.key==="3"&&G("3","checked");const t=["1","2","3"];if(e.key==="ArrowRight"){let d=t.indexOf(i.Gubun)+1;d>2&&(d=2),G(t[d],"checked")}else if(e.key==="ArrowLeft"){let d=t.indexOf(i.Gubun)-1;d<0&&(d=0),G(t[d],"checked")}},ke=e=>{const{itemIndex:t}=m.getCurrent(),r=o.getJsonRows().length;t<0||(V.current=t,e==="U"&&V.current!==0?(o.moveRow(V.current,V.current-1),m.setCurrent({dataRow:V.current-1,column:0}),V.current=V.current-1):e==="D"&&r>V.current+1&&(o.moveRow(V.current,V.current+1),m.setCurrent({dataRow:V.current+1,column:0}),V.current=V.current+1))},gt=async()=>{if(V.current===""||v.current==="")return;const e=o.getJsonRows();for(let t=1;t<e.length+1;t++)o.setValue(t-1,"No",t.toString().padStart(3,"0"));await Se()},se=(e,t)=>{t==="fr"?u.fFieldChange(Y,"SchFrDate",e):u.fFieldChange(Y,"SchToDate",e)},fe=async()=>{Ae(),me(),J.current="\uACB0\uC7AC",v.current="",M.current=new Date,setTimeout(()=>{document.getElementById(u.fMakeId("CostDate")).focus()},10)},z=async()=>{if(Ae(),me(),u.fValidate(!y(E.SchFrDate,"YYYY-MM-DD").isValid()||!y(E.SchToDate,"YYYY-MM-DD").isValid(),"\uC870\uD68C\uAE30\uAC04\uC744 \uBC14\uB974\uAC8C \uC785\uB825\uD574\uC8FC\uC138\uC694.")||u.fValidate(y(E.SchFrDate).format("YYYYMMDD")>y(E.SchToDate).format("YYYYMMDD"),"\uC870\uD68C\uAE30\uAC04\uC744 \uD655\uC778\uD574 \uC8FC\uC138\uC694."))return;const e={...E};if(M.current){const t=y(M.current).format("YYYY-MM-DD"),r=y(E.SchFrDate).format("YYYY-MM-DD"),d=y(E.SchToDate).format("YYYY-MM-DD");t<r?(e.SchFrDate=y(t).format("YYYYMMDD"),se(M.current,"fr")):t>d&&(e.SchToDate=y(t).format("YYYYMMDD"),se(M.current,"to"))}e.SchFrDate=y(e.SchFrDate).format("YYYYMMDD"),e.SchToDate=y(e.SchToDate).format("YYYYMMDD"),e.SchWriting=J.current==="\uACB0\uC7AC \xB7 \uC9C4\uD589\uC911"?"N":E.SchWriting,e.SchAccunit=T.user.accunit,e.SchFactory=T.user.factory,await W.fSearch(I,"/@api/expense/costamount/selectByList",e,"\uC9C0\uCD9C\uACBD\uBE44 \uBAA9\uB85D"),document.getElementById(u.fMakeId("SchText")).focus(),M.current=""},be=()=>{Q(!0),N({...i,Gubun:"1"})},At=()=>{u.fValidate(u.fEmptyReturn(v.current)==="",`\uC9C0\uCD9C\uACBD\uBE44\uBC88\uD638\uAC00 \uC120\uD0DD\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4. 
\uD655\uC778\uD574 \uC8FC\uC2ED\uC2DC\uC624.`)||xe(!0)},Nt=()=>{xe(!1)};return g.exports.useEffect(()=>{u.fHotKey(F,F.isPopup,fe,z,Re,Ve,be)},[F.HotKey]),g.exports.useEffect(()=>(qe(),je(),tt(),me(),()=>{F.fSetHotKey()}),[]),a.createElement(a.Fragment,null,a.createElement(Xt,{pgmid:D,onNew:fe,onSearch:z,onSave:Re,onDelete:Ve,onPrint:be,onAttachment:At}),a.createElement(Pe,{className:"mainCon"},a.createElement(f.exports.Layout,{style:{width:"100%",height:"100%"}},a.createElement(f.exports.LayoutPanel,{region:"west",split:!0,style:{minWidth:350,width:480,maxWidth:860,height:775}},a.createElement(Pe,null,a.createElement(s,{style:{marginLeft:5,marginTop:3,display:"flex",alignItems:"center"}},a.createElement(s,{className:p.SA1,style:{width:80}},a.createElement(s,{className:p.SA2},"\uACB0\uC7AC\uC0C1\uD0DC")),a.createElement(s,{style:{height:25,border:"1px solid #9ac9ed",borderRadius:5,color:"#434343",width:"234px",display:"flex",padding:5,marginLeft:5},id:u.fMakeId("radioBox"),className:"inputCls",onKeyDown:e=>Et(e)},a.createElement(s,{display:"flex",alignItems:"center",style:{marginRight:5}},a.createElement(f.exports.RadioButton,{style:{width:"15px",height:"15px"},inputId:u.fMakeId("Radio0"),value:"Y",groupValue:E.SchWriting,onChange:e=>K("Y",e)}),a.createElement(f.exports.Label,{htmlFor:u.fMakeId("Radio0"),style:{marginLeft:"3px",width:130,fontSize:"12px"}},"\uC791\uC131\uC911+\uBC18\uB824\uBB38\uC11C")),a.createElement(s,{display:"flex",alignItems:"center",style:{marginRight:5,marginLeft:-15}},a.createElement(f.exports.RadioButton,{style:{width:"15px",height:"15px"},inputId:u.fMakeId("Radio1"),value:"N",groupValue:E.SchWriting,onChange:e=>K("N",e)}),a.createElement(f.exports.Label,{htmlFor:u.fMakeId("Radio1"),style:{marginLeft:"3px",width:40,fontSize:"12px"}},"\uC804\uCCB4")))),a.createElement(s,{style:{marginTop:3,display:"flex",alignItems:"center",marginLeft:5}},a.createElement(s,{className:p.SA1},a.createElement(s,{className:p.SA2},"\uAE30\uAC04")),a.createElement(s,{style:{display:"flex",alignItems:"center"}},a.createElement(s,{onKeyDown:e=>Dt(e),style:{marginLeft:5}},a.createElement(j,{inputCls:"inputCls",selected:E.SchFrDate,inputId:u.fMakeId("SchFrDate"),onHandleDateChange:e=>se(e,"fr")})),a.createElement(s,{style:{margin:"0  3px",width:"10px"}},"~"),a.createElement(s,{id:u.fMakeId("SchToDate")},a.createElement(j,{inputCls:"inputCls",selected:E.SchToDate,inputId:u.fMakeId("SchToDate"),onHandleDateChange:e=>se(e,"to")})))),a.createElement(s,{style:{width:"100%",borderRadius:"5px",display:"flex",flexDirection:"column"}},a.createElement(ne,{inputCls:"inputCls",pgmid:D,inputType:"Pno",id:"SchCrePnonm",title:"\uC785\uB825\uC790",helper:x.helperPnoNm2,ComponentCode:E.SchCrePno,ComponentValue:E.SchCrePnonm,SetValue:oe,labelStyles:{width:80,height:25,margin:"3px 3px 5px 8px",padding:5,fontSize:12,display:"flex",alignItems:"center",fontWeight:600},inputStyles:{width:110,margin:"0px 0px 5px 5px"}})),a.createElement(s,{style:{marginTop:1,display:"flex",alignItems:"center",marginLeft:5}},a.createElement(s,{className:p.SA1,style:{width:80}},a.createElement(s,{className:p.SA2,style:{width:80}},"Item\uC758 \uBE44\uACE0")),a.createElement(f.exports.TextBox,{inputCls:"inputCls",name:"SchRemark",inputId:u.fMakeId("SchRemark"),value:E.SchRemark,onChange:e=>{u.fFieldChange(Y,"SchRemark",e)},className:p.SC3,style:{marginLeft:5}})),a.createElement(s,{style:{marginTop:3,display:"flex",alignItems:"center",marginLeft:5}},a.createElement(s,{className:p.SA1,style:{marginRight:8}},a.createElement(s,{className:p.SA2},"\uAC80\uC0C9")),a.createElement(f.exports.ComboBox,{inputCls:"inputCls",inputId:u.fMakeId("SchType"),data:Ue,value:E.SchType,editable:!1,onChange:e=>u.fFieldChange(Y,"SchType",e),onSelectionChange:e=>{u.fGridSort(w,e.value,{0:"CostDate",1:"Costno",2:"DeptNm"}),setTimeout(()=>{document.getElementById(u.fMakeId("SchText")).focus()},100)},panelStyle:{height:100},className:p.SA4}),a.createElement(s,{onKeyDown:e=>{Bt(e)}},a.createElement(f.exports.TextBox,{inputCls:"inputCls",inputId:u.fMakeId("SchText"),className:p.SA5,onChange:e=>dt(e),value:E.SchText}))),a.createElement(s,{ref:ye,id:u.fMakeId("Grid1"),style:{width:"100%",height:598,marginTop:5}}))),a.createElement(f.exports.LayoutPanel,{region:"center",style:{height:775}},a.createElement(f.exports.Layout,null,a.createElement(f.exports.LayoutPanel,null,a.createElement(s,{style:{paddingLeft:0}},a.createElement(s,{style:{display:"flex"}},a.createElement(f.exports.Form,{ref:Fe,style:{maxwidth:"100%"},model:i,rules:i.BussTravelChk==="Y"?Ke:Oe},a.createElement(s,{style:{width:"100%",height:"100%",borderRadius:"5px",display:"flex",flexDirection:"column",padding:0}},a.createElement(s,{onKeyDown:e=>yt(e),style:{marginTop:3,display:"flex",alignItems:"center"}},a.createElement(s,{className:p.SC1},a.createElement(s,{className:p.SC2},"\uC791\uC131\uBC88\uD638")),a.createElement(f.exports.TextBox,{inputCls:"inputCls",name:"Costno",inputId:u.fMakeId("Costno"),value:i.Costno,editable:!1,onChange:e=>u.fFieldChange(N,"Costno",e),className:p.SC3,style:{width:150}}),a.createElement(s,{style:{marginLeft:750}})),a.createElement(s,{style:{marginTop:3,display:"flex",alignItems:"center"}},a.createElement(s,{className:p.SC1},a.createElement(s,{className:p.SC2},"\uC791\uC131\uC77C\uC790",a.createElement(Ie,{style:{marginLeft:25,color:"#ffa8a8"},size:10}))),a.createElement(j,{inputCls:"inputCls",selected:i.CostDate,inputId:u.fMakeId("CostDate"),disabled:!!v.current,onHandleDateChange:e=>{u.fFieldChange(N,"CostDate",e),M.current=e},style:{width:110},inputRequired:!0})),a.createElement(s,{style:{marginTop:3,display:"flex",alignItems:"center"}},a.createElement(s,{className:p.SC1},a.createElement(s,{className:p.SC2},"\uC804\uD45C\uC77C\uC790")),a.createElement(f.exports.TextBox,{inputCls:"inputCls",name:"slpdat",editable:!1,value:i.slpdat,className:p.SC3,style:{width:150}})),a.createElement(s,{style:{marginTop:3,display:"flex",alignItems:"center"}},a.createElement(s,{className:p.SC1},a.createElement(s,{className:p.SC2},"\uBE44\uC6A9\uBC1C\uC0DD\uC77C",a.createElement(Ie,{style:{marginLeft:14,color:"#ffa8a8"},size:10}))),a.createElement(j,{inputCls:"inputCls",selected:i.GeneDate,inputId:u.fMakeId("GeneDate"),onHandleDateChange:e=>{u.fFieldChange(N,"GeneDate",e)},style:{width:110},inputRequired:!0})),a.createElement(ne,{inputCls:"inputCls",pgmid:D,inputType:"Pno",id:"PnoNm",title:"\uC0AC\uC6D0\uBA85",helper:x.helperPnoNm2,ComponentCode:i.Pno,ComponentValue:i.PnoNm,SetValue:oe,labelStyles:{width:90,height:25,margin:"3px 10px 5px 10px",padding:5,fontSize:12,display:"flex",alignItems:"center",fontWeight:600},inputStyles:{width:150,margin:"0px 0px 5px 0px"},inputRequired:!0}),a.createElement(ne,{inputCls:"inputCls",pgmid:D,inputType:"Dept",id:"DeptNm",title:"\uBD80\uC11C\uBA85",helper:x.helperDeptNm,ComponentCode:i.Deptcd,ComponentValue:i.DeptNm,SetValue:oe,labelStyles:{width:90,height:25,margin:"3px 10px 5px 10px",padding:5,fontSize:12,display:"flex",alignItems:"center",fontWeight:600},inputStyles:{width:150,margin:"0px 0px 5px 0px"},inputRequired:!0}),a.createElement(s,{style:{marginTop:3,display:"flex",alignItems:"center"}},a.createElement(s,{className:p.SC1},a.createElement(s,{className:p.SC2},"\uCD5C\uCD08\uC791\uC131\uC77C")),a.createElement(f.exports.TextBox,{inputCls:"inputCls",name:"CreDate",editable:!1,value:y(i.CreDate,"YYYY-MM-DD").isValid()?y(i.CreDate).format("YYYY-MM-DD"):"",className:p.SC3,style:{width:150}})),a.createElement(s,{style:{marginTop:3,display:"flex",alignItems:"center"}},a.createElement(s,{className:p.SC1},a.createElement(s,{className:p.SC2},"\uCD5C\uC885\uC218\uC815\uC77C")),a.createElement(f.exports.TextBox,{inputCls:"inputCls",name:"ModDate",editable:!1,value:y(i.ModDate,"YYYY-MM-DD").isValid()?y(i.ModDate).format("YYYY-MM-DD"):"",className:p.SC3,style:{width:150},inputId:u.fMakeId("ModDate")})),a.createElement(s,{style:{marginTop:3,display:"flex",alignItems:"center"},onKeyDown:e=>{e.shiftKey&&e.key==="Tab"?(e.preventDefault(),setTimeout(()=>{document.getElementById(u.fMakeId("ModDate")).focus()},10)):e.key==="Tab"&&(e.preventDefault(),document.getElementById(u.fMakeId("BussTravelChk")).focus())}},a.createElement(s,{className:p.SC1},a.createElement(s,{className:p.SC2},"\uBE44\uACE0")),a.createElement(f.exports.TextBox,{inputCls:"inputCls",name:"Remark",inputId:u.fMakeId("Remark"),value:i.Remark,onChange:e=>u.fFieldChange(N,"Remark",e),className:p.SC3,placeholder:"\uD55C\uAE00 \uCD5C\uB300 60\uC790"})),a.createElement(s,{style:{display:"flex",flexDirection:"row"}},a.createElement(s,{style:{display:"flex",flexDirection:"column"}},a.createElement(s,{style:{paddingLeft:10,display:"flex",alignItems:"center"}},a.createElement(f.exports.CheckBox,{name:"BussTravelChk",value:i.BussTravelChk,id:"BussTravelChk",inputId:u.fMakeId("BussTravelChk"),className:p.SA3,onChange:e=>{e===!0&&u.fFieldChange(N,"BussTravelChk","Y"),e===!1&&u.fMultiFieldChange(N,{BussTravelChk:"N",BussTravelPno:"",BussTravelPnoNm:"",BussTravelFrYmd:null,BussTravelToYmd:null,BussTravelComp:"",BussTravelDest:""})},checked:i.BussTravelChk==="Y",onBlur:()=>{if(i.BussTravelChk===""||i.BussTravelChk==="N"){m.setFocus();const e=m.getDataSource().getRowCount();if(e<=0){const{itemIndex:t}=m.getCurrent();C.fArrowDown(m,t,e,O()===0,"No")}m.setCurrent({itemIndex:0,column:0})}else document.getElementById(u.fMakeId("BussTravelPnoNm")).focus()}}),a.createElement(f.exports.Label,{htmlFor:u.fMakeId("BussTravelChk"),style:{marginLeft:5,width:"30%",fontSize:12}},"\uCD9C\uC7A5\uC5EC\uBE44\uC815\uC0B0\uC11C")),a.createElement(s,{display:"flex"},a.createElement(ne,{inputCls:"inputCls",pgmid:D,inputType:"Pno",id:"BussTravelPnoNm",title:"\uCD9C\uC7A5\uC790",helper:x.helperPnoNm2,ComponentCode:i.BussTravelPno,ComponentValue:i.BussTravelPnoNm,SetValue:oe,labelStyles:{width:90,height:25,margin:"3px 10px 5px 10px",padding:5,fontSize:12,display:"flex",alignItems:"center",fontWeight:600},inputStyles:{width:150,margin:"0px 0px 5px 0px"},inputRequired:i.BussTravelChk==="Y",disabled:!i.BussTravelChk||i.BussTravelChk==="N"}),a.createElement(s,{style:{marginTop:3,display:"flex",alignItems:"center"}},a.createElement(s,{className:p.SC1},a.createElement(s,{className:p.SC2},"\uB3D9\uD589\uC790")),a.createElement(f.exports.TextBox,{inputCls:"inputCls",name:"BussTravelComp",inputId:u.fMakeId("BussTravelComp"),onChange:e=>u.fFieldChange(N,"BussTravelComp",e),value:i.BussTravelComp,className:p.SC3,style:{width:150},disabled:!i.BussTravelChk||i.BussTravelChk==="N"}))),a.createElement(s,{style:{marginTop:3,display:"flex",alignItems:"center"}},a.createElement(s,{className:p.SC1},a.createElement(s,{className:p.SC2},"\uCD9C\uC7A5\uAE30\uAC04")),a.createElement(s,{style:{display:"flex",alignItems:"center"}},a.createElement(j,{inputCls:"inputCls",selected:i.BussTravelFrYmd,inputId:u.fMakeId("BussTravelFrYmd"),onHandleDateChange:e=>{u.fFieldChange(N,"BussTravelFrYmd",e)},style:{width:80},inputRequired:i.BussTravelChk==="Y",disabled:!i.BussTravelChk||i.BussTravelChk==="N"}),a.createElement(s,{style:{margin:"0  3px",width:"10px"}},"~"),a.createElement(j,{inputCls:"inputCls",selected:i.BussTravelToYmd,inputId:u.fMakeId("BussTravelToYmd"),onHandleDateChange:e=>{u.fFieldChange(N,"BussTravelToYmd",e)},style:{width:80},inputRequired:i.BussTravelChk==="Y",disabled:!i.BussTravelChk||i.BussTravelChk==="N"}))),a.createElement(s,{style:{marginTop:3,display:"flex",alignItems:"center"}},a.createElement(s,{className:p.SC1},a.createElement(s,{className:p.SC2},"\uCD9C\uC7A5\uC9C0\uC5ED")),a.createElement(f.exports.TextBox,{inputCls:"inputCls",name:"BussTravelDest",inputId:u.fMakeId("BussTravelDest"),onChange:e=>u.fFieldChange(N,"BussTravelDest",e),value:i.BussTravelDest,className:p.SC3,style:{width:150},disabled:!i.BussTravelChk||i.BussTravelChk==="N",placeholder:"\uCD5C\uB300 25\uC790",onBlur:()=>{m.setFocus();const e=m.getDataSource().getRowCount();if(e<=0){const{itemIndex:t}=m.getCurrent();C.fArrowDown(m,t,e,O()===0,"No")}m.setCurrent({itemIndex:0,column:0})}}))),a.createElement(s,{style:{display:"flex",flexDirection:"column",justifyContent:"end"}},a.createElement(s,null,a.createElement(f.exports.LinkButton,{style:{height:30,width:42,margin:"4px 0px 4px 10px",color:"#424242",borderRadius:3,marginLeft:50},onClick:()=>ke("U")},a.createElement(s,{style:{height:30,width:42,display:"flex",alignItems:"center",justifyContent:"center"}},a.createElement(Vt,{size:15}))),a.createElement(f.exports.LinkButton,{style:{width:84,margin:"4px 0px 4px 10px",color:"#424242",borderRadius:3},onClick:()=>gt()},a.createElement(s,{style:{width:70,display:"flex",alignItems:"center",justifyContent:"center"}},a.createElement(kt,{size:15,style:{marginRight:5}}),a.createElement(s,{className:p.SB2},"\uC21C\uBC88\uBCC0\uACBD"))),a.createElement(f.exports.LinkButton,{style:{height:30,width:42,margin:"4px 0px 4px 10px",color:"#424242",borderRadius:3,marginRight:15},onClick:()=>ke("D")},a.createElement(s,{style:{height:30,width:42,display:"flex",alignItems:"center",justifyContent:"center"}},a.createElement(bt,{size:15}))))))))),a.createElement(s,{ref:De,id:u.fMakeId("Grid2"),style:{width:"100%",height:319,marginTop:10}}))))),a.createElement(f.exports.LayoutPanel,{region:"east",title:J.current,collapsible:!0,collapsed:!0,expander:!0,style:{width:400}},a.createElement(f.exports.Accordion,{animate:!0,style:{border:0}},a.createElement(f.exports.Panel,{style:{width:"100%",height:741}},a.createElement(s,{style:{marginTop:10}},a.createElement(Ot,{PGMID:D,Init:$.current,ApprovalType:"A",ApprovalDocNo:v.current,ApprovalDocSource:"CO",AttachmentsKeyName:"\uC9C0\uCD9C\uACBD\uBE44\uBC88\uD638",RetrieveFlag:ie.current,MaxRevNo:0,RevNo:0,SetTitle:Tt,isImageComponent:!0,isAttachments:!0,filepath:"CostAmount"}))))))),a.createElement(Pt,{visible:_.visible,description:_.desc,value:_.value,datas:_.datas,id:_.id,viewId:_.viewId,selectedData:_.selectedData,width:le.current,onConfirm:ct,onCancel:()=>mt({target:_.id})}),_e&&a.createElement(Kt,{PGMID:D,FileTitle:"\uC9C0\uCD9C\uACBD\uBE44\uBC88\uD638",FileType:"CO",FileNo:v.current,FilePath:"CostAmount",setClose:Nt}),Le&&a.createElement(f.exports.Dialog,{title:a.createElement(s,{style:{display:"flex"}},a.createElement("img",{src:Me,alt:"logo",style:{width:"27px"}})," ",a.createElement(s,{style:{marginLeft:15}},"\uD504\uB9B0\uD2B8 \uBAA9\uB85D")),style:{width:"400px",height:"300px"},id:"printDialog",bodyCls:"f-column",closable:!0,draggable:!0,modal:!0,onClose:()=>Q(!1)},a.createElement(s,{style:{marginLeft:10,marginTop:3,display:"flex",alignItems:"center"}},a.createElement(s,{className:p.SA1,style:{width:80}},a.createElement(s,{className:p.SA2},"\uCD9C\uB825\uC870\uAC74")),a.createElement(s,{style:{height:25,border:"1px solid #9ac9ed",borderRadius:5,color:"#434343",width:"275px",display:"flex",padding:5,marginLeft:1},id:u.fMakeId("radioBox2"),onKeyDown:e=>xt(e)},a.createElement(s,{display:"flex",alignItems:"center",style:{marginRight:5}},a.createElement(f.exports.RadioButton,{style:{width:"15px",height:"15px"},inputId:u.fMakeId("RadioGubun0"),value:"1",groupValue:i.Gubun,onChange:e=>G("1",e)}),a.createElement(f.exports.Label,{htmlFor:u.fMakeId("RadioGubun0"),style:{marginLeft:"3px",width:80,fontSize:"12px"}},"\uC804\uCCB4")),a.createElement(s,{display:"flex",alignItems:"center",style:{marginRight:5,marginLeft:-15}},a.createElement(f.exports.RadioButton,{style:{width:"15px",height:"15px"},inputId:u.fMakeId("RadioGubun1"),value:"2",groupValue:i.Gubun,onChange:e=>G("2",e)}),a.createElement(f.exports.Label,{htmlFor:u.fMakeId("RadioGubun1"),style:{marginLeft:"3px",width:80,fontSize:"12px"}},"\uCE74\uB4DC")),a.createElement(s,{display:"flex",alignItems:"center",style:{marginRight:5,marginLeft:-15}},a.createElement(f.exports.RadioButton,{style:{width:"15px",height:"15px"},inputId:u.fMakeId("RadioGubun2"),value:"3",groupValue:i.Gubun,onChange:e=>G("3",e)}),a.createElement(f.exports.Label,{htmlFor:u.fMakeId("RadioGubun2"),style:{marginLeft:"3px",width:80,fontSize:"12px"}},"\uD604\uAE08")))),a.createElement(f.exports.LinkButton,{id:"1",style:{width:360,height:32,color:"#424242",borderRadius:3,marginLeft:12,marginTop:3},onClick:lt},a.createElement(s,{style:{fontSize:14,paddingBottom:2,fontWeight:500}},"\uC9C0\uCD9C \uACBD\uBE44 \uB0B4\uC5ED\uC11C")),a.createElement(f.exports.LinkButton,{id:"2",style:{width:360,height:32,color:"#424242",borderRadius:3,marginLeft:12,marginTop:10},onClick:it},a.createElement(s,{style:{fontSize:14,paddingBottom:2,fontWeight:500}},"\uCD9C\uC7A5 \uC5EC\uBE44 \uC815\uC0B0\uC11C (\uAC1C\uBCC4)")),a.createElement(f.exports.LinkButton,{id:"3",style:{width:360,height:32,color:"#424242",borderRadius:3,marginLeft:12,marginTop:10},onClick:Ct},a.createElement(s,{style:{fontSize:14,paddingBottom:2,fontWeight:500}},"\uCD9C\uC7A5 \uC5EC\uBE44 \uC815\uC0B0\uC11C (\uC9D1\uACC4)"))),Ge&&a.createElement(f.exports.Dialog,{title:a.createElement(s,{style:{display:"flex"}},a.createElement("img",{src:Me,alt:"logo",style:{width:"50px"}})," ",a.createElement(s,{style:{marginLeft:15}},Xe)),style:{width:"1870px",height:"900px"},bodyCls:"f-column",closable:!0,draggable:!0,modal:!0,onClose:()=>ae(!1)},a.createElement(s,{className:"f-full"},a.createElement("div",{id:"crownix-viewer",style:{position:"absolute",width:"100%",height:"100%"}}))),a.createElement(Ut,{visible:Ye,onCancel:()=>Ee(!1),onConfirm:pt}),a.createElement(It,{visible:de.visible,description:de.desc,type:de.type,onConfirm:()=>A({visible:!1})}),a.createElement(Mt,{visible:X.visible,description:X.desc,onCancel:ht,onConfirm:ft}))});let I,o,w,m;const jt=vt(zt);export{na as default};
