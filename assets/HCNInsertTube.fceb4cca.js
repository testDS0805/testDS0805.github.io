import{r as B,R as e}from"./index.da6908f5.js";import{m as d,h as R,d as L,o as Ce,B as r,c as ge,u as Te,r as x,A as Be,S as Xe,U as Oe,P as pe,X as Ke,F as Q,C as We}from"./App.11263b70.js";import{C as $e}from"./CommonButton.0b792d77.js";import{H as je}from"./HeaderList.b90f1652.js";import{A as Je}from"./Attachments.19d97d2b.js";import{C as ie}from"./CommonDatePicker.d7bc57f8.js";import{C as q}from"./CodeHelperPopup.3932fdb9.js";import"./index.6f186c21.js";const _e=[{fieldName:"HCN",dataType:d.exports.ValueType.TEXT},{fieldName:"ForgingYn",dataType:d.exports.ValueType.TEXT},{fieldName:"Nace",dataType:d.exports.ValueType.TEXT},{fieldName:"Dual",dataType:d.exports.ValueType.TEXT},{fieldName:"Materialcd",dataType:d.exports.ValueType.TEXT},{fieldName:"Materialno",dataType:d.exports.ValueType.TEXT},{fieldName:"Materialnm2",dataType:d.exports.ValueType.TEXT},{fieldName:"MaterialSpec",dataType:d.exports.ValueType.TEXT},{fieldName:"Material",dataType:d.exports.ValueType.TEXT},{fieldName:"Materialnm",dataType:d.exports.ValueType.TEXT},{fieldName:"Heatno",dataType:d.exports.ValueType.TEXT},{fieldName:"MaterialStandard",dataType:d.exports.ValueType.TEXT},{fieldName:"MaterialStandardnm",dataType:d.exports.ValueType.TEXT},{fieldName:"DesignGrade",dataType:d.exports.ValueType.TEXT},{fieldName:"DesignGradenm",dataType:d.exports.ValueType.TEXT},{fieldName:"Conditions",dataType:d.exports.ValueType.TEXT},{fieldName:"Conditionsnm",dataType:d.exports.ValueType.TEXT},{fieldName:"Ymd",dataType:d.exports.ValueType.DATE,datetimeFormat:"yyyyMMdd"},{fieldName:"MillMaker",dataType:d.exports.ValueType.TEXT},{fieldName:"MillMakernm",dataType:d.exports.ValueType.TEXT},{fieldName:"Subcontractor",dataType:d.exports.ValueType.TEXT},{fieldName:"Subcontractornm",dataType:d.exports.ValueType.TEXT},{fieldName:"HeatTreatment",dataType:d.exports.ValueType.TEXT},{fieldName:"Remark",dataType:d.exports.ValueType.TEXT},{fieldName:"lotNo",dataType:d.exports.ValueType.TEXT},{fieldName:"OuterDiameter",dataType:d.exports.ValueType.TEXT},{fieldName:"wallThick",dataType:d.exports.ValueType.TEXT}],Qe=[{name:"HCN",fieldName:"HCN",type:"data",width:40,header:{text:"HCN",showTooltip:!0},renderer:{type:"text",showTooltip:!0},styleName:"center-column"},{name:"Materialno",fieldName:"Materialno",type:"data",width:"120",header:{text:"\uC790\uC7AC\uCF54\uB4DC",showTooltip:!0},renderer:{type:"text",showTooltip:!0},styleName:"left-column"},{name:"Heatno",fieldName:"Heatno",type:"data",width:"100",header:{text:"HEATNO",showTooltip:!0},renderer:{type:"text",showTooltip:!0},styleName:"center-column"},{name:"Subcontractornm",fieldName:"Subcontractornm",type:"data",width:"100",header:{text:"\uACF5\uAE09\uC790",showTooltip:!0},renderer:{type:"text",showTooltip:!0},styleName:"left-column"}],Ze=[{fieldName:"HCN",dataType:d.exports.ValueType.TEXT},{fieldName:"Materialcd",dataType:d.exports.ValueType.TEXT},{fieldName:"Heatno",dataType:d.exports.ValueType.TEXT},{fieldName:"ReferenceSeq",dataType:d.exports.ValueType.TEXT},{fieldName:"ReferenceNo",dataType:d.exports.ValueType.TEXT},{fieldName:"ReferenceCode",dataType:d.exports.ValueType.TEXT},{fieldName:"ReferenceCodenm",dataType:d.exports.ValueType.TEXT},{fieldName:"MinReference",dataType:d.exports.ValueType.NUMBER},{fieldName:"MaxReference",dataType:d.exports.ValueType.NUMBER},{fieldName:"ChemicalValue",dataType:d.exports.ValueType.NUMBER}],et=[{name:"ReferenceNo",fieldName:"ReferenceNo",width:50,styleName:"center-column",editable:!1,header:{text:"No",showTooltip:!0},renderer:{type:"text",showTooltip:!0}},{name:"ReferenceCodenm",fieldName:"ReferenceCodenm",type:"data",width:100,styleName:"left-column",editable:!1,header:{text:"\uD654\uD559\uC131\uBD84",showTooltip:!0}},{name:"MinReference",fieldName:"MinReference",width:80,styleName:"right-column",editable:!1,header:{text:"MIN",showTooltip:!0},renderer:{type:"text",showTooltip:!0},editor:{type:"number",editFormat:"#,##0.###"},numberFormat:"#,##0.###"},{name:"MaxReference",fieldName:"MaxReference",width:80,styleName:"right-column",editable:!1,header:{text:"MAX",showTooltip:!0},renderer:{type:"text",showTooltip:!0},editor:{type:"number",editFormat:"#,##0.###"},numberFormat:"#,##0.###"},{name:"ChemicalValue",fieldName:"ChemicalValue",width:80,styleName:"right-column",header:{text:"VALUE",showTooltip:!0},renderer:{type:"text",showTooltip:!0},editor:{type:"number",editFormat:"#,##0.###"},numberFormat:"#,##0.###"}],tt=[{fieldName:"HCN",dataType:d.exports.ValueType.TEXT},{fieldName:"Materialcd",dataType:d.exports.ValueType.TEXT},{fieldName:"Heatno",dataType:d.exports.ValueType.TEXT},{fieldName:"ReferenceSeq",dataType:d.exports.ValueType.TEXT},{fieldName:"ReferenceNo",dataType:d.exports.ValueType.TEXT},{fieldName:"ReferenceCode",dataType:d.exports.ValueType.TEXT},{fieldName:"ReferenceCodenm",dataType:d.exports.ValueType.TEXT},{fieldName:"MinReference",dataType:d.exports.ValueType.NUMBER},{fieldName:"MaxReference",dataType:d.exports.ValueType.NUMBER},{fieldName:"PropertyValue",dataType:d.exports.ValueType.NUMBER}],at=[{name:"ReferenceNo",fieldName:"ReferenceNo",width:50,styleName:"center-column",editable:!1,header:{text:"No",showTooltip:!0},renderer:{type:"text",showTooltip:!0}},{name:"ReferenceCodenm",fieldName:"ReferenceCodenm",type:"data",width:100,styleName:"left-column",editable:!1,header:{text:"\uBB3C\uC131\uCE58",showTooltip:!0}},{name:"MinReference",fieldName:"MinReference",width:80,styleName:"right-column",editable:!1,header:{text:"MIN",showTooltip:!0},renderer:{type:"text",showTooltip:!0},editor:{type:"number",editFormat:"#,##0.##"},numberFormat:"#,##0.##"},{name:"MaxReference",fieldName:"MaxReference",width:80,styleName:"right-column",editable:!1,header:{text:"MAX",showTooltip:!0},renderer:{type:"text",showTooltip:!0},editor:{type:"number",editFormat:"#,##0.##"},numberFormat:"#,##0.##"},{name:"PropertyValue",fieldName:"PropertyValue",width:80,styleName:"right-column",header:{text:"VALUE",showTooltip:!0},renderer:{type:"text",showTooltip:!0},editor:{type:"number",editFormat:"#,##0.##"},numberFormat:"#,##0.##"}],nt={DateTitleBox:{margin:"5px 10px 0px 15px",backgroundColor:"#e0ecff",padding:5,color:"#163971",height:25,fontSize:"12px",display:"flex",width:85,alignItems:"center",fontWeight:600},TitleBox4:{backgroundColor:"#fccf76",color:"#163971",padding:5,height:20,fontSize:"12px",display:"flex",alignItems:"center",width:"100%",fontWeight:600},TitleText3:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},InputBox3:{marginTop:5,width:120,height:25,"& input":{fontSize:"12px !important"}},Scroll:{"& .mainCon":{height:"700px",padding:"10px"}},SA1:{width:80,height:25,margin:"3px 3px",backgroundColor:"#e0ecff",color:"#163971",paddingTop:3,fontSize:"12px",alignItems:"center",fontWeight:600,display:"flex"},SA2:{marginTop:-2,marginLeft:5,alignItems:"center",textAlign:"center"},SA3:{width:"15px!important",height:"15px!important",border:"1px solid #3c96ff",marginTop:"1px","& .checkbox-checked":{border:0,background:"#3c96ff"}},SA4:{width:90,height:25,"& input":{fontSize:"12px !important"}},SA5:{marginLeft:5,width:140,height:25,"& input":{fontSize:"12px !important"}},SA6:{width:70,height:25,margin:"3px 3px",backgroundColor:"#fccf76",color:"#163971",padding:5,fontSize:"12px",alignItems:"center",fontWeight:600},SB1:{width:253,height:32,"& input":{fontSize:"16px !important",textAlign:"center",color:"#0070c0"}},SB2:{fontSize:12,paddingBottom:2,fontWeight:500},SC1:{width:90,height:25,margin:"3px 10px",backgroundColor:"#e0ecff",color:"#163971",padding:5,fontSize:"12px",alignItems:"center",fontWeight:600,display:"flex"},SC2:{width:80},SC3:{width:200,height:25,"& input":{fontSize:"12px !important"}},SC4:{width:200,height:25,"& input":{fontSize:"12px !important",textAlign:"right"}},SC5:{fontSize:12,paddingBottom:2,fontWeight:500,marginLeft:5},SC6:{width:150,height:25,"& input":{fontSize:"12px !important",textAlign:"center"}},SC7:{width:80,height:29,margin:"3px 1px",backgroundColor:"#e0ecff",color:"#163971",padding:5,fontSize:"12px",alignItems:"center",fontWeight:600,display:"flex"},SC8:{"& textarea":{fontSize:"12px !important"}}};function it(){const[t,C]=B.exports.useState({SchFrDate:R().format("2023-04-01"),SchToDate:new Date,SchType:"0",SchHCN:"",SchGoodcd:"",SchGoodno:""}),[y,i]=B.exports.useState({Factory:"",Factorynm:"",Ymd:new Date,Materialcd:"",Materialno:"",Materialnm2:"",Goodnm:"",HCN:"",ForgingYn:"N",Nace:"N",Dual:"N",Heatno:"",MaterialSpec:"",Material:"",Materialnm:"",MaterialStandard:"",MaterialStandardnm:"",DesignGrade:"",DesignGradenm:"",Conditions:"",Conditionsnm:"",MillMaker:"",MillMakernm:"",Subcontractor:"",Subcontractornm:"",HeatTreatment:"",Remark:"",Crepno:"",Credate:"",Modpno:"",Moddate:"",UserId:"",saveSource:"",wallThick:"",OuterDiameter:""}),[s]=B.exports.useState({Materialno:"required",Heatno:"required",MaterialStandardnm:"required",DesignGradenm:"required",Conditionsnm:"required",Ymd:"required",MillMakernm:"required",Subcontractornm:"required",HeatTreatment:"required",lotNo:"required"}),[h]=B.exports.useState({HCN:"required",Materialno:"required",Heatno:"required",MaterialStandardnm:"required",DesignGradenm:"required",Conditionsnm:"required",Ymd:"required",MillMakernm:"required",Subcontractornm:"required",HeatTreatment:"required"}),[a]=B.exports.useState([{value:"0",text:"HCN"},{value:"1",text:"\uC790\uC7AC\uCF54\uB4DC"}]),[c,N]=B.exports.useState(""),[u,o]=B.exports.useState(!1),[m,g]=B.exports.useState(!1),[p,E]=B.exports.useState({visible:!1,desc:"",type:"N"}),[T,v]=B.exports.useState({visible:!1,desc:"",id:""}),[V,M]=B.exports.useState({visible:!1,description:"",value:"",datas:{},id:"",viewId:"",selectedData:{}});return String.prototype.DateValidation=function(P){return new Date(this)instanceof Date&&!isNaN(new Date(this))?R(this).format(P):null},{searchVO:t,setSearchVO:C,headerVO:y,setHeaderVO:i,attachView:u,setAttachView:o,gridFocus:c,setGridFocus:N,alert:p,setAlert:E,confirm:T,setConfirm:v,codeClassInputs:V,setCodeClassInputs:M,ValidationRules1:s,ValidationRules2:h,cboSchType:a,TubeSizePPanelView:m,setTubeSizePPanelView:g}}const rt=async(t,C)=>{C({Conditions:"",Conditionsnm:"",Credate:"",Crepno:"",DesignGrade:"",DesignGradenm:"",Dual:"N",Factory:t.User.user.factory,Factorynm:t.User.user.factorynm,HCN:"",Heatno:"",HeatTreatment:"",lotNo:"",Material:"",Materialcd:"",Materialnm:"",Materialno:"",MaterialSpec:"",MaterialStandard:"",MaterialStandardnm:"",MillMaker:"",MillMakernm:"",Moddate:"",Modpno:"",OuterDiameter:"",Remark:"",Subcontractor:"",Subcontractornm:"",UserId:t.User.user.userid,wallThick:"",Ymd:new Date},50)},lt=async(t,C)=>{try{return(await t.Util.Command.fSearchByReturn("/@api/quality/hcnInsertTube/getSize",{goodCd:C,accunit:t.User.user.accunit,factory:t.User.user.factory}))[0]}catch{t.setAlert({visible:!0,desc:" Size, O.D., T.W. \uC870\uD68C \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4.",type:"E"})}},ue=async(t,C,y,i)=>{try{const h=(await L.get("/@api/quality/hcnInsertTube/selectByChemicalValueList",{params:{HCN:i.HCN,Material:i.Material,MaterialStandard:i.MaterialStandard,DesignGrade:i.DesignGrade,Materialcd:i.Materialcd,lotNo:i.lotNo,Heatno:i.Heatno}})).data;if(h===void 0||h.length<1){C.clearRows();return}else{const a=[];for(let c=0;c<C.getRowCount();c++){const N=C.getValue(c,"ReferenceCodenm"),u=C.getValue(c,"ChemicalValue");a.push({rc:N,pv:u}),setTimeout(async()=>{for(let o=0;o<=c;o++){const m=await C.searchData({fields:["ReferenceCodenm"],value:a[o].rc});m!=null&&await C.setValue(m.dataRow,"ChemicalValue",a[o].pv)}},200)}C.setRows(h)}y.clearCurrent()}catch{t.setAlert({visible:!0,desc:"\uC0C1\uC138\uB0B4\uC5ED \uC870\uD68C \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4.",type:"E"})}},ye=async(t,C,y,i,s,h)=>{try{return(await L.get("/@api/quality/hcnInsertTube/CheckCombo",{params:{Materialcd:t,MaterialStandard:C,DesignGrade:y,Conditions:i,lotNo:s,heatNo:h}})).data}catch(a){console.log("CheckCombo error=>",a)}},oe=async(t,C,y,i)=>{try{const h=(await L.get("/@api/quality/hcnInsertTube/selectByPropertyValueList",{params:{HCN:i.HCN,Materialcd:i.Materialcd,lotNo:i.lotNo,Heatno:i.Heatno,Material:i.Material,MaterialStandard:i.MaterialStandard,DesignGrade:i.DesignGrade,Conditions:i.Conditions}})).data;if(h===void 0||h.length<1){C.clearRows();return}else{const a=[];for(let c=0;c<C.getRowCount();c++){const N=C.getValue(c,"ReferenceCodenm"),u=C.getValue(c,"PropertyValue");a.push({rc:N,pv:u}),setTimeout(async()=>{for(let o=0;o<=c;o++){const m=await C.searchData({fields:["ReferenceCodenm"],value:a[o].rc});m!=null&&await C.setValue(m.dataRow,"PropertyValue",a[o].pv)}},200)}C.setRows(h)}y.clearCurrent()}catch{t.setAlert({visible:!0,desc:"\uC0C1\uC138\uB0B4\uC5ED \uC870\uD68C \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4.",type:"E"})}},se=async(t,C,y,i)=>{const s={...C};s.SchFrDate=R(s.SchFrDate).format("YYYYMMDD"),s.SchToDate=R(s.SchToDate).format("YYYYMMDD"),s.SchAccunit=t.User.user.accunit,s.SchFactory=t.User.user.factory,await t.Util.Command.fSearch(y,"/@api/quality/hcnInsertTube/selectByList",s,i)},ut=async(t,C)=>{const y={...C};y.pno=t.User.user.userid,y.accunit=t.User.user.accunit,y.factory=t.User.user.factory;try{const s=(await L.post("/@api/quality/hcnInsertTube/updateSize",{header:y})).data;if(t.Util.Common.fEmptyReturn(s.errmess)!==""){t.setAlert({visible:!0,desc:s.errmess,type:"E"});return}return t.setAlert({visible:!0,desc:`\uC0AC\uC774\uC988 \uC800\uC7A5\uC774 \uC644\uB8CC\uB418\uC5C8\uC2B5\uB2C8\uB2E4. 
\uC800\uC7A5 \uBC84\uD2BC\uC744 \uB204\uB974\uC138\uC694.`}),s}catch(i){t.setAlert({visible:!0,desc:`Size \uC800\uC7A5 \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4.${i}`})}},ot=async(t,C,y,i,s,h,a,c,N,u,o,m)=>{N.commit(!0),u.commit(!0);const g={...y};g.Ymd=R(g.Ymd).format("YYYYMMDD"),g.UserId=t.User.user.userid;let p=[],E=[];const T=he(t,h,p,o,"\uD654\uD559\uC131\uBD84"),v=he(t,a,E,m,"\uBB3C\uC131\uCE58");if(!(T!==""||v!=="")){if(p.length===0&&E.length===0){t.setAlert({visible:!0,desc:"\uD654\uD559\uC131\uBD84 \uBB3C\uC131\uCE58 \uAC12\uC744 \uB4F1\uB85D\uD574\uC57C \uD569\uB2C8\uB2E4.",type:"E"});return}try{const M=(await L.post("/@api/quality/hcnInsertTube/updateByList",{header:g,detail1:p,detail2:E})).data;if(M.errmess!==""){t.setAlert({visible:!0,desc:M.errmess,type:"E"});return}const P=M.HCN?M.HCN.trim():y.HCN.trim();t.setAlert({visible:!0,desc:"\uBB38\uC11C \uC800\uC7A5\uC774 \uC644\uB8CC\uB418\uC5C8\uC2B5\uB2C8\uB2E4."}),setTimeout(()=>{C.SchFrDate=R().clone().startOf("year").toDate(),C.SchToDate=new Date,C.SchType="0",C.SchHCN="",C.SchGoodcd="",C.SchGoodno="",se(t,C,s,"HCN \uC870\uD68C"),i({...y,HCN:P}),setTimeout(()=>{const l=s.searchData({fields:["HCN"],value:P});l!=null&&c.setCurrent({dataRow:l.dataRow,column:0})},500)},500)}catch(V){t.setAlert({visible:!0,desc:`\uC800\uC7A5 \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4.${V}`})}}},st=async(t,C,y,i,s,h)=>{const a={...C};a.Accunit=t.User.user.accunit,a.Factory=t.User.user.factory,a.ReferenceSeq=s.current,a.ReferenceCode=h.current;let c=[];y.getCheckedItems(!0).forEach(u=>c.push(i.getJsonRow(u)));try{const o=(await L.post("/@api/quality/hcnInsertTube/deleteByItem1",{data:a,detail1:c})).data;if(o.errmess!==""){t.setAlert({visible:!0,desc:o.errmess,type:"E"});return}setTimeout(()=>{ue(t,i,y,C)},100)}catch(u){t.setAlert({visible:!0,desc:`\uD654\uD559\uC131\uBD84 \uAC12 \uC0AD\uC81C \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4.
 ${u}`,type:"E"})}},Ct=async(t,C,y,i,s,h)=>{const a={...C};a.Accunit=t.User.user.accunit,a.Factory=t.User.user.factory,a.ReferenceSeq=s.current,a.ReferenceCode=h.current;let c=[];y.getCheckedItems(!0).forEach(u=>c.push(i.getJsonRow(u)));try{const o=(await L.post("/@api/quality/hcnInsertTube/deleteByItem2",{data:a,detail2:c})).data;if(o.errmess!==""){t.setAlert({visible:!0,desc:o.errmess,type:"E"});return}setTimeout(()=>{oe(t,i,y,C)},100)}catch(u){t.setAlert({visible:!0,desc:`\uBB3C\uC131\uCE58 \uAC12 \uC0AD\uC81C \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4.
 ${u}`,type:"E"})}},he=(t,C,y,i,s=null)=>{const h=C.getRows();let a="",c="";return h.forEach((N,u)=>{const o=C.getJsonRow(u);if(!t.Util.Common.fEmptyReturn(o.ReferenceNo)){a="noRefError";return}for(const[m,g]of Object.entries(i))if(typeof o[m]=="number"){if(o[m]==0&&o.MinReference==0&&o.MaxReference==0){a="000Error";return}if(o.MaxReference===0&&o.MinReference>o[m]){a=g;return}if(o.MaxReference!==0&&(o.MinReference>o[m]||o[m]>o.MaxReference)){a=g;return}}y.push(o),a==""}),a=="noRefError"?c="\uC798\uBABB\uB41C ("+t.Util.Grid.fEmptyReturn(s)+`) \uAC12\uC785\uB2C8\uB2E4.
HCN \uD654\uD559\uC131\uBD84 \uBB3C\uC131\uCE58 \uB4F1\uB85D \uD398\uC774\uC9C0\uC5D0\uC11C \uC218\uC815\uD558\uC138\uC694.`:a=="000Error"?c=t.Util.Grid.fEmptyReturn(s)+` \uADF8\uB9AC\uB4DC \uC62C\uBC14\uB978 \uAC12\uC744 \uC785\uB825\uD574\uC8FC\uC138\uC694
(MIN, MAX \uBC0F VALUE \uBAA8\uB450 0\uC77C \uC218 \uC5C6\uC2B5\uB2C8\uB2E4).`:c=t.Util.Grid.fEmptyReturn(s)+" \uADF8\uB9AC\uB4DC ["+a+"] \uBC94\uC704 \uC548\uC758 \uAC12\uC744 \uC785\uB825\uD558\uC138\uC694.",a!=""&&t.setAlert({visible:!0,desc:c}),a},ct=async(t,C)=>{const y={...C};try{const s=(await L.post("/@api/quality/hcnInsertTube/deleteByList",{data:y})).data;return s.errmess!==""&&t.setAlert({visible:!0,desc:s.errmess,type:"E"}),s}catch(i){t.setAlert({visible:!0,desc:`\uC0AD\uC81C \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4.${i}`})}},dt=Ce(t=>{const C=B.exports.useRef(null),y=["ChemicalValue"],i=async()=>{t.Util.Grid.fContainerInit(t.Util.Common.fMakeId(t.Id)),re=new d.exports.LocalDataProvider(!1),k=new d.exports.GridView(C.current),t.Util.Grid.fInitGridDetail(k,re,t.GridFields,t.GridColumns,a,c,N),k.displayOptions.rowHeight=25,k.setRowIndicator({visible:!1}),k.setStateBar({visible:!1}),k.columnByField("ChemicalValue").styleCallback=s,k.setRowStyleCallback(h),k.onValidateColumn=(u,o,m,g)=>{const p={};if(y.includes(o.fieldName)){if(g===0)return;(!g||g===void 0)&&(p.level="warning",p.message="\uD544\uC218 \uC785\uB825 \uAC12\uC785\uB2C8\uB2E4.")}return p},k.onCellClicked=(u,o)=>{t.onClicked(u,o),t.setGridFocus("D1"),t.commit()},t.DataProviderBind(re),t.GridViewBind(k)},s=(u,o)=>{let m=!1;const g=u.getValue(o.index.itemIndex,"MinReference"),p=u.getValue(o.index.itemIndex,"MaxReference"),E=u.getValue(o.index.itemIndex,"ChemicalValue");return typeof E>"u"||g===0&&p===0&&E===0?m=!1:g<=E&&(E<=p||p==0)?m=!0:m=!1,m?"rg-text-blue-color-weight600 right-column":"rg-text-red-color-weight600 right-column"},h=(u,o)=>{let m=!1;return u.getValue(o.index,"ReferenceNo")?m=!0:m=!1,m?"":"rg-column-color-1"},a=async(u,o)=>{u.commit(),t.commit(),t.setGridFocus("D1"),u.getValue(u.getCurrent().itemIndex,o.fieldName)},c=u=>{u.commit(),t.commit(),t.setGridFocus("D1"),k.validateCells()},N=async(u,o)=>{const m=u.getDataSource().getRowCount();u.getCurrent();const{itemIndex:g}=u.getCurrent();switch(t.setGridFocus("D1"),o.key){case"Enter":t.setAlert({visible:!1,desc:""}),u.commit(!0);break;case"Escape":t.Util.Grid.fEscape(u,g,m,"No");break;case"Insert":break;case"ArrowDown":break;case"Tab":u.clearCurrent();break}};return B.exports.useEffect(()=>{i()},[]),e.createElement(e.Fragment,null,e.createElement(r,{ref:C,key:t.Util.Common.fMakeId(t.Id),id:t.Util.Common.fMakeId(t.Id),style:{width:412,height:401}}))});let re,k;const mt=Ce(t=>{const C=B.exports.useRef(null),y=["PropertyValue"],i=async()=>{t.Util.Grid.fContainerInit(t.Util.Common.fMakeId(t.Id)),le=new d.exports.LocalDataProvider(!1),A=new d.exports.GridView(C.current),t.Util.Grid.fInitGridDetail(A,le,t.GridFields,t.GridColumns,a,c,N),A.displayOptions.rowHeight=25,A.setRowStyleCallback(h),A.onCellClick=(u,o)=>{o.dataRow>=0&&t.setGridFocus("D2")},A.setRowIndicator({visible:!1}),A.setStateBar({visible:!1}),A.columnByField("PropertyValue").styleCallback=s,A.onValidateColumn=(u,o,m,g)=>{const p={};if(y[0].includes(o.fieldName)){if(g===0)return;(!g||g===void 0)&&(p.level="warning",p.message="\uD544\uC218 \uC785\uB825 \uAC12\uC785\uB2C8\uB2E4.")}return p},A.onCellClicked=(u,o)=>{t.onClicked(u,o),t.setGridFocus("D2"),t.commit()},t.DataProviderBind(le),t.GridViewBind(A)},s=(u,o)=>{let m=!1;const g=u.getValue(o.index.itemIndex,"MinReference"),p=u.getValue(o.index.itemIndex,"MaxReference"),E=u.getValue(o.index.itemIndex,"PropertyValue");return typeof E>"u"||g===0&&p===0&&E===0?m=!1:g<=E&&(E<=p||p==0)?m=!0:m=!1,m?"rg-text-blue-color-weight600 right-column":"rg-text-red-color-weight600 right-column"},h=(u,o)=>{let m=!1;return u.getValue(o.index,"ReferenceNo")?m=!0:m=!1,m?"":"rg-column-color-1"},a=async(u,o)=>{u.commit(),t.commit(),t.setGridFocus("D2"),u.getValue(u.getCurrent().itemIndex,o.fieldName)},c=u=>{u.commit(),t.commit(),t.setGridFocus("D2"),A.validateCells()},N=async(u,o)=>{const m=u.getDataSource().getRowCount();u.getCurrent();const{itemIndex:g}=u.getCurrent();switch(t.setGridFocus("D2"),o.key){case"Enter":t.setAlert({visible:!1,desc:""}),u.commit(!0),u.setFocus();break;case"Escape":t.Util.Grid.fEscape(u,g,m,"No");break;case"Insert":break;case"ArrowDown":break;case"ArrowUp":break;case"Tab":setTimeout(()=>{u.clearCurrent(),document.getElementById(t.Util.Common.fMakeId("Factorynm")).focus()},1);break}};return B.exports.useEffect(()=>{i()},[]),e.createElement(e.Fragment,null,e.createElement(r,{ref:C,key:t.Util.Common.fMakeId(t.Id),id:t.Util.Common.fMakeId(t.Id),style:{width:412,height:401}}))});let le,A;const ft=({Util:t,visible:C,onClose:y,onSubmit:i,item:s})=>{const h=pt(),[a,c]=B.exports.useState({visible:!1,desc:"",type:"N"}),{$CommonStore:N}=Te(),[u,o]=B.exports.useState({}),m=async()=>{t.Common.fMultiFieldChange(o,{size:s.size,outerDiameter:s.OD,wallThickness:s.WT}),document.getElementById(t.Common.fMakeId("length")).focus()},g=async()=>{i(u),c({visible:!1}),y()},p=()=>{c({visible:!1}),y()},E=T=>T.preventDefault();return B.exports.useEffect(()=>{if(C){m();let T=document.getElementsByClassName("window-mask");T[T.length-1].style="z-index: 100";let v=document.getElementsByClassName("f-column");v[v.length-1].style="z-index: 1250";let V=document.getElementsByClassName("l-btn f-inline-row f-content-center l-btn-small");for(let M=0;M<V.length;M++)V[M].draggable=!1}},[C]),C?e.createElement(e.Fragment,null,e.createElement(x.exports.Dialog,{style:{height:170},title:e.createElement(r,{style:{display:"flex",justifyContent:"center"}},"\uD56D\uBAA9 \uD06C\uAE30 \uC0BD\uC785/\uC5C5\uB370\uC774\uD2B8"),onClose:p,draggable:!0,modal:!0},e.createElement(r,null,e.createElement(r,{style:{width:"100%",padding:5}},e.createElement(r,{display:"flex",flexDirection:"row",style:{marginTop:6}},e.createElement(r,{style:{marginLeft:15,width:127},className:h.TitleBox},"item"),e.createElement(x.exports.TextBox,{value:s.goodNo?s.goodNo:"      "+s.goodNm?s.goodNm:"     "+s.spec?s.spec:"",className:h.S4,disabled:!0,style:{width:"100%"},placeholder:"",placeholder2:"",placeholder3:"",placeholder4:"",placeholder5:"",placeholder6:"",placeholder7:"",placeholder8:"",placeholder9:""})),e.createElement(r,{display:"flex",flexDirection:"row",style:{marginTop:6}},e.createElement(r,{className:h.TitleBox,style:{marginLeft:15,fontSize:10}},"LENGTH (mm)"),e.createElement(r,{draggable:!1,onKeyDown:T=>{N.isShift&&T.key==="Tab"?(T.preventDefault(),setTimeout(()=>{document.getElementById(t.Common.fMakeId("Linkbtn1")).focus()},0)):!N.isShift&&T.key==="Tab"&&(T.preventDefault(),setTimeout(()=>{document.getElementById(t.Common.fMakeId("outerDiameter")).focus()},1))}},e.createElement(x.exports.NumberBox,{max:99999999999999,precision:2,spinners:!1,inputCls:"inputCls",placeholder:"",placeholder2:"",name:"length",id:t.Common.fMakeId("length"),inputId:t.Common.fMakeId("length"),onChange:T=>t.Common.fFieldChange(o,"size",T),value:u.size,className:h.S4,inputStyle:{textAlign:"right"}})),e.createElement(r,{style:{marginLeft:15},className:h.TitleBox},"O.D. (mm)"),e.createElement(x.exports.NumberBox,{max:99999999999999,spinners:!1,precision:2,inputCls:"inputCls",placeholder:"",placeholder2:"",reversed:!0,name:"outerDiameter",id:t.Common.fMakeId("outerDiameter"),inputId:t.Common.fMakeId("outerDiameter"),onChange:T=>t.Common.fFieldChange(o,"outerDiameter",T),value:u.outerDiameter,className:h.S4,inputStyle:{textAlign:"right"}}),e.createElement(r,{style:{marginLeft:15},className:h.TitleBox},"W.T. (mm)"),e.createElement(x.exports.NumberBox,{max:99999999999999,precision:2,spinners:!1,inputCls:"inputCls",placeholder:"",placeholder2:"",name:"wallThickness",id:t.Common.fMakeId("wallThickness"),inputId:t.Common.fMakeId("wallThickness"),onChange:T=>t.Common.fFieldChange(o,"wallThickness",T),value:u.wallThickness,className:h.S4,inputStyle:{textAlign:"right"}}))),e.createElement(r,{draggable:!1,onKeyDown:T=>{N.isShift&&T.key==="Tab"?(T.preventDefault(),setTimeout(()=>{document.getElementById(t.Common.fMakeId("wallThickness")).focus()},0)):!N.isShift&&T.key==="Tab"&&(T.preventDefault(),setTimeout(()=>{document.getElementById(t.Common.fMakeId("length")).focus()},1))},style:{marginTop:5,marginBottom:5,marginLeft:-20,display:"flex",alignItems:"center"}},e.createElement(x.exports.LinkButton,{id:t.Common.fMakeId("Linkbtn1"),draggable:!1,ondragstart:T=>E(T),ondragend:()=>{},text:"\uC800\uC7A5",iconCls:"icon-save",onClick:g,style:{marginLeft:"70%",width:180,height:30}})))),e.createElement(Be,{visible:a.visible,description:a.desc,type:a.type,onConfirm:()=>{c({visible:!1})}})):null},pt=ge(Xe),St=Ce(()=>{const t="HCNINSERTTUBE",{$CommonStore:C,$UserStore:y}=Te(),i=yt(),{searchVO:s,setSearchVO:h,headerVO:a,setHeaderVO:c,attachView:N,setAttachView:u,gridFocus:o,setGridFocus:m,alert:g,setAlert:p,confirm:E,setConfirm:T,ValidationRules1:v,cboSchType:V,TubeSizePPanelView:M,setTubeSizePPanelView:P}=it(),l=new Oe(t,p,!0,!0,!0,!0,!0),De=B.exports.useRef(null),xe=B.exports.useRef(""),ce=B.exports.useRef(0),O=B.exports.useRef(),K=B.exports.useRef(""),W=B.exports.useRef(),$=B.exports.useRef(""),U=B.exports.useRef(),de=B.exports.useRef({}),X=B.exports.useRef(""),Ee=async()=>P({visible:!1}),Ne=async n=>{n.goodCd=a.Materialcd;const f=await ut(w,n);if(l.Common.fMultiFieldChange(c,{wallThick:f.wallThickness,OuterDiameter:f.OuterDiameter}),a.HCN!=""){const{dataRow:D}=Y.getCurrent();H.setValue(D,"wallThick",f.wallThickness),H.setValue(D,"OuterDiameter",f.OuterDiameter)}console.log("out")},Z=async()=>{C.fSetBinding(!0),await rt(w,c),C.fSetBinding(!1),X.current="",xe.current="",U.current="",l.Common.fSetTabIndex(),setTimeout(()=>{document.getElementById(w.Util.Common.fMakeId("Materialno")).focus()},100)},[w]=B.exports.useState({Util:l,User:y,fInit:Z,setAlert:p,setHeaderVO:c}),Se={ChemicalValue:"\uD654\uD559\uC131\uBD84\uAC12"},we={PropertyValue:"\uBB3C\uC131\uCE58\uAC12"},be=n=>H=n,Me=n=>G=n,Ae=n=>b=n,Ie=n=>Y=n,ke=n=>I=n,Re=n=>F=n,j=()=>{Y.commit(),I.commit(),F.commit()},z=async(n,f,D,S)=>{if(C.fGetBinding())return;switch(n){case"SchGoodno":l.Common.fMultiFieldChange(h,{SchGoodcd:f,SchGoodno:D});break;case"Materialno":a.HCN?l.Common.fMultiFieldChange(c,{Materialcd:f,Materialno:D,Materialnm2:S.Data.goodnm,MaterialSpec:S.Data.spec,Material:S.Data.class5,Materialnm:S.Data.class5nm,OuterDiameter:S.Data.outdiameter,wallThick:S.Data.wallthickness}):l.Common.fMultiFieldChange(c,{Materialcd:f,Materialno:D,Materialnm2:S.Data.goodnm,MaterialSpec:S.Data.spec,Material:S.Data.class5,Materialnm:S.Data.class5nm,OuterDiameter:S.Data.outdiameter,wallThick:S.Data.wallthickness,MaterialStandard:"",MaterialStandardnm:"",DesignGrade:"",DesignGradenm:"",Conditions:"",Conditionsnm:""});break;case"MaterialStandardnm":l.Common.fMultiFieldChange(c,{MaterialStandard:f,MaterialStandardnm:D,DesignGrade:"",DesignGradenm:"",Conditions:"",Conditionsnm:""});break;case"DesignGradenm":l.Common.fMultiFieldChange(c,{DesignGrade:f,DesignGradenm:D,Conditions:"",Conditionsnm:""}),a.DesignGrade=f,a.DesignGrade&&await ue(w,G,I,a),!f&&!D&&!S.Data&&G&&b&&(G.setRows({}),b.setRows({}));break;case"Conditionsnm":l.Common.fMultiFieldChange(c,{Conditions:f,Conditionsnm:D}),a.Conditions=f,a.Conditions&&await oe(w,b,F,a),!f&&!D&&!S.Data&&b&&b.setRows({});break;case"MillMakernm":l.Common.fMultiFieldChange(c,{MillMaker:f,MillMakernm:D});break;case"Subcontractornm":l.Common.fMultiFieldChange(c,{Subcontractor:f,Subcontractornm:D});break}let ne,J,_=[{checkReturn:""}];n=="Conditionsnm"?ne=f:ne=a.Conditions,n=="Materialno"?J=f:J=a.Materialcd,J&&(_=await ye(J,a.MaterialStandard,a.DesignGrade,ne,a.lotNo,a.Heatno)),_[0].checkReturn&&(!a.HCN||_[0].combosHCN!=a.HCN)&&(p({visible:!0,desc:`\uC774 \uC790\uC7AC \uCF54\uB4DC, \uC790\uC7AC \uD45C\uC900, \uB4F1\uAE09, 
Lot No.,HEATNO \uBC0F CONDITION \uC138\uD2B8\uC5D0 HCN\uC774 \uC788\uC2B5\uB2C8\uB2E4 (${_[0].combosHCN})`,type:"E"}),b.setRows({}),n=="Conditionsnm"?setTimeout(()=>{l.Common.fMultiFieldChange(c,{Conditions:"",Conditionsnm:""})},1e3):n=="Materialno"&&setTimeout(()=>{l.Common.fMultiFieldChange(c,{Materialcd:"",Materialno:"",Materialnm2:"",MaterialSpec:"",Material:"",Materialnm:"",OuterDiameter:"",wallThick:""})},1e3))},Fe=n=>{h(D=>({...D,SchText:n}));let f="";s.SchType==="0"?f=H.searchData({fields:["HCN"],value:n,partialMatch:!0}):s.SchType==="1"&&(f=H.searchData({fields:["Materialno"],value:n,partialMatch:!0})),f!=null&&Y.setCurrent({dataRow:f.dataRow,column:0})},ee=async n=>{let f;return a.Materialcd&&(f=await ye(a.Materialcd,a.MaterialStandard,a.DesignGrade,a.Conditions,a.lotNo,a.Heatno)),a.Materialcd&&f[0].checkReturn&&(!a.HCN||f[0].combosHCN!=a.HCN)?(p({visible:!0,desc:`\uC774 \uC790\uC7AC \uCF54\uB4DC, \uC790\uC7AC \uD45C\uC900, \uB4F1\uAE09, 
Lot No.,HEATNO \uBC0F CONDITION \uC138\uD2B8\uC5D0 
HCN\uC774 \uC788\uC2B5\uB2C8\uB2E4 (${f[0].combosHCN})`,type:"E"}),b.setRows({}),(n=="lotNo"||n=="Heatno")&&l.Common.fFieldChange(c,n,""),!1):f[0].checkReturn&&f[0].combosHCN!=a.HCN?(p({visible:!0,desc:`\uC774 \uC790\uC7AC \uCF54\uB4DC, \uC790\uC7AC \uD45C\uC900, \uB4F1\uAE09, 
Lot No.,HEATNO \uBC0F CONDITION \uC138\uD2B8\uC5D0 
HCN\uC774 \uC788\uC2B5\uB2C8\uB2E4 (${f[0].combosHCN})`,type:"E"}),b.setRows({}),!1):!0},Ve=n=>{!n.shiftKey&&n.key==="Tab"&&setTimeout(()=>{document.getElementById(l.Common.fMakeId("SchToDate")).focus()},100)},He=n=>{!n.shiftKey&&n.key==="Tab"?setTimeout(()=>{document.getElementById(l.Common.fMakeId("SchFrDate")).focus()},10):n.shiftKey&&n.key==="Tab"&&setTimeout(()=>{document.getElementById(l.Common.fMakeId("SchType")).focus()},100)},Ge=async(n,f)=>{j(),m("H"),G.clearRows(),b.clearRows(),ce.current=f;const D=H.getJsonRow(f);U.current=D.HCN,C.fSetBinding(!0),c(D),C.fSetBinding(!1),setTimeout(()=>{ue(w,G,I,D),oe(w,b,F,D),X.current=""},100)},ve=(n,f)=>{const D=I.getValue(f.itemIndex,"ReferenceSeq"),S=I.getValue(f.itemIndex,"ReferenceCode");O.current=D,K.current=S},Le=(n,f)=>{const D=F.getValue(f.itemIndex,"ReferenceSeq"),S=F.getValue(f.itemIndex,"ReferenceCode");W.current=D,$.current=S},Pe=async()=>{a.HCN="",l.Common.fFieldChange(c,"saveSource","copyBtn"),ae()},ze=async()=>{if(T({visible:!1,desc:"",id:""}),E.id==="SAVE"){if(j(),!await ee(X.current))return;let f=await lt(w,a.Materialcd);Object.values(f).some(D=>w.Util.Common.fEmptyReturn(D)=="")?(de.current={goodNo:a.Materialno,spec:a.Spec,OD:f.OuterDiameter,WT:f.WallThickness,size:w.Util.Common.fEmptyReturn(f.size)?f.size:""},P({visible:!0})):await ot(w,s,a,c,H,G,b,Y,I,F,Se,we)}else E.id==="DELETE"?(await ct(w,a),setTimeout(()=>{se(w,s,H,"HCN \uB9AC\uC2A4\uD2B8"),te()},100)):E.id==="DELETE_ITEM1"?(await st(w,a,I,G,O,K),O.current="",K.current=""):E.id==="DELETE_ITEM2"&&(await Ct(w,a,F,b,W,$),W.current="",$.current="")},qe=()=>{T({visible:!1,desc:"",id:""})},te=async()=>{Z(),G.clearRows(),b.clearRows(),O.current="",K.current="",W.current="",$.current="",U.current=""},me=async()=>{l.Common.fValidate(!R(s.SchFrDate,"YYYY-MM-DD").isValid(),"\uC870\uD68C\uAE30\uAC04\uC744 \uBC14\uB974\uAC8C \uC785\uB825\uD574\uC8FC\uC138\uC694.")||l.Common.fValidate(!R(s.SchToDate,"YYYY-MM-DD").isValid(),"\uC870\uD68C\uAE30\uAC04\uC744 \uBC14\uB974\uAC8C \uC785\uB825\uD574\uC8FC\uC138\uC694.")||l.Common.fValidate(R(s.SchFrDate).format("YYYYMMDD")>R(s.SchToDate).format("YYYYMMDD"),"\uC870\uD68C\uAE30\uAC04\uC744 \uD655\uC778\uD574 \uC8FC\uC138\uC694.")||(await se(w,s,H,"HCN"),setTimeout(()=>{Y.setFocus()},100))},ae=async()=>{l.Common.fValidate(!R(a.Ymd,"YYYY-MM-DD").isValid(),"\uC785\uACE0\uC77C\uC790\uAC00 \uC81C\uB300\uB85C \uC785\uB825\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.")||l.Common.fValidateElements({MaterialStandardnm:"\uC7AC\uB8CC\uD45C\uC900",Materialno:"\uC790\uC7AC\uCF54\uB4DC",lotNo:"LOTNO",Heatno:"HEATNO",Conditionsnm:"CONDITIONS",MillMakernm:"MAKER",Subcontractornm:"\uACF5\uAE09\uC790",HeatTreatment:"\uC5F4\uCC98\uB9AC",DesignGradenm:"\uB4F1\uAE09"})||(a.Materialcd||p({visible:!0,desc:"'\uC790\uC7AC\uCF54\uB4DC'\uC774 \uC62C\uBC14\uB974\uAC8C \uC785\uB825\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4. \uD55C\uBC88 \uB354 \uC785\uB825\uD558\uACE0 \uC5D4\uD130 \uD0A4\uB97C \uB20C\uB7EC\uC8FC\uC138\uC694.",type:"N"}),a.Heatno||p({visible:!0,desc:"'Heatno'\uC774 \uC62C\uBC14\uB974\uAC8C \uC785\uB825\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4. \uD55C\uBC88 \uB354 \uC785\uB825\uD558\uACE0 \uC5D4\uD130 \uD0A4\uB97C \uB20C\uB7EC\uC8FC\uC138\uC694.",type:"N"}),a.lotNo||p({visible:!0,desc:"'Lot No.'\uC774 \uC62C\uBC14\uB974\uAC8C \uC785\uB825\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4. \uD55C\uBC88 \uB354 \uC785\uB825\uD558\uACE0 \uC5D4\uD130 \uD0A4\uB97C \uB20C\uB7EC\uC8FC\uC138\uC694.",type:"N"}),a.MaterialStandard||p({visible:!0,desc:"'\uC7AC\uB8CC\uD45C\uC900'\uC774 \uC62C\uBC14\uB974\uAC8C \uC785\uB825\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4. \uD55C\uBC88 \uB354 \uC785\uB825\uD558\uACE0 \uC5D4\uD130 \uD0A4\uB97C \uB20C\uB7EC\uC8FC\uC138\uC694.",type:"N"}),a.DesignGrade||p({visible:!0,desc:"'\uB4F1\uAE09'\uC774 \uC62C\uBC14\uB974\uAC8C \uC785\uB825\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4. \uD55C\uBC88 \uB354 \uC785\uB825\uD558\uACE0 \uC5D4\uD130 \uD0A4\uB97C \uB20C\uB7EC\uC8FC\uC138\uC694.",type:"N"}),a.Conditions||p({visible:!0,desc:"'CONDITION'\uC774 \uC62C\uBC14\uB974\uAC8C \uC785\uB825\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4. \uD55C\uBC88 \uB354 \uC785\uB825\uD558\uACE0 \uC5D4\uD130 \uD0A4\uB97C \uB20C\uB7EC\uC8FC\uC138\uC694.",type:"N"}),a.MillMaker||p({visible:!0,desc:"'MAKER'\uC774 \uC62C\uBC14\uB974\uAC8C \uC785\uB825\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4. \uD55C\uBC88 \uB354 \uC785\uB825\uD558\uACE0 \uC5D4\uD130 \uD0A4\uB97C \uB20C\uB7EC\uC8FC\uC138\uC694.",type:"N"}),a.Subcontractor||p({visible:!0,desc:"'\uACF5\uAE09\uC790'\uC774 \uC62C\uBC14\uB974\uAC8C \uC785\uB825\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4. \uD55C\uBC88 \uB354 \uC785\uB825\uD558\uACE0 \uC5D4\uD130 \uD0A4\uB97C \uB20C\uB7EC\uC8FC\uC138\uC694.",type:"N"}),!(!a.Heatno||!a.lotNo||!a.MaterialStandard||!a.DesignGrade||!a.Conditions||!a.MillMaker||!a.Subcontractor)&&T({visible:!0,desc:"\uC800\uC7A5 \uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?",id:"SAVE"}))},fe=async()=>{if(!l.Common.fValidate(!a.HCN,"HCN\uC774 \uC120\uD0DD\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.")){if(o==="H")p({visible:!0,desc:"HCN List\uB294 \uC0AD\uC81C \uD558\uC2E4 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.",type:"W"});else if(o==="D1"){if(I.commit(),l.Common.fValidate(I.getCheckedItems(!0).length<1,"\uC0AD\uC81C\uD560 \uD654\uD559\uC131\uBD84\uC744 \uC120\uD0DD\uD558\uC138\uC694."))return;T({visible:!0,desc:"\uD654\uD559\uC131\uBD84\uC744 \uC0AD\uC81C \uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?",id:"DELETE_ITEM1"})}else if(o==="D2"){if(F.commit(),l.Common.fValidate(F.getCheckedItems(!0).length<1,"\uC0AD\uC81C\uD560 \uBB3C\uC131\uCE58\uB97C \uC120\uD0DD\uD558\uC138\uC694."))return;T({visible:!0,desc:"\uBB3C\uC131\uCE58\uB97C \uC0AD\uC81C \uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?",id:"DELETE_ITEM2"})}}},Ye=async()=>{l.Common.fValidate(l.Common.fEmptyReturn(U.current)==="",`HCN\uC774 \uC120\uD0DD\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4. 
\uD655\uC778\uD574 \uC8FC\uC2ED\uC2DC\uC624.`)||u(!0)},Ue=()=>{u(!1)};return B.exports.useEffect(()=>{l.Common.fHotKey(C,C.isPopup,te,me,ae,fe)},[C.HotKey]),B.exports.useEffect(()=>{Z()},[]),e.createElement(e.Fragment,null,e.createElement($e,{pgmid:t,visible:"111101",onNew:te,onSearch:me,onSave:ae,onDelete:fe,onAttachment:Ye}),e.createElement(pe,{className:"mainCon"},e.createElement(x.exports.Layout,{style:{width:"100%",height:775}},e.createElement(x.exports.LayoutPanel,{region:"west",split:!0,style:{minWidth:550,maxWidth:550,height:775}},e.createElement(pe,{className:i.Scroll},e.createElement(r,{style:{marginTop:5}},e.createElement(r,{style:{marginTop:3,marginLeft:5,display:"flex",alignItems:"center"}},e.createElement(r,{className:i.SA1},e.createElement(r,{className:i.SA2},"\uAE30\uAC04")),e.createElement(r,{style:{display:"flex",alignItems:"center"}},e.createElement(r,{onKeyDown:n=>Ve(n)},e.createElement(ie,{inputCls:"inputCls",selected:s.SchFrDate,inputId:l.Common.fMakeId("SchFrDate"),onHandleDateChange:n=>l.Common.fFieldChange(h,"SchFrDate",n)})),e.createElement(r,{style:{margin:"0  3px",width:"10px"}},"~"),e.createElement(r,{id:l.Common.fMakeId("SchToDate")},e.createElement(ie,{inputCls:"inputCls",selected:s.SchToDate,inputId:l.Common.fMakeId("SchToDate"),onHandleDateChange:n=>l.Common.fFieldChange(h,"SchToDate",n)})))),e.createElement(r,{display:"flex",alignItems:"center"},e.createElement(r,{className:i.SA1,style:{marginLeft:8}},e.createElement(r,{className:i.SA2},"HCN")),e.createElement(r,{onKeyDown:n=>{n.shiftKey&&n.key==="Tab"&&(n.preventDefault(),I.setFocus())}},e.createElement(x.exports.TextBox,{inputId:l.Common.fMakeId("SchHCN"),inputCls:"inputCls",name:"SchHCN",onChange:n=>l.Common.fFieldChange(h,"SchHCN",n),value:s.SchHCN,className:i.SC3,style:{width:235}}))),e.createElement(q,{inputCls:"inputCls",pgmid:t,inputType:"Good",id:"SchGoodno",title:"\uC790\uC7AC\uCF54\uB4DC",helper:l.CodeHelper.helperTubeGoodNo,ComponentCode:s.SchGoodcd,ComponentValue:s.SchGoodno,SetValue:z,labelStyles:{width:80,height:25,margin:"3px 3px 5px 8px",padding:5,fontSize:12,display:"flex",alignItems:"center",fontWeight:600},inputStyles:{width:235,margin:"0px 0px 5px 0px"}}),e.createElement(r,{display:"flex",alignItems:"center"},e.createElement(r,{className:i.SA1,style:{marginLeft:8}},e.createElement(r,{className:i.SA2},"\uAC80\uC0C9")),e.createElement(x.exports.ComboBox,{inputCls:"inputCls",inputId:l.Common.fMakeId("SchType"),data:V,value:s.SchType,editable:!1,onChange:n=>l.Common.fFieldChange(h,"SchType",n),onSelectionChange:n=>{l.Common.fGridSort(Y,n.value,{0:"HCN",1:"Materialno"}),setTimeout(()=>{document.getElementById(l.Common.fMakeId("SchText")).focus()},100)},panelStyle:{height:66},className:i.SA4}),e.createElement(r,{onKeyDown:n=>{He(n)}},e.createElement(x.exports.TextBox,{inputCls:"inputCls",inputId:l.Common.fMakeId("SchText"),className:i.SA5,onChange:n=>Fe(n),value:s.SchText}))),e.createElement(r,{style:{marginTop:5}},e.createElement(je,{Util:l,Id:"Grid1",GridTitle:"\uD5E4\uB354",Height:634,currentIndex:ce,GridFields:_e,GridColumns:Qe,RowChanged:Ge,DataProviderBind:be,GridViewBind:Ie}))))),e.createElement(x.exports.LayoutPanel,{region:"center"},e.createElement(x.exports.Layout,null,e.createElement(x.exports.LayoutPanel,{region:"north"},e.createElement(x.exports.Form,{ref:De,style:{maxWidth:"100%"},model:a,rules:v,labelWidth:120,labelAlign:"right"},e.createElement(r,{style:{width:"100%"}},e.createElement(r,{display:"flex"},e.createElement(q,{inputCls:"inputCls",pgmid:t,inputType:"Good",id:"Materialno",title:"\uC790\uC7AC\uCF54\uB4DC",helper:l.CodeHelper.helperTubeGoodNo,ComponentCode:a.Materialcd,ComponentValue:a.Materialno,SetValue:z,labelStyles:{width:90,height:25,margin:"3px 10px 5px 10px",padding:5,fontSize:12,display:"flex",alignItems:"center",fontWeight:600},inputStyles:{width:200,margin:"0px 0px 5px 0px"},inputRequired:!0}),e.createElement(r,{style:{marginTop:3,display:"flex",alignItems:"center"}},e.createElement(r,{className:i.SC1},"SPEC"),e.createElement(r,null,e.createElement(x.exports.TextBox,{inputId:l.Common.fMakeId("Spec"),disabled:!0,inputCls:"inputCls",name:"Spec",value:a.MaterialSpec,editable:!1,className:i.SC3}))),e.createElement(r,{style:{marginTop:3,display:"flex",alignItems:"center"}},e.createElement(r,{className:i.SC1},"\uC7AC\uC9C8"),e.createElement(x.exports.TextBox,{inputId:l.Common.fMakeId("Materialnm"),inputCls:"inputCls",disabled:!0,name:"Materialnm",value:a.Materialnm,editable:!1,className:i.SC3})),e.createElement(r,{style:{marginLeft:75,marginTop:10}},e.createElement(x.exports.LinkButton,{style:{width:100,color:"#424242"},onClick:()=>Pe(),inputCls:"inputCls",placeholder1:"",placeholder2:"",placeholder3:"",placeholder4:"",placeholder5:"",placeholder6:""},e.createElement(r,{style:{display:"flex",alignItems:"center",justifyContent:"center"}},e.createElement(Ke,{size:18}),e.createElement(r,{className:i.SB2,style:{marginLeft:5}},"\uC790\uB8CC\uBCF5\uC0AC"))))),e.createElement(r,{display:"flex"},e.createElement(r,{style:{marginTop:3,display:"flex",alignItems:"center"}},e.createElement(r,{className:i.SC1},e.createElement(r,{className:i.SC2},"O.D. (mm)")),e.createElement(x.exports.NumberBox,{inputId:l.Common.fMakeId("OuterDiameter"),inputCls:"inputCls",name:"OuterDiameter",spinners:!1,value:a.OuterDiameter,className:i.SC3,style:{width:200},precision:2,onChange:n=>l.Common.fFieldChange(c,"OuterDiameter",n),disabled:!0})),e.createElement(r,{style:{marginTop:3,display:"flex",alignItems:"center"}},e.createElement(r,{className:i.SC1,style:{size:1e3,padding:0}},e.createElement(r,{className:i.SC1,style:{size:100,width:100,padding:0,margin:0,marginLeft:5}},"W.T.(mm)")),e.createElement(x.exports.NumberBox,{inputId:l.Common.fMakeId("wallThick"),inputCls:"inputCls",name:"wallThick",spinners:!1,precision:2,value:a.wallThick,className:i.SC3,style:{width:200},onChange:n=>l.Common.fFieldChange(c,"wallThick",n),disabled:!0}))),e.createElement(r,{display:"flex"},e.createElement(r,{style:{marginTop:3,display:"flex",alignItems:"center"}},e.createElement(r,{className:i.SC1},e.createElement(r,{className:i.SC2},"HCN")),e.createElement(r,{onKeyDown:n=>{!n.shiftKey&&n.key==="Tab"&&setTimeout(()=>{document.getElementById(l.Common.fMakeId("ForgingYn")).focus()},10)}},e.createElement(x.exports.TextBox,{inputId:l.Common.fMakeId("HCN"),inputCls:"inputCls",name:"HCN",value:a.HCN,className:i.SC3,onChange:n=>l.Common.fFieldChange(c,"HCN",n),disabled:!0})))),e.createElement(r,{style:{marginTop:3,display:"flex",alignItems:"center"}},e.createElement(r,{className:i.SC1},e.createElement(r,{className:i.SC2},"HEATNO"),e.createElement(Q,{style:{marginLeft:20,color:"#ffa8a8"},size:16})),e.createElement(r,{onKeyDown:n=>{n.shiftKey&&n.key==="Tab"&&setTimeout(()=>{document.getElementById(l.Common.fMakeId("Nace")).focus()},10),(!n.shiftKey&&n.key==="Tab"||n.key==="Enter")&&ee("Heatno")}},e.createElement(x.exports.TextBox,{inputId:l.Common.fMakeId("Heatno"),inputCls:"inputCls",name:"Heatno",value:a.Heatno,className:i.SC3,onChange:n=>{l.Common.fFieldChange(c,"Heatno",n),X.current="Heatno"}})),e.createElement(r,{onKeyDown:n=>{(!n.shiftKey&&n.key==="Tab"||n.key==="Enter")&&ee("lotNo")}},e.createElement(r,{style:{marginTop:3,display:"flex",alignItems:"center"}},e.createElement(r,{className:i.SC1},e.createElement(r,{className:i.SC2},"Lot No."),e.createElement(Q,{style:{marginLeft:5,color:"#ffa8a8"},size:12})),e.createElement(x.exports.TextBox,{inputId:l.Common.fMakeId("lotNo"),inputCls:"inputCls",name:"lotNo",value:a.lotNo,className:i.SC3,style:{width:200},onChange:n=>{l.Common.fFieldChange(c,"lotNo",n),X.current="lotNo"}})))),e.createElement(r,{display:"flex"},e.createElement(q,{inputCls:"inputCls",pgmid:t,inputType:"",id:"MaterialStandardnm",title:"\uC7AC\uB8CC\uD45C\uC900",helper:l.CodeHelper.helperMaterialStandard,ComponentCode:a.MaterialStandard,ComponentValue:a.MaterialStandardnm,SetValue:z,labelStyles:{width:90,height:25,margin:"3px 10px 5px 10px",padding:5,fontSize:12,display:"flex",alignItems:"center",fontWeight:600},inputStyles:{width:200,margin:"0px 0px 5px 0px"},inputRequired:!0}),e.createElement(q,{inputCls:"inputCls",pgmid:t,inputType:"",id:"DesignGradenm",title:"\uB4F1\uAE09",helper:l.CodeHelper.helperDesignGrade,ComponentCode:a.DesignGrade,ComponentValue:a.DesignGradenm,SetValue:z,labelStyles:{width:90,height:25,margin:"3px 10px 5px 10px",padding:5,fontSize:12,display:"flex",alignItems:"center",fontWeight:600},inputStyles:{width:200,margin:"0px 0px 5px 0px"},inputRequired:!0}),e.createElement(q,{inputCls:"inputCls",pgmid:t,inputType:"",id:"Conditionsnm",title:"CONDITION",helper:l.CodeHelper.helperConditions,ComponentCode:a.Conditions,ComponentValue:a.Conditionsnm,SetValue:z,labelStyles:{width:90,height:25,margin:"3px 10px 5px 10px",padding:5,fontSize:12,display:"flex",alignItems:"center",fontWeight:600},inputStyles:{width:200,margin:"0px 0px 5px 0px"},inputRequired:!0})),e.createElement(r,{display:"flex"},e.createElement(r,{style:{marginTop:3,display:"flex",alignItems:"center"}},e.createElement(r,{className:i.SC1},e.createElement(r,{className:i.SC2},"\uC785\uACE0\uC77C\uC790"),e.createElement(Q,{style:{marginLeft:25,color:"#ffa8a8"},size:18})),e.createElement(ie,{inputCls:"inputCls",selected:a.Ymd,inputId:l.Common.fMakeId("Ymd"),onHandleDateChange:n=>l.Common.fFieldChange(c,"Ymd",n),style:{width:160}})),e.createElement(q,{inputCls:"inputCls",pgmid:t,inputType:"",id:"MillMakernm",title:"MAKER",helper:l.CodeHelper.helperMaker,ComponentCode:a.MillMaker,ComponentValue:a.MillMakernm,SetValue:z,labelStyles:{width:90,height:25,margin:"3px 10px 5px 10px",padding:5,fontSize:12,display:"flex",alignItems:"center",fontWeight:600},inputStyles:{width:200,margin:"0px 0px 5px 0px"},inputRequired:!0}),e.createElement(q,{inputCls:"inputCls",pgmid:t,inputType:"Cust",id:"Subcontractornm",title:"\uACF5\uAE09\uC790",helper:l.CodeHelper.helperCust,ComponentCode:a.Subcontractor,ComponentValue:a.Subcontractornm,SetValue:z,labelStyles:{width:90,height:25,margin:"3px 10px 5px 10px",padding:5,fontSize:12,display:"flex",alignItems:"center",fontWeight:600},inputStyles:{width:200,margin:"0px 0px 5px 0px"},inputRequired:!0})),e.createElement(r,{style:{marginTop:3,display:"flex"}},e.createElement(r,{className:i.SC1},e.createElement(r,{className:i.SC2},"\uC5F4\uCC98\uB9AC"),e.createElement(Q,{style:{marginLeft:25,color:"#ffa8a8"},size:18})),e.createElement(r,null,e.createElement(x.exports.TextBox,{style:{width:510,height:60,marginTop:3},inputId:l.Common.fMakeId("HeatTreatment"),inputCls:"inputCls",name:"HeatTreatment",value:a.HeatTreatment,onChange:n=>l.Common.fFieldChange(c,"HeatTreatment",n),multiline:!0}))),e.createElement(r,{style:{marginTop:3,paddingBottom:10,display:"flex",alignItems:"center"}},e.createElement(r,{className:i.SC1},"\uBE44\uACE0"),e.createElement(r,{onKeyDown:n=>{!n.shiftKey&&n.key==="Tab"&&(n.preventDefault(),I.setFocus(),m("D1"))}},e.createElement(x.exports.TextBox,{inputId:l.Common.fMakeId("Remark"),inputCls:"inputCls",name:"Remark",value:a.Remark,className:i.SC3,style:{width:510},onChange:n=>l.Common.fFieldChange(c,"Remark",n)})))))),e.createElement(x.exports.LayoutPanel,{region:"center"},e.createElement(r,{style:{paddingBottom:10,display:"flex"}},e.createElement(r,{style:{marginLeft:10,marginTop:10}},e.createElement(r,{className:i.TitleBox4,style:{width:840}},"HCN \uD654\uD559\uC131\uBD84 \uBB3C\uC131\uCE58 \uB4F1\uB85D"),e.createElement(r,{display:"flex"},e.createElement(r,null,e.createElement(dt,{Util:l,Id:"Grid2",GridTitle:"\uD654\uD559\uC131\uBD84",GridFields:Ze,GridColumns:et,setGridFocus:m,setAlert:p,onClicked:ve,DataProviderBind:Me,GridViewBind:ke,commit:j})),e.createElement(r,{style:{width:16}}),e.createElement(r,null,e.createElement(mt,{Util:l,Id:"Grid3",GridTitle:"\uBB3C\uC131\uCE58",GridFields:tt,GridColumns:at,setGridFocus:m,setAlert:p,onClicked:Le,DataProviderBind:Ae,GridViewBind:Re,commit:j})))))))))),e.createElement(ft,{Util:l,visible:M.visible,onClose:Ee,onSubmit:Ne,item:de.current,placeholder2:"",placeholder3:""}),N&&e.createElement(Je,{PGMID:t,FileTitle:"HCN",FileType:"HI",FileNo:U.current,FilePath:"HCNInsertTube",setClose:Ue}),e.createElement(Be,{visible:g.visible,description:g.desc,type:g.type,onConfirm:()=>p({visible:!1})}),e.createElement(We,{visible:E.visible,description:E.desc,onCancel:qe,onConfirm:ze}))});let H,G,b,Y,I,F;const yt=ge(nt);export{St as default};
