import{r as o,R as i}from"./index.da6908f5.js";import{o as P,B as c,m as p,i as G,h as B,c as H,u as L,U as _,P as F,r as z,A as K}from"./App.11263b70.js";import{C as O}from"./CommonDatePicker.d7bc57f8.js";import{C as X}from"./CommonButton.0b792d77.js";import{C as S}from"./CodeHelperPopup.3932fdb9.js";import"./index.6f186c21.js";const $=P(e=>{const r=o.exports.useRef(null),x=async()=>{e.Util.Grid.fContainerInit(e.Util.Common.fMakeId(e.Id)),V=new p.exports.LocalDataProvider(!1),E=new p.exports.GridView(r.current),e.Util.Grid.fInitGridHeader(E,V,e.GridFields,e.GridColumns,27,C,a,void 0,e.GridTitle),E.setFooters({visible:!0}),e.DataProviderBind(V),e.GridViewBind(E)},C=()=>{},a=()=>{};return o.exports.useEffect(()=>{x()},[]),i.createElement(i.Fragment,null,i.createElement(c,{ref:r,key:e.Util.Common.fMakeId(e.Id),id:e.Util.Common.fMakeId(e.Id),style:{width:"100%",height:e.Height}}))});let V,E;const j={BoxAlignStyle:{marginTop:3,display:"flex",alignItems:"center"},S1:{"& .panel-header":{borderRightWidth:0,height:35}},S2:{"& .panel-body":{borderRightWidth:0}},TitleBox:{margin:"3px 15px",backgroundColor:"#e0ecff",color:"#163971",padding:5,height:25,fontSize:"12px",display:"flex",alignItems:"center",width:110,fontWeight:600},TitleBox3:{margin:"3px 15px 3px -5px",backgroundColor:"#e0ecff",color:"#163971",padding:5,height:25,fontSize:"12px",display:"flex",alignItems:"center",width:110,fontWeight:600},TitleBox4:{backgroundColor:"#fccf76",color:"#163971",padding:5,height:20,fontSize:"12px",display:"flex",alignItems:"center",width:"100%",fontWeight:600},DateTitleBox:{margin:"5px 10px 0px 15px",backgroundColor:"#e0ecff",padding:5,color:"#163971",height:25,fontSize:"12px",display:"flex",width:85,alignItems:"center",fontWeight:600},HeaderPanelLabelBox:{margin:"5px 10px 0px 15px",backgroundColor:"#e0ecff",padding:5,color:"#163971",height:25,fontSize:"12px",display:"flex",width:85,alignItems:"center",fontWeight:600},green:{backgroundColor:"#b8eecf",color:"#424242",border:"1px solid #c2c2c2",width:130},SC3:{width:200,height:25,"& input":{fontSize:"12px !important"},"& ::placeholder":{color:"#757575"}},DateTitleBox2:{margin:"5px 10px 0px 15px",backgroundColor:"#e0ecff",padding:5,color:"#163971",height:25,fontSize:"12px",display:"flex",width:50,alignItems:"center",fontWeight:600},DateTitleBox3:{margin:"5px 10px 0px 15px",backgroundColor:"#e0ecff",padding:5,color:"#163971",height:25,fontSize:"12px",display:"flex",width:85,alignItems:"center",fontWeight:600},DateTitleBox4:{margin:"0px 10px 0px 5px",backgroundColor:"#fccf76",padding:5,color:"#163971",height:25,fontSize:"12px",display:"flex",width:85,alignItems:"center",fontWeight:600},S4_multi:{width:955,height:55,marginTop:5,"& .textbox-text ":{fontSize:"12px !important",backgroundColor:"#e0ffff"}},TitleBox2:{margin:"0px 10px",marginBottom:3,backgroundColor:"#e0ecff",padding:5,color:"#163971",height:25,fontSize:"12px",display:"flex",width:190,alignItems:"center",fontWeight:600},InputBox:{width:170,height:25,"& input":{fontSize:"12px !important"}},InputBox_fontSize:{"& input":{fontSize:"12px !important"}},InputBox_multi:{width:650,height:100,"& textarea":{fontSize:"12px !important"}},InputBox2:{width:30,height:25,"& input":{fontSize:"12px !important"}},InputBox_frash:{width:30,height:25,backgroundColor:"#f7f7f7",marginRight:140,"& input":{fontSize:"12px !important",color:"red",backgroundColor:"#f7f7f7"}},InputBox_fras2:{width:30,height:25,marginRight:140,"& input":{fontSize:"12px !important"}},InputBox3:{marginTop:5,width:120,height:25,"& input":{fontSize:"12px !important"}},InputBox4:{marginRight:80,width:190,height:25,"& input":{fontSize:"12px !important"}},InputBox4_GoodNo:{marginLeft:10,width:270,height:25,"& input":{fontSize:"12px !important"}},InputBox4_Rev:{marginRight:140,width:30,height:25,"& input":{fontSize:"12px !important"}},InputBox5:{marginRight:5,width:120,height:25,"& input":{fontSize:"12px !important",textAlign:"right"}},InputBox6:{marginTop:3,width:105,height:25,"& input":{fontSize:"12px !important"}},InputBox7:{marginTop:3,marginLeft:5,width:125,height:25,"& input":{fontSize:"12px !important"}},txtFieldStyle:{marginTop:5},SB2:{width:450,height:40,backgroundColor:"#ddffdd",border:"1px solid #c2c2c2",color:"#163971",borderRightWidth:0,paddingLeft:10,padding:5,fontSize:"13px",fontWeight:500,display:"flex",alignItems:"center",justifyContent:"flex-start"},SB3:{width:"100%",height:40,backgroundColor:"#fff",border:"1px solid #c2c2c2",color:"#000",padding:5,fontSize:"14px",fontWeight:500,display:"flex",alignItems:"center",justifyContent:"flex-start"},RB1:{width:"15px!important",height:"15px!important"},RB2:{"& :focus-visible":{outline:"none!important",border:"2px solid #91a7ff!important"}},DateFont:{"& .textbox-text":{fontSize:"12px"},"& .textbox":{fontSize:"12px"},"& .combo-arrow":{backgroundImage:`url(${G})`,backgroundRepeat:"no-repeat",backgroundColor:"#ffffff!important",height:12}},LabelText:{display:"flex",paddingTop:4,width:120,fontSize:"12px",paddingLeft:"6px",color:"#848484"},RadioLabel:{display:"flex",alignItems:"center",height:20,width:100,fontSize:12,margin:"0px 3px"},RadioLabel2:{display:"flex",alignItems:"center",height:20,width:70,fontSize:12,margin:"0px 3px"},Scroll:{"& .mainCon":{height:"700px",padding:"10px"}},ComboStyle2:{width:100,height:25,margin:"5px 0px 0px 0px","& input":{fontSize:"12px !important"},"& textbox-addon":{width:20}},ComboStyle3:{margin:"0px 5px",width:150,height:25,"& input":{fontSize:"12px !important"},"& textbox-addon":{width:20}},ComboStyle4:{margin:"0px 5px 0px 0px",width:120,height:25,"& input":{fontSize:"12px !important"},"& textbox-addon":{width:20}},S3:{"& .panel-body":{borderTopWidth:0}},S7:{"& .tabs-header, .tabs-tool":{background:"#fff3d3"},"& .tabs-panels":{borderBottomWidth:"0px"}},Numeric:{width:100,height:25,"& input":{fontSize:"12px !important",textAlign:"right"}},SA1:{width:70,height:25,margin:"3px 3px",backgroundColor:"#e0ecff",color:"#163971",padding:5,fontSize:"12px",alignItems:"center",fontWeight:600,display:"flex"},SA2:{width:60},SA3:{width:"15px!important",height:"15px!important",border:"1px solid #3c96ff",marginTop:"1px","& .checkbox-checked":{border:0,background:"#3c96ff"}},SA4:{width:90,height:25,"& input":{fontSize:"12px !important"}},SA5:{marginLeft:5,width:140,height:25,"& input":{fontSize:"12px !important"}},SB1:{width:253,height:32,"& input":{fontSize:"16px !important",textAlign:"center",color:"#0070c0"}},SC1:{width:90,height:25,margin:"3px 10px",backgroundColor:"#e0ecff",color:"#163971",padding:5,fontSize:"12px",alignItems:"center",fontWeight:600,display:"flex"},SC2:{width:80},SC4:{width:200,height:25,"& input":{fontSize:"12px !important",textAlign:"right"}},SC5:{fontSize:12,paddingBottom:2,fontWeight:500,marginLeft:5},SC6:{width:150,height:25,"& input":{fontSize:"12px !important",textAlign:"center"}},SC7:{width:80,height:29,margin:"3px 1px",backgroundColor:"#e0ecff",color:"#163971",padding:5,fontSize:"12px",alignItems:"center",fontWeight:600,display:"flex"},SC8:{"& textarea":{fontSize:"12px !important"}}},J=[{fieldName:"goodno",dataType:p.exports.ValueType.TEXT},{fieldName:"spec",dataType:p.exports.ValueType.TEXT},{fieldName:"itemno",dataType:p.exports.ValueType.TEXT},{fieldName:"spec_008",dataType:p.exports.ValueType.TEXT},{fieldName:"acceptqty",dataType:p.exports.ValueType.NUMBER},{fieldName:"stockqty",dataType:p.exports.ValueType.NUMBER},{fieldName:"assemqty",dataType:p.exports.ValueType.NUMBER},{fieldName:"oasqty",dataType:p.exports.ValueType.NUMBER},{fieldName:"assemqty_total",dataType:p.exports.ValueType.NUMBER},{fieldName:"oasqty_total",dataType:p.exports.ValueType.NUMBER},{fieldName:"goodcd",dataType:p.exports.ValueType.TEXT},{fieldName:"itemcd",dataType:p.exports.ValueType.TEXT}],Q=[{name:"goodno",fieldName:"goodno",width:100,styleName:"left-column",header:{text:"\uC81C\uD488\uD488\uBC88"}},{name:"spec",fieldName:"spec",width:100,styleName:"left-column",header:{text:"\uC81C\uD488\uADDC\uACA9"}},{name:"itemno",fieldName:"itemno",width:100,styleName:"left-column",header:{text:"\uBC18\uC81C\uD488\uD488\uBC88"}},{name:"spec_008",fieldName:"spec_008",width:100,styleName:"left-column",header:{text:"\uBC18\uC81C\uD488\uADDC\uACA9"}},{name:"acceptqty",fieldName:"acceptqty",width:35,styleName:"right-column",header:{text:"\uC218\uC8FC\uC218\uB7C9"},renderer:{type:"text"},numberFormat:"#,##0"},{name:"stockqty",fieldName:"stockqty",width:35,styleName:"right-column",header:{text:"\uD604\uC7AC\uACE0\uB7C9"},footer:{numberFormat:"#,##0",expression:"sum"},renderer:{type:"text"},numberFormat:"#,##0"},{name:"assemqty",fieldName:"assemqty",width:35,styleName:"right-column",header:{text:"\uC791\uC5C5\uC218\uB7C9"},renderer:{type:"text"},numberFormat:"#,##0"},{name:"oasqty",fieldName:"oasqty",width:35,styleName:"right-column",header:{text:"\uBD80\uC871\uC218\uB7C9"},renderer:{type:"text"},numberFormat:"#,##0"},{name:"assemqty_total",fieldName:"assemqty_total",width:35,styleName:"right-column",header:{text:"\uCD1D\uC791\uC5C5\uC218\uB7C9"},renderer:{type:"text"},numberFormat:"#,##0"},{name:"oasqty_total",fieldName:"oasqty_total",width:35,styleName:"right-column",header:{text:"\uCD1D\uBD80\uC871\uC218\uB7C9"},renderer:{type:"text"},numberFormat:"#,##0"}];function Z(){const[e,r]=o.exports.useState({}),[x,C]=o.exports.useState({}),[a,s]=o.exports.useState({}),[u,h]=o.exports.useState(""),[t,l]=o.exports.useState(!1),[f,b]=o.exports.useState(!1),[R,k]=o.exports.useState(!1),[A,T]=o.exports.useState(!1),[N,D]=o.exports.useState({visible:!1,desc:"",type:"N"}),[I,y]=o.exports.useState({visible:!1}),[g,n]=o.exports.useState({visible:!1}),[m,d]=o.exports.useState({visible:!1,desc:"",id:""}),[Y]=o.exports.useState([{value:"0",text:"\uACAC\uC801\uC0B0\uCD9C\uC77C\uC790"},{value:"1",text:"\uACAC\uC801\uC0B0\uCD9C\uBC88\uD638"}]),[M]=o.exports.useState({PayCond:"required",OutReqYmd:"required",Inspectdate:"required",ExpType:"required",CustCD:"required",CustCDnm:"required",ResultPno:"required",ResultPnonm:"required",ResultDeptCd:"required",ResultDeptCdnm:"required",FileTypenm:"required",FileType:"required"}),[v,U]=o.exports.useState({visible:!1,description:"",value:"",datas:{},id:"",viewId:"",selectedData:{}});return String.prototype.DateValidation=function(W){return new Date(this)instanceof Date&&!isNaN(new Date(this))?B(this).format(W):null},{setSubSearchVO:s,subSearchVO:a,searchVO:e,setSearchVO:r,InputVO:x,setInputVO:C,gridFocus:u,setGridFocus:h,cboSchType:Y,ValidationRules:M,codeClassInputs:v,setCodeClassInputs:U,alert:N,setAlert:D,confirm:m,setConfirm:d,attachView:t,setAttachView:l,HCNattachView:f,setHCNAttachView:b,printView:R,setPrintView:k,printList:A,setPrintList:T,RRPopupPanelView:I,setRRPopupPanelView:y,RRSplitPPanelView:g,setRRSplitPPanelView:n}}const ee=async(e,r)=>{e({SchToYmd:B().format("YYYY-MM-DD"),Factory:"0000000",FactoryNm:"\uBCF8\uC0AC",Class2:"",Class2Nm:"",Class3:"",Class3Nm:"",Class4:"",Class4Nm:"",Class5:"",Class5Nm:""},50)},te=async(e,r,x,C,a)=>{if(e.Util.Common.fValidate(!B(r.SchToYmd,"YYYY-MM-DD").isValid()))return;const s={...r};s.SchToYmd=B(r.SchToYmd).format("YYYYMMDD"),s.SchFrYmd=B(r.SchToYmd).startOf("month").format("YYYYMMDD"),s.SchAccunit=e.User.user.accunit,s.SchFactory=e.User.user.factory;try{const u=await e.Util.Command.fSearchByReturn("/@api/stock/IncompleteParts/selectByList",s);if(!u.length)throw"noRes";let h=[],t=0;u.map(l=>{for(const f in l)l[f]===0&&(l[f]="");l.goodtype[0].includes("055004")?(l.itemno="",l.spec_008="",t+=Number(l.acceptqty)):(l.goodno="",l.spec=""),h.push(l)}),t=t.toLocaleString("en-US",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0}),a.columnByName("acceptqty").setFooters([{text:t}]),x.setRows(h)}catch(u){u=="noRes"?e.setAlert({visible:!0,desc:"\uBC18\uC81C\uD488\uACFC\uBD80\uC871\uC790\uB8CC \uC870\uD68C \uACB0\uACFC\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.",type:"A"}):e.setAlert({visible:!0,desc:"\uBC18\uC81C\uD488\uACFC\uBD80\uC871\uC790\uB8CC \uC870\uD68C \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4.",type:"E"})}},pe=P(()=>{const e="INCOMPLETEPARTS",{$CommonStore:r,$UserStore:x}=L(),C=ie(),{searchVO:a,setSearchVO:s,alert:u,setAlert:h}=Z(),t=new _(e,h,!0,!0,!0,!0,!0),l=o.exports.useRef(t.Common.fCreateHelper("A0004WEB","061")),f=o.exports.useRef(t.Common.fCreateHelper("A0004WEB","062")),b=async()=>{t.Common.fSetTabIndex(),t.Common.fHotKey(r.isPopup,T,y,N,D,I),await ee(s),document.getElementById(t.Common.fMakeId("SchToYmd")).focus()},[R]=o.exports.useState({Util:t,User:x,fInit:b,setAlert:h}),k=n=>q=n,A=n=>{w=n,w.onKeyDown=async(m,d)=>{switch(d.preventDefault(),d.key){case(d.shiftKey&&"Tab"):document.getElementById(t.Common.fMakeId("Class5")).focus();break;case"Tab":document.getElementById(t.Common.fMakeId("SchToYmd")).focus();break}}},T=()=>{},N=()=>{},D=()=>{},I=()=>{},y=async()=>{await te(R,a,q,"\uBC18\uC81C\uD488\uACFC\uBD80\uC871\uC790\uB8CC",w)},g=(n,m,d)=>{switch(n){case"FactoryNm":t.Common.fMultiFieldChange(s,{SchFactory:m,SchFactoryNm:d});break;case"Class2":t.Common.fMultiFieldChange(s,{Class2:m,Class2Nm:d,Class3:"",Class3Nm:"",Class4:"",Class4Nm:"",Class5:"",Class5Nm:""}),l.current.iInCode2=m;break;case"Class3":t.Common.fMultiFieldChange(s,{Class3:m,Class3Nm:d,Class4:"",Class4Nm:"",Class5:"",Class5Nm:""}),f.current.iInCode2=m;break;case"Class4":t.Common.fMultiFieldChange(s,{Class4:m,Class4Nm:d,Class5:"",Class5Nm:""});break;case"Class5":t.Common.fMultiFieldChange(s,{Class5:m,Class5Nm:d});break}};return o.exports.useEffect(()=>{t.Common.fHotKey(r,r.isPopup,T,y,N,D,I)},[r.HotKey]),o.exports.useEffect(()=>{b()},[]),i.createElement(i.Fragment,null,i.createElement(X,{pgmid:e,visible:"010000",onSearch:y}),i.createElement(F,{className:"mainCon"},i.createElement(z.exports.Layout,{style:{width:"100%",height:"100%"}},i.createElement(z.exports.LayoutPanel,{region:"center"},i.createElement(F,{className:C.Scroll},i.createElement(c,{style:{marginTop:5}},i.createElement(c,{display:"flex",alignItems:"center"},i.createElement(c,{className:C.DateTitleBox},"\uAE30\uAC04"),i.createElement(c,{style:{display:"flex",alignItems:"center"}},i.createElement(c,{onKeyDown:n=>{n.shiftKey&&n.keyCode==9&&(n.preventDefault(),w.setFocus())}},i.createElement(O,{inputCls:"inputCls",classes:C,selected:a.SchToYmd,inputId:t.Common.fMakeId("SchToYmd"),onHandleDateChange:n=>t.Common.fFieldChange(s,"SchToYmd",n),style:{width:160}})))),i.createElement(c,{style:{display:"flex",alignItems:"center"}},i.createElement(S,{inputCls:"inputCls",pgmid:e,inputType:"",id:"SchFactory",title:"\uACF5\uC7A5\uBA85",helper:t.CodeHelper.helperFactory,SetValue:g,ComponentCode:a.Factory,ComponentValue:a.FactoryNm,inputStyles:{margin:"0px 0px 0px 10px",width:200,marginRight:25},labelStyles:{margin:"0px 0px 0px 15px",width:85}}),i.createElement(S,{inputCls:"inputCls",pgmid:e,inputType:"",id:"Class2",title:"\uB300\uBD84\uB958",helper:t.CodeHelper.helperClass2,ComponentCode:a.Class2,ComponentValue:a.Class2Nm,SetValue:g,inputStyles:{margin:"0px 0px 0px 10px",width:200,marginRight:25},labelStyles:{margin:"0px 0px 0px 15px",width:85}}),i.createElement(S,{inputCls:"inputCls",pgmid:e,inputType:"",id:"Class3",title:"\uC911\uBD84\uB958",helper:l.current,ComponentCode:a.Class3,ComponentValue:a.Class3Nm,SetValue:g,inputStyles:{margin:"0px 0px 0px 10px",width:200,marginRight:25},labelStyles:{margin:"0px 0px 0px 15px",width:85}}),i.createElement(S,{inputCls:"inputCls",pgmid:e,inputType:"",id:"Class4",title:"\uC18C\uBD84\uB958",helper:f.current,ComponentCode:a.Class4,ComponentValue:a.Class4Nm,SetValue:g,inputStyles:{margin:"0px 0px 0px 10px",width:200,marginRight:25},labelStyles:{margin:"0px 0px 0px 15px",width:85}}),i.createElement(c,{onKeyDown:n=>{!n.shiftKey&&n.keyCode==9&&(n.preventDefault(),w.setFocus())}},i.createElement(S,{inputCls:"inputCls",pgmid:e,inputType:"",id:"Class5",title:"\uC7AC\uC9C8",helper:t.CodeHelper.helperClass5,ComponentCode:a.Class5,ComponentValue:a.Class5Nm,SetValue:g,inputStyles:{margin:"0px 0px 0px 10px",width:200},labelStyles:{margin:"0px 0px 0px 15px",width:85}}))),i.createElement(c,{style:{marginTop:5}},i.createElement($,{Util:t,Id:"Grid1",GridTitle:"\uC131\uC801\uC11C",Height:700,currentIndex:0,GridFields:J,GridColumns:Q,DataProviderBind:k,GridViewBind:A}))))))),i.createElement(K,{visible:u.visible,description:u.desc,type:u.type,onConfirm:()=>h({visible:!1})}))});let q,w;const ie=H(j);export{pe as default};
