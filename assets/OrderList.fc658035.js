import{r as i,R as e}from"./index.da6908f5.js";import{m as c,o as K,c as H,u as z,U as W,h as m,P as _,B as a,r as n,A as Q,d as k,i as $}from"./App.11263b70.js";import{C as O}from"./CommonDatePicker.d7bc57f8.js";import{C as J}from"./CommonButton.0b792d77.js";import"./index.6f186c21.js";const j=[{fieldName:"Exptype"},{fieldName:"CustoutCd"},{fieldName:"Custcd"},{fieldName:"CustNm"},{fieldName:"AcceptNo"},{fieldName:"Acceptseq"},{fieldName:"Acceptdate"},{fieldName:"Delvdate"},{fieldName:"Org_Delvdate"},{fieldName:"Goodcd"},{fieldName:"Goodno"},{fieldName:"Spec"},{fieldName:"Acceptqty",dataType:c.exports.ValueType.NUMBER},{fieldName:"Outqty",dataType:c.exports.ValueType.NUMBER},{fieldName:"Boxqty",dataType:c.exports.ValueType.NUMBER},{fieldName:"MiQty",dataType:c.exports.ValueType.NUMBER},{fieldName:"Korprice",dataType:c.exports.ValueType.NUMBER},{fieldName:"Koramt",dataType:c.exports.ValueType.NUMBER},{fieldName:"Workno"},{fieldName:"Pono"},{fieldName:"Shipno"},{fieldName:"Factoryno"},{fieldName:"Remarks"},{fieldName:"BomYn"},{fieldName:"RecordYn"},{fieldName:"AcceptWebYn"},{fieldName:"ChGi"},{fieldName:"Receiver"},{fieldName:"Clstype"},{fieldName:"ClstypeNm"},{fieldName:"info1"},{fieldName:"info2"},{fieldName:"info3"},{fieldName:"info4"},{fieldName:"info5"},{fieldName:"info6"},{fieldName:"info7"},{fieldName:"SUS316_Price",dataType:c.exports.ValueType.NUMBER},{fieldName:"DiscountRate"},{fieldName:"Mtr"},{fieldName:"TestReport"},{fieldName:"MillSheet"}],X=[{name:"ClstypeNm",fieldName:"ClstypeNm",header:{text:"\uB0A9\uD488\uC0C1\uD0DC"},width:40,editable:!1},{name:"AcceptWebYn",fieldName:"AcceptWebYn",header:{text:"\uBC1C\uC8FC\uAD6C\uBD84"},width:35,editable:!1},{name:"AcceptNo",fieldName:"AcceptNo",header:{text:"\uBC1C\uC8FC\uBC88\uD638"},width:50,editable:!1,styleName:"left-column"},{name:"Acceptseq",fieldName:"Acceptseq",header:{text:"\uBC1C\uC8FC\uC21C\uBC88"},width:40,editable:!1},{name:"Acceptdate",fieldName:"Acceptdate",header:{text:"\uBC1C\uC8FC\uC77C\uC790"},width:50,editable:!1,styleName:"left-column"},{name:"Delvdate",fieldName:"Delvdate",header:{text:"\uC0DD\uC0B0\uB0A9\uAE30\uC77C"},width:50,editable:!1,styleName:"left-column"},{name:"Goodno",fieldName:"Goodno",header:{text:"\uD488\uBC88"},width:180,editable:!1,styleName:"left-column"},{name:"Spec",fieldName:"Spec",header:{text:"Spec"},width:120,editable:!1,styleName:"left-column"},{name:"Acceptqty",fieldName:"Acceptqty",header:{text:"\uBC1C\uC8FC\uB7C9"},width:30,editable:!1,numberFormat:"#,##0",styleName:"right-column",footer:{numberFormat:"#,##0",expression:"sum"}},{name:"Boxqty",fieldName:"Boxqty",header:{text:"\uD3EC\uC7A5\uC218\uB7C9"},width:40,editable:!1,numberFormat:"#,##0",styleName:"right-column",footer:{numberFormat:"#,##0",expression:"sum"}},{name:"Outqty",fieldName:"Outqty",header:{text:"\uCD9C\uACE0\uB7C9"},width:40,editable:!1,numberFormat:"#,##0",styleName:"right-column",footer:{numberFormat:"#,##0",expression:"sum"}},{name:"MiQty",fieldName:"MiQty",header:{text:"\uBBF8\uB0A9\uB7C9"},width:40,editable:!1,numberFormat:"#,##0",styleName:"right-column",footer:{numberFormat:"#,##0",expression:"sum"}},{name:"Korprice",fieldName:"Korprice",header:{text:"\uB2E8\uAC00"},width:40,editable:!1,numberFormat:"#,##0",styleName:"right-column"},{name:"Koramt",fieldName:"Koramt",header:{text:"\uAE08\uC561"},width:50,editable:!1,numberFormat:"#,##0",styleName:"right-column",footer:{numberFormat:"#,##0",expression:"sum"}},{name:"SUS316_Price",fieldName:"SUS316_Price",header:{text:"\uD611\uAC00"},width:50,editable:!1,numberFormat:"#,##0",styleName:"right-column"},{name:"DiscountRate",fieldName:"DiscountRate",header:{text:"\uC694\uC728"},width:40,editable:!1,numberFormat:"#,##0",styleName:"right-column",displayCallback:function(p,N,t){return t+"%"}}],se=K(()=>{const{$CommonStore:p,$UserStore:N}=z(),t=Z(),h="AGENCYORDERLIST",F=i.exports.useRef(null),[o,B]=i.exports.useState({frDate:new Date,toDate:new Date,workNo:"ALL",iGoodno:"",clsType:"5",clsType2:"5",custCd:N.user.custcd,custNm:N.user.custnm}),[S,M]=i.exports.useState(""),[Y,v]=i.exports.useState([]),[G]=i.exports.useState([{value:"1",text:"\uB300\uAE30"},{value:"2",text:"\uC9C4\uD589"},{value:"5",text:"\uBAA8\uB450"}]),[I]=i.exports.useState([{value:"1",text:"\uB300\uAE30"},{value:"3",text:"\uBCF4\uB958"},{value:"4",text:"\uC644\uB8CC"},{value:"5",text:"\uBAA8\uB450"}]),[b,C]=i.exports.useState({visible:!1,desc:"",type:"N"}),[d,A]=i.exports.useState({info1:"",info2:"",info3:"",info4:"",info5:"",info6:"",info7:""}),[D,x]=i.exports.useState({mtr:"N",testreport:"N",millsheet:"N",coc:"N",dimension:"N"}),y=new W(h,C,!0,!0,!0,!0,!0),R=()=>{B({frDate:m().startOf("month").toDate(),toDate:new Date,workNo:"ALL",iGoodno:"",clsType:"5",clsType2:"5",custCd:N.user.custcd,custNm:N.user.custnm}),x({...D,mtr:"N",testreport:"N",millsheet:"N",coc:"N",distension:"N"})},g=(l,u)=>{let s="";switch(l){case"4":switch(u){case"342001":s="\uD654\uBB3C";break;case"342002":s="\uBC29\uBB38\uCD9C\uACE0";break;case"342004":s="\uC9C1\uC1A1";break}break;case"6":switch(u){case"333001":s="\uCC29\uBD88\uD654\uBB3C";break;case"333002":s="\uD604\uBD88\uCD9C\uACE0";break;case"333003":s="\uCC29\uBD88\uD0DD\uBC30";break;case"333004":s="\uD604\uBD88\uD0DD\uBC30";break}break;case"7":switch(u){case"073005":s="\uB300\uB9AC\uC810(\uC218\uC8FC)";break;case"073006":s="\uB300\uB9AC\uC810(\uC7AC\uACE0)";break}}return s},L=()=>{f=new c.exports.LocalDataProvider(!1),r=new c.exports.GridView(F.current),r.setDataSource(f),f.setFields(j),r.setColumns(X),r.setCheckBar({visible:!1}),r.setStateBar({visible:!1}),r.setCopyOptions({singleMode:!0,enabled:!0}),r.setDisplayOptions({fitStyle:"evenFill"}),r.setOptions({summaryMode:"aggregate"}),r.setEditOptions({editable:!1}),r.displayOptions.rowHeight=35,r.onCellClicked=function(l,u){const s=f.getJsonRow(u.itemIndex);A(T=>({...T,info1:s.info1,info2:s.info2,info3:s.info3,info4:s.info4,info5:s.info5,info6:s.info6,info7:s.info7})),x(T=>({...T,mtr:s.Mtr===null?"N":s.Mtr,testreport:s.TestReport===null?"N":s.TestReport,millsheet:s.MillSheet===null?"N":s.MillSheet}))},r.setRowStyleCallback(function(l,u){const s=l.getValue(u.index,"ClstypeNm");if(s==="\uC644\uB8CC"||s==="\uBCF4\uB958")return"rg-semired-color"}),r.setContextMenu([{label:"\uC5D1\uC140 \uB0B4\uBCF4\uB0B4\uAE30"}]),r.onContextMenuItemClicked=function(l,u){if(u.label==="\uC5D1\uC140 \uB0B4\uBCF4\uB0B4\uAE30"){if(l.getDataSource().getRowCount()<=0){C({visible:!0,desc:"\uC5D1\uC140 \uB0B4\uBCF4\uB0B4\uAE30 \uD560 \uB9AC\uC2A4\uD2B8\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."});return}r.exportGrid({type:"excel",target:"local",fileName:"\uBC1C\uC8FC\uB9AC\uC2A4\uD2B8_"+m(o.frData).format("YYYYMMDD")+"-"+m(o.toDate).format("YYYYMMDD")+".xlsx",done:function(){C({visible:!0,desc:"\uC5D1\uC140\uB85C \uB0B4\uBCF4\uB0B4\uAE30\uB97C \uC644\uB8CC\uD588\uC2B5\uB2C8\uB2E4."})}})}}},w=(l,u)=>{B(s=>({...s,[l]:u}))},q=l=>{M(l)},E=async()=>{if(!o.custCd){C({visible:!0,desc:"\uC678\uC8FC\uCC98\uAC00 \uC81C\uB300\uB85C \uC785\uB825\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4."});return}if(!m(o.frDate,"YYYY-MM-DD").isValid()||!m(o.toDate,"YYYY-MM-DD").isValid()){C({visible:!0,desc:"\uAC80\uC0C9\uAE30\uAC04\uC744 \uBC14\uB974\uAC8C \uC785\uB825\uD574 \uC8FC\uC138\uC694."});return}if(m(o.frDate).format("YYYYMMDD")>m(o.toDate).format("YYYYMMDD")){C({visible:!0,desc:"\uAC80\uC0C9\uAE30\uAC04\uC744 \uD655\uC778\uD574 \uC8FC\uC138\uC694."});return}let l={...o};l.frDate=m(l.frDate).format("YYYYMMDD"),l.toDate=m(l.toDate).format("YYYYMMDD");try{let u=await k.get("/@api/agency/orderlist/selectByList",{params:l});V(),f.setRows(u.data),u.data[0]?(A(s=>({...s,info1:u.data[0].info1,info2:u.data[0].info2,info3:u.data[0].info3,info4:u.data[0].info4,info5:u.data[0].info5,info6:u.data[0].info6,info7:u.data[0].info7})),x(s=>({...s,mtr:u.data[0].Mtr?u.data[0].Mtr:"N",testreport:u.data[0].TestReport?u.data[0].TestReport:"N",millsheet:u.data[0].MillSheet?u.data[0].MillSheet:"N",coc:u.data[0].Coc?u.data[0].Coc:"N",dimension:u.data[0].Dimension?u.data[0].Dimension:"N"}))):(A(s=>({...s,info1:"",info2:"",info3:"",info4:"",info5:"",info6:"",info7:""})),x(s=>({...s,mtr:"N",testreport:"N",millsheet:"N",coc:"N",dimension:"N"})))}catch(u){u.response.status===404?C({visible:!0,desc:"\uC870\uD68C \uACB0\uACFC\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."}):C({visible:!0,desc:"\uC870\uD68C\uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4.",type:"E"})}},V=()=>{r.orderBy([],[])},P=async()=>{try{v([]);const u=(await k.get("/@api/agency/orderlist/selectByPmsSeqList",{params:{custCd:o.custCd,frDate:m(o.frDate).format("YYYYMMDD"),toDate:m(o.toDate).format("YYYYMMDD")}})).data;u.unshift({value:"ALL",text:"ALL"}),v(u)}catch{C({visible:!0,desc:"\uBC1C\uC8FC\uBC88\uD638 \uC870\uD68C\uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4."});return}},U=l=>{l.key==="Enter"&&E()};return i.exports.useEffect(()=>{p.HotKey&&p.HotKey.pgmid===h&&(p.HotKey.key==="SEARCH"&&E(),p.HotKey.key==="NEW"&&R())},[p.HotKey]),i.exports.useEffect(()=>{M("ALL")},[Y]),i.exports.useEffect(()=>{P()},[o.frDate,o.toDate]),i.exports.useEffect(()=>{B(l=>({...l,workNo:S}))},[S]),i.exports.useEffect(()=>{f&&f.getRowCount()>0&&E()},[o.workNo,o.clsType]),i.exports.useEffect(()=>{const l=m().startOf("month");B(u=>({...u,frDate:l.toDate()})),L()},[]),e.createElement(e.Fragment,null,e.createElement(J,{pgmid:h,visible:"11000",onNew:R,onSearch:E}),e.createElement(_,{className:"mainCon"},e.createElement(a,{style:{width:"100%",height:90,backgroundColor:"#f9f9f9",borderRadius:"5px",display:"flex",flexDirection:"column",padding:5}},e.createElement(a,{style:{display:"flex",alignItems:"center"}},e.createElement(a,{className:t.S1},e.createElement(a,{className:t.S2},"\uC678\uC8FC\uCC98")),e.createElement(n.exports.TextBox,{placeholder:"\uC678\uC8FC\uC5C5\uCCB4 \uC0AC\uC6A9\uC790\uAC00 \uC544\uB2D9\uB2C8\uB2E4",editable:!1,className:t.S4,value:o.custNm}),e.createElement(a,{className:t.S1},e.createElement(a,{className:t.S2},"\uBC1C\uC8FC\uC77C\uC790")),e.createElement(a,{style:{display:"flex",alignItems:"center"}},e.createElement(O,{inputCls:"inputCls",className:t.S3,selected:o.frDate,inputId:y.Common.fMakeId("sDate"),onHandleDateChange:l=>y.Common.fFieldChange(B,"frDate",l)}),e.createElement(a,{style:{margin:"0 10px",width:"10px"}},"~"),e.createElement(O,{inputCls:"inputCls",className:t.S3,selected:o.toDate,inputId:y.Common.fMakeId("eDate"),onHandleDateChange:l=>y.Common.fFieldChange(B,"toDate",l)})),e.createElement(a,{className:t.S1},e.createElement(a,{className:t.S2},"\uBC1C\uC8FC\uBC88\uD638")),e.createElement(n.exports.ComboBox,{className:t.S5,style:{width:360},data:Y,value:S,editable:!1,onChange:l=>q(l)}),e.createElement(a,{className:t.S1},e.createElement(a,{className:t.S2},"\uBC1C\uC8FC\uC9C4\uD589\uC0C1\uD0DC")),e.createElement(n.exports.ComboBox,{className:t.S5,style:{width:180},data:G,value:o.clsType,editable:!1,onChange:l=>w("clsType",l)})),e.createElement(a,{style:{marginTop:5,display:"flex",alignItems:"center"}},e.createElement(a,{className:t.S1},e.createElement(a,{className:t.S2},"\uD488\uBC88\uCF54\uB4DC")),e.createElement(a,{onKeyDown:l=>{U(l)}},e.createElement(n.exports.TextBox,{placeholder:"\uD488\uBC88\uCF54\uB4DC",className:t.S4,value:o.iGoodno,onChange:l=>w("iGoodno",l)})),e.createElement(a,{style:{marginLeft:870}}),e.createElement(a,{className:t.S1},e.createElement(a,{className:t.S2},"\uB0A9\uD488\uC9C4\uD589\uC0C1\uD0DC")),e.createElement(n.exports.ComboBox,{className:t.S5,style:{width:180},data:I,value:o.clsType2,editable:!1,onChange:l=>w("clsType2",l)}))),e.createElement(a,{style:{width:"100%",height:120,marginTop:10,backgroundColor:"#f9f9f9",borderRadius:"5px",display:"flex",flexDirection:"row",padding:5}},e.createElement(a,{style:{display:"flex",flexDirection:"column"}},e.createElement(a,{style:{display:"flex",alignItems:"center"}},e.createElement(a,{className:t.S1},e.createElement(a,{className:t.S2},"\uB3C4\uCC29\uC9C0")),e.createElement(n.exports.TextBox,{placeholder:"\uB3C4\uCC29\uC9C0",editable:!1,className:t.S4,value:d.info1}),e.createElement(a,{className:t.S1},e.createElement(a,{className:t.S2},"\uC218\uCDE8\uC778")),e.createElement(n.exports.TextBox,{placeholder:"\uC218\uCDE8\uC778",editable:!1,className:t.S4,value:d.info2}),e.createElement(a,{className:t.S1},e.createElement(a,{className:t.S2},"\uBC1C\uC8FC\uC5C5\uCCB4")),e.createElement(n.exports.TextBox,{placeholder:"\uBC1C\uC8FC\uC5C5\uCCB4",editable:!1,className:t.S4,value:d.info3}),e.createElement(a,{className:t.S1},e.createElement(a,{className:t.S2},"\uBC30\uC1A1\uAD6C\uBD84")),e.createElement(n.exports.TextBox,{placeholder:"\uBC30\uC1A1\uAD6C\uBD84",editable:!1,className:t.S4,value:g("4",d.info4)})),e.createElement(a,{style:{display:"flex",alignItems:"end",marginTop:10}},e.createElement(a,{style:{display:"flex",alignItems:"end"}},e.createElement(a,{className:t.S1},e.createElement(a,{className:t.S2},"\uBE44\uACE0")),e.createElement(n.exports.TextBox,{placeholder:"\uBE44\uACE0",editable:!1,multiline:!0,style:{height:"60px"},className:t.S6,value:d.info5})),e.createElement(a,{className:t.S1},e.createElement(a,{className:t.S2},"\uD654\uBB3C\uBE44\uAD6C\uBD84")),e.createElement(n.exports.TextBox,{placeholder:"\uD654\uBB3C\uBE44\uAD6C\uBD84",editable:!1,className:t.S4,value:g("6",d.info6)}),e.createElement(a,{className:t.S1},e.createElement(a,{className:t.S2},"\uC8FC\uBB38\uAD6C\uBD84")),e.createElement(n.exports.TextBox,{placeholder:"\uC8FC\uBB38\uAD6C\uBD84",editable:!1,className:t.S4,value:g("7",d.info7)}))),e.createElement(a,{style:{display:"flex",flexDirection:"column"}},e.createElement(a,{style:{display:"flex",flexDirection:"row",marginBottom:5}},e.createElement(a,{className:t.S1},e.createElement(a,{className:t.S2},"MTR")),e.createElement(n.exports.TextBox,{placeholder:"MTR",editable:!1,className:t.S7,value:D.mtr})),e.createElement(a,{style:{display:"flex",flexDirection:"row",marginBottom:5}},e.createElement(a,{className:t.S1},e.createElement(a,{className:t.S2},"TEST REPORT")),e.createElement(n.exports.TextBox,{placeholder:"TESTREPORT",editable:!1,className:t.S7,value:D.testreport})),e.createElement(a,{style:{display:"flex",flexDirection:"row"}},e.createElement(a,{className:t.S1},e.createElement(a,{className:t.S2},"\uC6D0\uC18C\uC7AC \uC131\uC801\uC11C")),e.createElement(n.exports.TextBox,{placeholder:"\uC6D0\uC18C\uC7AC\uC131\uC801\uC11C",editable:!1,className:t.S7,value:D.millsheet})))),e.createElement(a,{ref:F,style:{width:"100%",height:520,marginTop:5}})),e.createElement(Q,{visible:b.visible,description:b.desc,type:b.type,onConfirm:()=>C({visible:!1})}))});let f,r;const Z=H({S1:{margin:"3px 10px",backgroundColor:"#e0ecff",color:"#163971",padding:5,height:25,fontSize:"12px",display:"flex",alignItems:"center",width:110,fontWeight:600},S2:{width:100},S3:{"& .textbox-text":{fontSize:"12px"},"& .textbox":{fontSize:"12px"},"& .combo-arrow":{backgroundImage:`url(${$})`,backgroundRepeat:"no-repeat",backgroundColor:"#ffffff!important",height:12}},S4:{width:185,height:25,margin:"3px 0","& input":{fontSize:"12px !important"}},S5:{width:100,height:25,"& input":{fontSize:"12px !important"}},S6:{width:500,height:25,"& textarea":{fontSize:"12px !important",padding:"5px !important",fontFamily:"Noto Sans KR"}},S7:{width:80,height:25,margin:"3px 0","& input":{fontSize:"12px !important"}}});export{se as default};
