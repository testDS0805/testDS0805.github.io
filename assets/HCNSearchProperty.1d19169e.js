import{r as m,R as e}from"./index.da6908f5.js";import{m as r,h as W,o as G,B as o,c as K,u as q,U as $,P as j,r as s,A as J,C as Y}from"./App.11263b70.js";import{C as Q}from"./CommonButton.0b792d77.js";import{C as I}from"./CodeHelperPopup.3932fdb9.js";const Z=[{fieldName:"HCN",dataType:r.exports.ValueType.TEXT},{fieldName:"ReferenceSeq",dataType:r.exports.ValueType.TEXT},{fieldName:"Materialcd",dataType:r.exports.ValueType.TEXT},{fieldName:"Materialno",dataType:r.exports.ValueType.TEXT},{fieldName:"Heatno",dataType:r.exports.ValueType.TEXT},{fieldName:"Material",dataType:r.exports.ValueType.TEXT},{fieldName:"Materialnm",dataType:r.exports.ValueType.TEXT},{fieldName:"MaterialStandard",dataType:r.exports.ValueType.TEXT},{fieldName:"MaterialStandardnm",dataType:r.exports.ValueType.TEXT},{fieldName:"DesignGrade",dataType:r.exports.ValueType.TEXT},{fieldName:"DesignGradenm",dataType:r.exports.ValueType.TEXT},{fieldName:"Conditions",dataType:r.exports.ValueType.TEXT},{fieldName:"Conditionsnm",dataType:r.exports.ValueType.TEXT},{fieldName:"ReferenceNo",dataType:r.exports.ValueType.TEXT},{fieldName:"ReferenceCode",dataType:r.exports.ValueType.TEXT},{fieldName:"ReferenceCodenm",dataType:r.exports.ValueType.TEXT},{fieldName:"MinReference",dataType:r.exports.ValueType.NUMBER},{fieldName:"MaxReference",dataType:r.exports.ValueType.NUMBER},{fieldName:"PropertyValue",dataType:r.exports.ValueType.NUMBER}],_=[{name:"HCN",fieldName:"HCN",type:"data",width:"100",header:{text:"HCN",showTooltip:!0},renderer:{type:"text",showTooltip:!0},styleName:"center-column"},{name:"Materialno",fieldName:"Materialno",type:"data",width:"200",header:{text:"\uC790\uC7AC\uBA85",showTooltip:!0},renderer:{type:"text",showTooltip:!0},styleName:"left-column"},{name:"Heatno",fieldName:"Heatno",type:"data",width:"160",header:{text:"HEATNO",showTooltip:!0},renderer:{type:"text",showTooltip:!0},styleName:"center-column"},{name:"ReferenceSeq",fieldName:"ReferenceSeq",type:"data",width:"100",header:{text:"No",showTooltip:!0},renderer:{type:"text",showTooltip:!0},styleName:"center-column"},{name:"Materialnm",fieldName:"Materialnm",type:"data",width:"200",header:{text:"\uC7AC\uC9C8",showTooltip:!0},renderer:{type:"text",showTooltip:!0},styleName:"left-column"},{name:"MaterialStandardnm",fieldName:"MaterialStandardnm",type:"data",width:"100",header:{text:"\uC7AC\uB8CC\uD45C\uC900",showTooltip:!0},renderer:{type:"text",showTooltip:!0},styleName:"left-column"},{name:"DesignGradenm",fieldName:"DesignGradenm",type:"data",width:"160",header:{text:"\uB4F1\uAE09",showTooltip:!0},renderer:{type:"text",showTooltip:!0},styleName:"left-column"},{name:"Conditionsnm",fieldName:"Conditionsnm",type:"data",width:"160",header:{text:"CONDITIONS",showTooltip:!0},renderer:{type:"text",showTooltip:!0},styleName:"left-column"},{name:"ReferenceCodenm",fieldName:"ReferenceCodenm",type:"data",width:"100",header:{text:"\uBB3C\uC131\uCE58\uC131\uBD84",showTooltip:!0},renderer:{type:"text",showTooltip:!0},styleName:"left-column"},{name:"MinReference",fieldName:"MinReference",width:100,styleName:"right-column",editable:!1,header:{text:"MIN",showTooltip:!0},renderer:{type:"text",showTooltip:!0},editor:{type:"number",editFormat:"#,##0.##"},numberFormat:"#,##0.##"},{name:"MaxReference",fieldName:"MaxReference",width:100,styleName:"right-column",editable:!1,header:{text:"MAX",showTooltip:!0},renderer:{type:"text",showTooltip:!0},editor:{type:"number",editFormat:"#,##0.##"},numberFormat:"#,##0.##"},{name:"PropertyValue",fieldName:"PropertyValue",width:100,styleName:"right-column",editable:!1,header:{text:"VALUE",showTooltip:!0},renderer:{type:"text",showTooltip:!0},editor:{type:"number",editFormat:"#,##0.##"},numberFormat:"#,##0.##"}],ee={DateTitleBox:{margin:"5px 10px 0px 15px",backgroundColor:"#e0ecff",padding:5,color:"#163971",height:25,fontSize:"12px",display:"flex",width:85,alignItems:"center",fontWeight:600},TitleBox4:{backgroundColor:"#fccf76",color:"#163971",padding:5,height:20,fontSize:"12px",display:"flex",alignItems:"center",width:"100%",fontWeight:600},TitleText3:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},InputBox3:{marginTop:5,width:120,height:25,"& input":{fontSize:"12px !important"}},Scroll:{"& .mainCon":{height:"700px",padding:"10px"}},SA1:{width:80,height:25,margin:"3px 3px",backgroundColor:"#e0ecff",color:"#163971",paddingTop:3,fontSize:"12px",alignItems:"center",fontWeight:600,display:"flex"},SA2:{marginTop:-2,marginLeft:5,alignItems:"center",textAlign:"center"},SA3:{width:"15px!important",height:"15px!important",border:"1px solid #3c96ff",marginTop:"1px","& .checkbox-checked":{border:0,background:"#3c96ff"}},SA4:{width:90,height:25,"& input":{fontSize:"12px !important"}},SA5:{marginLeft:5,width:140,height:25,"& input":{fontSize:"12px !important"}},SA6:{width:70,height:25,margin:"3px 3px",backgroundColor:"#fccf76",color:"#163971",padding:5,fontSize:"12px",alignItems:"center",fontWeight:600},SB1:{width:253,height:32,"& input":{fontSize:"16px !important",textAlign:"center",color:"#0070c0"}},SB2:{fontSize:12,paddingBottom:2,fontWeight:500},SC1:{width:90,height:25,margin:"3px 10px",backgroundColor:"#e0ecff",color:"#163971",padding:5,fontSize:"12px",alignItems:"center",fontWeight:600,display:"flex"},SC2:{width:80},SC3:{width:200,height:25,"& input":{fontSize:"12px !important"}},SC4:{width:200,height:25,"& input":{fontSize:"12px !important",textAlign:"right"}},SC5:{fontSize:12,paddingBottom:2,fontWeight:500,marginLeft:5},SC6:{width:150,height:25,"& input":{fontSize:"12px !important",textAlign:"center"}},SC7:{width:80,height:29,margin:"3px 1px",backgroundColor:"#e0ecff",color:"#163971",padding:5,fontSize:"12px",alignItems:"center",fontWeight:600,display:"flex"},SC8:{"& textarea":{fontSize:"12px !important"}}};function te(){const[n,d]=m.exports.useState({HCN:"",Heatno:"",Materialcd:"",Materialno:"",Material:"",Materialnm:"",MaterialStandard:"",MaterialStandardnm:"",DesignGrade:"",DesignGradenm:"",Conditions:"",Conditionsnm:"",SchAccunit:"",SchState:"1"}),[S,c]=m.exports.useState({Material:"",MaterialStandard:"",DesignGrade:"",Conditions:""}),[i]=m.exports.useState({a:"required"}),[u,T]=m.exports.useState(""),[p,l]=m.exports.useState({visible:!1,desc:"",type:"N"}),[x,w]=m.exports.useState({visible:!1,desc:"",id:""}),[M,N]=m.exports.useState({visible:!1,description:"",value:"",datas:{},id:"",viewId:"",selectedData:{}});return String.prototype.DateValidation=function(a){return new Date(this)instanceof Date&&!isNaN(new Date(this))?W(this).format(a):null},{searchVO:n,setSearchVO:d,headerVO:S,setHeaderVO:c,gridFocus:u,setGridFocus:T,alert:p,setAlert:l,confirm:x,setConfirm:w,codeClassInputs:M,setCodeClassInputs:N,ValidationRules:i}}const ae=async(n,d)=>{n({HCN:"",Heatno:"",Materialcd:"",Materialno:"",Material:"",Materialnm:"",MaterialStandard:"",MaterialStandardnm:"",DesignGrade:"",DesignGradenm:"",Conditions:"",Conditionsnm:"",SchAccunit:"",SchState:"1"},50),d({Material:"",MaterialStandard:"",DesignGrade:"",Conditions:""},50)},ne=async(n,d,S,c)=>{const i={...d};i.SchAccunit=n.User.user.accunit,await n.Util.Command.fSearch(S,"/@api/quality/hcnSearch/selectByPropertyList",i,c)},ie=G(n=>{const d=m.exports.useRef(null),S=async()=>{n.Util.Grid.fContainerInit(n.Util.Common.fMakeId(n.Id)),V=new r.exports.LocalDataProvider(!1),g=new r.exports.GridView(d.current),n.Util.Grid.fInitGridHeader(g,V,n.GridFields,n.GridColumns,30,u,i,T,n.GridTitle),g.setDisplayOptions({fitStyle:"none"}),g.setStateBar({visible:!1}),g.setCheckBar({visible:!1}),g.setRowStyleCallback(c),g.groupBy(["HCN"],!0,"ascending"),g.setRowGroup({mergeMode:!1,headerStatement:""}),g.rowGroup.mergeExpanderVisibility="none",g.rowGroup.expanderVisibleCallback=function(p,l){return l.level===2},n.DataProviderBind(V),n.GridViewBind(g)},c=(p,l)=>{const x=p.getValue(l.index,"MinReference"),w=p.getValue(l.index,"MaxReference"),M=p.getValue(l.index,"PropertyValue"),N=p.getValue(l.index,"ReferenceCode"),a=p.getValue(l.index,"ReferenceNo");if(x===0&&w===0&&M===0)return"drawing-complete-color";if(x===0&&w===0)return"yellow-color";if(M===0)return"orange-color";if(N===null||a===null)return"red-color"},i=async(p,l)=>{n.currentIndex.current===l.dataRow&&l.dataRows>=0&&n.RowChanged(p,l.dataRow)},u=async(p,l,x)=>{x>=0&&n.RowChanged(p,x)},T=async(p,l)=>{switch(l.key){case"Tab":setTimeout(()=>{document.getElementById(n.Util.Common.fMakeId("HCN")).focus()},0);break}};return m.exports.useEffect(()=>{S()},[]),e.createElement(e.Fragment,null,e.createElement(o,{ref:d,key:n.Util.Common.fMakeId(n.Id),id:n.Util.Common.fMakeId(n.Id),style:{width:"100%",height:660}}))});let V,g;const pe=G(()=>{const n="HCNSEARCHPROPERTY",{$CommonStore:d,$UserStore:S}=q(),c=oe(),{searchVO:i,setSearchVO:u,setHeaderVO:T,setGridFocus:p,alert:l,setAlert:x,confirm:w,setConfirm:M,ValidationRules:N}=te(),a=new $(n,x,!0,!0,!0,!0,!0),H=m.exports.useRef(null),D=m.exports.useRef(""),F=m.exports.useRef(0),R=async()=>{d.fSetBinding(!0),await ae(u,T),d.fSetBinding(!1),D.current="",a.Common.fSetTabIndex()},[L]=m.exports.useState({Util:a,User:S,fInit:R,setAlert:x,setHeaderVO:T}),z=t=>{k=t},P=t=>{b=t},E=async(t,f,y,C)=>{if(!d.fGetBinding())switch(t){case"Materialno":a.Common.fMultiFieldChange(u,{Materialcd:f,Materialno:y,MaterialSpec:C.Data.spec,Material:C.Data.class5,Materialnm:C.Data.class5nm});break;case"Materialnm":a.Common.fMultiFieldChange(u,{Material:f,Materialnm:y});break;case"MaterialStandardnm":a.Common.fMultiFieldChange(u,{MaterialStandard:f,MaterialStandardnm:y});break;case"DesignGradenm":a.Common.fMultiFieldChange(u,{DesignGrade:f,DesignGradenm:y});break;case"Conditionsnm":a.Common.fMultiFieldChange(u,{Conditions:f,Conditionsnm:y});break}},h=(t,f)=>{f&&u({...i,SchState:t})},O=t=>{t.preventDefault(),t.key==="1"&&h("1","checked"),t.key==="2"&&h("2","checked"),t.key==="3"&&h("3","checked"),t.key==="4"&&h("4","checked"),t.key==="5"&&h("5","checked"),!t.shiftKey&&t.key==="Tab"?document.getElementById(a.Common.fMakeId("HCN")).focus():t.shiftKey&&t.key==="Tab"&&document.getElementById(a.Common.fMakeId("Conditionsnm")).focus();const f=["1","2","3","4","5"];if(t.key==="ArrowRight"){let C=f.indexOf(i.SchState)+1;C>4&&(C=4),h(f[C],"checked")}else if(t.key==="ArrowLeft"){let C=f.indexOf(i.SchState)-1;C<0&&(C=0),h(f[C],"checked")}},U=async(t,f)=>{b.commit(),p("H");const y=k.getJsonRow(f);d.fSetBinding(!0),T(y),d.fSetBinding(!1)},v=async()=>{M({visible:!1,desc:"",id:""})},X=()=>{M({visible:!1,desc:"",id:""})},B=async()=>{R()},A=async()=>{await ne(L,i,k,"\uAE30\uC900\uAC12"),setTimeout(()=>{b.setFocus()},100)};return m.exports.useEffect(()=>{a.Common.fHotKey(d,d.isPopup,B,A)},[d.HotKey]),m.exports.useEffect(()=>{R()},[]),e.createElement(e.Fragment,null,e.createElement(Q,{pgmid:n,visible:"110000",onNew:B,onSearch:A}),e.createElement(j,{className:"mainCon"},e.createElement(s.exports.Layout,{style:{width:"100%",height:775}},e.createElement(s.exports.LayoutPanel,{region:"west",style:{width:1660,height:774}},e.createElement(s.exports.Layout,null,e.createElement(s.exports.LayoutPanel,{region:"north"},e.createElement(s.exports.Form,{ref:H,model:i,rules:N,labelWidth:120,labelAlign:"right"},e.createElement(o,{style:{width:"100%",height:105,marginTop:5}},e.createElement(o,{style:{marginLeft:5,marginTop:3,display:"flex",alignItems:"center"}},e.createElement(o,{className:c.SA1,style:{width:80}},e.createElement(o,{className:c.SA2},"VALUE")),e.createElement(o,{style:{height:25,border:"1px solid #9ac9ed",borderRadius:5,color:"#434343",width:"560px",display:"flex",padding:5,marginLeft:1},id:a.Common.fMakeId("radioBox"),className:"inputCls",onKeyDown:t=>O(t)},e.createElement(o,{display:"flex",alignItems:"center"},e.createElement(s.exports.RadioButton,{style:{width:"15px",height:"15px"},inputId:a.Common.fMakeId("Radio0"),value:"1",groupValue:i.SchState,onChange:t=>h("1",t)}),e.createElement(s.exports.Label,{htmlFor:a.Common.fMakeId("Radio0"),style:{marginLeft:"3px",width:40,fontSize:"12px"}},"\uC804\uCCB4")),e.createElement(o,{display:"flex",alignItems:"center"},e.createElement(s.exports.RadioButton,{style:{width:"15px",height:"15px"},inputId:a.Common.fMakeId("Radio1"),value:"2",groupValue:i.SchState,onChange:t=>h("2",t)}),e.createElement(s.exports.Label,{htmlFor:a.Common.fMakeId("Radio1"),style:{marginLeft:"3px",width:90,fontSize:"12px"}},"COLOR ROW")),e.createElement(o,{display:"flex",alignItems:"center"},e.createElement(s.exports.RadioButton,{style:{width:"15px",height:"15px"},inputId:a.Common.fMakeId("Radio1"),value:"3",groupValue:i.SchState,onChange:t=>h("3",t)}),e.createElement(s.exports.Label,{htmlFor:a.Common.fMakeId("Radio1"),style:{marginLeft:"3px",width:100,fontSize:"12px"}},"MIN & MAX = 0")),e.createElement(o,{display:"flex",alignItems:"center"},e.createElement(s.exports.RadioButton,{style:{width:"15px",height:"15px"},inputId:a.Common.fMakeId("Radio1"),value:"4",groupValue:i.SchState,onChange:t=>h("4",t)}),e.createElement(s.exports.Label,{htmlFor:a.Common.fMakeId("Radio1"),style:{marginLeft:"3px",width:80,fontSize:"12px"}},"VALUE = 0")),e.createElement(o,{display:"flex",alignItems:"center"},e.createElement(s.exports.RadioButton,{style:{width:"15px",height:"15px"},inputId:a.Common.fMakeId("Radio1"),value:"5",groupValue:i.SchState,onChange:t=>h("5",t)}),e.createElement(s.exports.Label,{htmlFor:a.Common.fMakeId("Radio1"),style:{marginLeft:"3px",width:140,fontSize:"12px"}},"MIN & MAX & VALUE = 0")))),e.createElement(o,{display:"flex"},e.createElement(o,{display:"flex",alignItems:"center"},e.createElement(o,{className:c.SA1,style:{marginLeft:8}},e.createElement(o,{className:c.SA2},"HCN")),e.createElement(o,{onKeyDown:t=>{t.shiftKey&&t.key==="Tab"&&setTimeout(()=>{document.getElementById(a.Common.fMakeId("radioBox")).focus()},100)}},e.createElement(s.exports.TextBox,{inputId:a.Common.fMakeId("HCN"),inputCls:"inputCls",name:"HCN",onChange:t=>a.Common.fFieldChange(u,"HCN",t),value:i.HCN,className:c.SC3}))),e.createElement(o,{display:"flex",alignItems:"center"},e.createElement(o,{className:c.SA1,style:{marginLeft:10}},e.createElement(o,{className:c.SA2},"HEATNO")),e.createElement(o,{onKeyDown:t=>{t.shiftKey&&t.key==="Tab"&&setTimeout(()=>{document.getElementById(a.Common.fMakeId("HCN")).focus()},100)}},e.createElement(s.exports.TextBox,{inputId:a.Common.fMakeId("Heatno"),inputCls:"inputCls",name:"Heatno",onChange:t=>a.Common.fFieldChange(u,"Heatno",t),value:i.Heatno,className:c.SC3})))),e.createElement(o,{display:"flex"},e.createElement(I,{inputCls:"inputCls",pgmid:n,inputType:"Good",id:"Materialno",title:"\uC790\uC7AC\uCF54\uB4DC",helper:a.CodeHelper.helperGoodNoMaterial2,ComponentCode:i.Materialcd,ComponentValue:i.Materialno,SetValue:E,labelStyles:{width:80,height:25,margin:"3px 4px 5px 8px",padding:5,fontSize:12,display:"flex",alignItems:"center",fontWeight:600},inputStyles:{width:200,margin:"0px 0px 5px 0px"}}),e.createElement(I,{inputCls:"inputCls",pgmid:n,inputType:"",id:"Materialnm",title:"\uC7AC\uC9C8",helper:a.CodeHelper.helperMaterial,ComponentCode:i.Material,ComponentValue:i.Materialnm,SetValue:E,labelStyles:{width:80,height:25,margin:"3px 4px 5px 8px",padding:5,fontSize:12,display:"flex",alignItems:"center",fontWeight:600},inputStyles:{width:200,margin:"0px 0px 5px 0px"}}),e.createElement(I,{inputCls:"inputCls",pgmid:n,inputType:"",id:"MaterialStandardnm",title:"\uC7AC\uB8CC\uD45C\uC900",helper:a.CodeHelper.helperMaterialStandard,ComponentCode:i.MaterialStandard,ComponentValue:i.MaterialStandardnm,SetValue:E,labelStyles:{width:80,height:25,margin:"3px 4px 5px 8px",padding:5,fontSize:12,display:"flex",alignItems:"center",fontWeight:600},inputStyles:{width:200,margin:"0px 0px 5px 0px"}}),e.createElement(I,{inputCls:"inputCls",pgmid:n,inputType:"",id:"DesignGradenm",title:"\uB4F1\uAE09",helper:a.CodeHelper.helperDesignGrade,ComponentCode:i.DesignGrade,ComponentValue:i.DesignGradenm,SetValue:E,labelStyles:{width:80,height:25,margin:"3px 4px 5px 8px",padding:5,fontSize:12,display:"flex",alignItems:"center",fontWeight:600},inputStyles:{width:200,margin:"0px 0px 5px 0px"}}),e.createElement(I,{inputCls:"inputCls",pgmid:n,inputType:"",id:"Conditionsnm",title:"CONDITION",helper:a.CodeHelper.helperConditions,ComponentCode:i.Conditions,ComponentValue:i.Conditionsnm,SetValue:E,labelStyles:{width:80,height:25,margin:"3px 4px 5px 8px",padding:5,fontSize:12,display:"flex",alignItems:"center",fontWeight:600},inputStyles:{width:200,margin:"0px 0px 5px 0px"}})))),e.createElement(o,{style:{width:"100%",height:660}},e.createElement(ie,{Util:a,Id:"Grid1",GridTitle:"\uBA85\uC138",currentIndex:F,GridFields:Z,GridColumns:_,RowChanged:U,DataProviderBind:z,GridViewBind:P}))))))),e.createElement(J,{visible:l.visible,description:l.desc,type:l.type,onConfirm:()=>x({visible:!1})}),e.createElement(Y,{visible:w.visible,description:w.desc,onCancel:X,onConfirm:v}))});let k,b;const oe=K(ee);export{pe as default};
