import{r,R as e}from"./index.da6908f5.js";import{o as j,c as z,u as N,h as R,B as u,r as C,A as T,d}from"./App.11263b70.js";import{C as W,V as O}from"./CommonButton.0b792d77.js";const H=j(()=>{const{$CommonStore:B,$UserStore:c}=N(),a=U(),g="AGENCYORDERINFO",[f,x]=r.exports.useState({iAccunit:"001",iFactory:"00A",CustCd:c.user.custcd,CustNm:c.user.custnm,UserId:c.user.userid}),[o,y]=r.exports.useState({info1:"",info2:"",info3:"",info4:"",info5:"",info6:"",info7:""}),[D,E]=r.exports.useState([]),[b,A]=r.exports.useState([]),[I,S]=r.exports.useState([]),[m,i]=r.exports.useState({visible:!1,desc:"",type:"N"}),l=(n,t)=>{y(s=>({...s,[n]:t})),(t==="342002"||t==="342003")&&y(s=>({...s,info6:""}))},w=async()=>{try{const t=(await d.get("/@api/agency/orderentry/selectByInfo4")).data;t?E(t):i({visible:!0,desc:"\uBC30\uC1A1\uAD6C\uBD84 \uC870\uD68C\uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4."})}catch{i({visible:!0,desc:"\uBC30\uC1A1\uAD6C\uBD84 \uC870\uD68C\uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4."});return}},F=async()=>{try{const t=(await d.get("/@api/agency/orderentry/selectByInfo6")).data;t.unshift({value:"",text:"\uC5C6\uC74C"}),A(t)}catch{i({visible:!0,desc:"\uD654\uBB3C\uBE44\uAD6C\uBD84 \uC870\uD68C\uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4."});return}},v=async()=>{try{const t=(await d.get("/@api/agency/orderentry/selectByInfo7")).data;t?S(t):i({visible:!0,desc:"\uC8FC\uBB38\uAD6C\uBD84 \uC870\uD68C\uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4."})}catch{i({visible:!0,desc:"\uC8FC\uBB38\uAD6C\uBD84 \uC870\uD68C\uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4."});return}},p=async()=>{if(!o.info7){i({visible:!0,desc:"\uC8FC\uBB38\uAD6C\uBD84 \uC785\uB825 \uD6C4 \uC800\uC7A5\uAC00\uB2A5\uD569\uB2C8\uB2E4.",type:"W"});return}if(o.info4==="342001"&&o.info6===""){i({visible:!0,desc:"\uD654\uBB3C\uBE44\uAD6C\uBD84 \uC785\uB825 \uD6C4 \uC800\uC7A5\uAC00\uB2A5\uD569\uB2C8\uB2E4.",type:"W"});return}try{if((await d.post("/@api/agency/orderInfo/updateByInfo",{params:{CustCd:f.CustCd,CustNm:f.CustNm,UserId:f.UserId},info:o})).data.errmess){i({visible:!0,desc:"\uAE30\uBCF8 \uBC1C\uC8FC \uCC29\uC9C0\uC815\uBCF4 \uBCC0\uACBD\uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4."});return}else{h(),i({visible:!0,desc:"\uAE30\uBCF8 \uBC1C\uC8FC \uCC29\uC9C0\uC815\uBCF4\uB97C \uBCC0\uACBD\uD558\uC600\uC2B5\uB2C8\uB2E4."});return}}catch{i({visible:!0,desc:"\uAE30\uBCF8 \uBC1C\uC8FC \uCC29\uC9C0\uC815\uBCF4 \uBCC0\uACBD\uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4."});return}},h=async()=>{try{const t=(await d.get("/@api/agency/orderInfo/selectByList",{params:{CustCd:f.CustCd,UserId:f.UserId}})).data;t.length>0?y(s=>({...s,info1:t[0].info1?t[0].info1:"",info2:t[0].info2?t[0].info2:"",info3:t[0].info3?t[0].info3:"",info4:t[0].info4?t[0].info4:"",info5:t[0].info5?t[0].info5:"",info6:t[0].info6?t[0].info6:"",info7:t[0].info7?t[0].info7:""})):y(s=>({...s,info1:"",info2:"",info3:"",info4:"",info5:"",info6:"",info7:""}))}catch{i({visible:!0,desc:"\uAE30\uBCF8 \uBC1C\uC8FC \uCC29\uC9C0\uC815\uBCF4 \uC870\uD68C\uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4."});return}};return r.exports.useEffect(()=>{B.HotKey&&B.HotKey.pgmid===g&&B.HotKey.key==="SAVE"&&p()},[B.HotKey]),r.exports.useEffect(()=>{const n=R().add(-3,"M");x(t=>({...t,frDate:n.toDate(),custCd:c.user.custcd,custNm:c.user.custnm})),h(),w(),F(),v()},[]),e.createElement(e.Fragment,null,e.createElement(W,{pgmid:g,visible:"00100",onSave:p}),e.createElement(u,{border:1,borderRadius:3,borderColor:"#ddd",bgcolor:"#f5ffff",style:{width:500,height:490,marginTop:20,marginLeft:20},display:"flex",flexDirection:"column",alignItems:"center"},e.createElement(u,{style:{fontSize:18,marginTop:10,textAlign:"center"}},"\uAE30\uBCF8 \uBC1C\uC8FC \uCC29\uC9C0\uC815\uBCF4 \uBCC0\uACBD\uD558\uAE30"),e.createElement(u,{style:{width:360,marginTop:25,border:"1px solid #c2c2c2",borderRadius:3},display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},e.createElement(u,{style:{width:110,height:35,fontSize:16},bgcolor:"#e0ecff",display:"flex",alignItems:"center",justifyContent:"center"},"\uB3C4\uCC29\uC9C0"),e.createElement(u,{style:{width:250,height:35,fontSize:16,fontWeight:500},bgcolor:"#fff",display:"flex",alignItems:"center",justifyContent:"center"},e.createElement(C.exports.TextBox,{placeholder:"\uAE30\uBCF8 \uB3C4\uCC29\uC9C0",className:a.S4,style:{border:0,width:"100%",padding:"5px 10px"},value:o.info1,onChange:n=>l("info1",n)}))),e.createElement(u,{style:{width:360,marginTop:25,border:"1px solid #c2c2c2",borderRadius:3},display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},e.createElement(u,{style:{width:110,height:35,fontSize:16},bgcolor:"#e0ecff",display:"flex",alignItems:"center",justifyContent:"center"},"\uC218\uCDE8\uC778"),e.createElement(u,{style:{width:250,height:35,fontSize:16,fontWeight:500},bgcolor:"#fff",display:"flex",alignItems:"center",justifyContent:"center"},e.createElement(C.exports.TextBox,{placeholder:"\uAE30\uBCF8 \uC218\uCDE8\uC778",className:a.S4,style:{border:0,width:"100%",padding:"5px 10px"},value:o.info2,onChange:n=>l("info2",n)}))),e.createElement(u,{style:{width:360,marginTop:25,border:"1px solid #c2c2c2",borderRadius:3},display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},e.createElement(u,{style:{width:110,height:35,fontSize:16},bgcolor:"#e0ecff",display:"flex",alignItems:"center",justifyContent:"center"},"\uBC1C\uC8FC\uC5C5\uCCB4"),e.createElement(u,{style:{width:250,height:35,fontSize:16,fontWeight:500},bgcolor:"#fff",display:"flex",alignItems:"center",justifyContent:"center"},e.createElement(C.exports.TextBox,{placeholder:"\uAE30\uBCF8 \uBC1C\uC8FC\uC5C5\uCCB4",className:a.S4,style:{border:0,width:"100%",padding:"5px 10px"},value:o.info3,onChange:n=>l("info3",n)}))),e.createElement(u,{style:{width:360,marginTop:25,border:"1px solid #c2c2c2",borderRadius:3},display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},e.createElement(u,{style:{width:110,height:35,fontSize:16},bgcolor:"#e0ecff",display:"flex",alignItems:"center",justifyContent:"center"},"\uBC30\uC1A1\uAD6C\uBD84"),e.createElement(u,{style:{width:250,height:35,fontSize:16,fontWeight:500},bgcolor:"#fff",display:"flex",alignItems:"center",justifyContent:"center"},e.createElement(C.exports.ComboBox,{className:a.S5,style:{border:0,width:"100%",padding:"5px 10px"},panelStyle:{height:70},data:D,value:o.info4,editable:!1,onChange:n=>l("info4",n)}))),e.createElement(u,{style:{width:360,marginTop:25,border:"1px solid #c2c2c2",borderRadius:3},display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},e.createElement(u,{style:{width:110,height:35,fontSize:16},bgcolor:"#e0ecff",display:"flex",alignItems:"center",justifyContent:"center"},"\uD654\uBB3C\uBE44\uAD6C\uBD84"),e.createElement(u,{style:{width:250,height:35,fontSize:16,fontWeight:500},bgcolor:"#fff",display:"flex",alignItems:"center",justifyContent:"center"},e.createElement(C.exports.ComboBox,{className:a.S5,style:{border:0,width:"100%",padding:"5px 10px"},panelStyle:{height:150},data:b,value:o.info6,editable:!1,disabled:o.info4==="342002",onChange:n=>l("info6",n)}))),e.createElement(u,{style:{width:360,marginTop:25,border:"1px solid #c2c2c2",borderRadius:3},display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},e.createElement(u,{style:{width:110,height:35,fontSize:16},bgcolor:"#e0ecff",display:"flex",alignItems:"center",justifyContent:"center"},"\uC8FC\uBB38\uAD6C\uBD84"),e.createElement(u,{style:{width:250,height:35,fontSize:16,fontWeight:500},bgcolor:"#fff",display:"flex",alignItems:"center",justifyContent:"center"},e.createElement(C.exports.ComboBox,{className:a.S5,style:{border:0,width:"100%",padding:"5px 10px"},panelStyle:{height:100},data:I,value:o.info7,editable:!1,onChange:n=>l("info7",n)}))),e.createElement(u,{style:{width:360,marginTop:25,border:"0"},display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},e.createElement(u,{style:{width:250,height:35,fontSize:16,fontWeight:500},display:"flex",alignItems:"center",justifyContent:"center"},e.createElement(C.exports.LinkButton,{className:"c4",style:{width:100,height:30,color:"#424242",borderRadius:3},onClick:p},e.createElement(u,{style:{width:100,height:30,display:"flex",alignItems:"center",justifyContent:"center"}},e.createElement(O,{size:18}),e.createElement(u,{style:{marginLeft:5,fontSize:16,paddingBottom:2,fontWeight:500}},"\uC800\uC7A5")))))),e.createElement(T,{visible:m.visible,description:m.desc,type:m.type,onConfirm:()=>i({visible:!1})}))}),U=z({S1:{"& input":{fontSize:"16px !important",fontWeight:"bold",textAlign:"left"},padding:"0 10px"}});export{H as default};
