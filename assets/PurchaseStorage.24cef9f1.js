import{r as C,R as a}from"./index.da6908f5.js";import{m as u,c as tt,u as at,U as ot,r as h,B as n,Y as Kt,A as rt,h as E,d as re,o as jt,s as qt,P as $e,F as ge,q as Ze,f as zt,C as Qt,n as Jt,Z as Ht}from"./App.11263b70.js";import{A as ut,a as $t,C as Zt}from"./CommonButton.0b792d77.js";import{C as ue}from"./CommonDatePicker.d7bc57f8.js";import{T as ea}from"./Toast.090093d1.js";import{A as ta}from"./Approval.69c4f070.js";import{A as aa}from"./Attachments.19d97d2b.js";import{S as oa}from"./SearchGoods.aa0af31e.js";import{C as de}from"./CodeHelperPopup.3932fdb9.js";import"./index.6f186c21.js";import"./EvidenceViewer.5aab9677.js";const ra={SA1:{width:70,height:25,margin:"3px 3px",backgroundColor:"#e0ecff",color:"#163971",padding:5,fontSize:"12px",alignItems:"center",fontWeight:600,display:"flex"},SA2:{width:60},SA3:{width:"15px!important",height:"15px!important",border:"1px solid #3c96ff",marginTop:"1px","& .checkbox-checked":{border:0,background:"#3c96ff"}},SA4:{width:90,height:25,"& input":{fontSize:"12px !important"}},SA5:{marginLeft:5,width:140,height:25,"& input":{fontSize:"12px !important"}},SB1:{width:253,height:32,"& input":{fontSize:"16px !important",textAlign:"center",color:"#0070c0"}},SB2:{fontSize:12,paddingBottom:2,fontWeight:500},SC1:{width:90,height:25,margin:"3px 10px",backgroundColor:"#e0ecff",color:"#163971",padding:5,fontSize:"12px",alignItems:"center",fontWeight:600,display:"flex"},SC2:{width:80},SC11:{width:100,height:25,margin:"3px 10px",backgroundColor:"#e0ecff",color:"#163971",padding:5,fontSize:"12px",alignItems:"center",fontWeight:600,display:"flex"},SC3:{width:200,height:25,"& input":{fontSize:"12px !important"}},SC10:{width:.5,height:25,"& input":{fontSize:"12px !important"}},SC4:{width:200,height:25,"& input":{fontSize:"12px !important",textAlign:"right"}},SC5:{fontSize:12,paddingBottom:2,fontWeight:500,marginLeft:5},SC6:{width:150,height:25,"& input":{fontSize:"12px !important",textAlign:"center"}},Scroll:{"& .mainCon":{height:"700px",padding:"10px"}},SC7:{width:80,height:29,backgroundColor:"#e0ecff",color:"#163971",fontSize:"12px",alignItems:"center",fontWeight:600,display:"flex"},SC8:{"& textarea":{fontSize:"12px !important"}},searchLabel:{marginTop:3,marginLeft:5,display:"flex",alignItems:"center"}},ua=[{fieldName:"Accunit",dataType:u.exports.ValueType.TEXT},{fieldName:"Factory",dataType:u.exports.ValueType.TEXT},{fieldName:"ExportYn",dataType:u.exports.ValueType.TEXT},{fieldName:"DelvNo",dataType:u.exports.ValueType.TEXT},{fieldName:"DelvDate",dataType:u.exports.ValueType.DATE,datetimeFormat:"yyyyMMdd"},{fieldName:"CustCd",dataType:u.exports.ValueType.TEXT},{fieldName:"Exchang",dataType:u.exports.ValueType.NUMBER},{fieldName:"state",dataType:u.exports.ValueType.TEXT},{fieldName:"Billdate",dataType:u.exports.ValueType.DATE,datetimeFormat:"yyyyMMdd"},{fieldName:"TotalPrice",dataType:u.exports.ValueType.NUMBER},{fieldName:"TotalVat",dataType:u.exports.ValueType.NUMBER},{fieldName:"TotalAmount",dataType:u.exports.ValueType.NUMBER},{fieldName:"Qty",dataType:u.exports.ValueType.NUMBER},{fieldName:"CustCdNm",dataType:u.exports.ValueType.TEXT},{fieldName:"CustNm",dataType:u.exports.ValueType.TEXT},{fieldName:"Truncnm",dataType:u.exports.ValueType.TEXT},{fieldName:"VatNm",dataType:u.exports.ValueType.TEXT},{fieldName:"Slpdat",dataType:u.exports.ValueType.TEXT},{fieldName:"DocSource",dataType:u.exports.ValueType.TEXT},{fieldName:"Pno",dataType:u.exports.ValueType.TEXT},{fieldName:"DocNo",dataType:u.exports.ValueType.TEXT},{fieldName:"ApprDocProg",dataType:u.exports.ValueType.TEXT},{fieldName:"Gendate",dataType:u.exports.ValueType.DATE,datetimeFormat:"yyyyMMdd"},{fieldName:"DeptCD",dataType:u.exports.ValueType.TEXT},{fieldName:"CurrCd",dataType:u.exports.ValueType.TEXT},{fieldName:"Remark",dataType:u.exports.ValueType.TEXT},{fieldName:"TaxDate",dataType:u.exports.ValueType.DATE,datetimeFormat:"yyyyMMdd"},{fieldName:"Vatcd",dataType:u.exports.ValueType.TEXT},{fieldName:"Sliptyp",dataType:u.exports.ValueType.TEXT},{fieldName:"slipno",dataType:u.exports.ValueType.TEXT},{fieldName:"LNKCOD",dataType:u.exports.ValueType.TEXT},{fieldName:"TotalForeign",dataType:u.exports.ValueType.NUMBER},{fieldName:"Currdate",dataType:u.exports.ValueType.DATE,datetimeFormat:"yyyyMMdd"},{fieldName:"TotalAmt",dataType:u.exports.ValueType.NUMBER},{fieldName:"Totalweight",dataType:u.exports.ValueType.NUMBER},{fieldName:"UnitPrice",dataType:u.exports.ValueType.NUMBER},{fieldName:"UnitPricew",dataType:u.exports.ValueType.NUMBER},{fieldName:"PnoNm",dataType:u.exports.ValueType.TEXT},{fieldName:"DeptCDNm",dataType:u.exports.ValueType.TEXT},{fieldName:"CurrCdNm",dataType:u.exports.ValueType.TEXT},{fieldName:"Taxno",dataType:u.exports.ValueType.TEXT},{fieldName:"BL_No",dataType:u.exports.ValueType.TEXT},{fieldName:"DocStatus",dataType:u.exports.ValueType.TEXT},{fieldName:"Gubun",dataType:u.exports.ValueType.TEXT}],na=[{name:"ApprDocProg",fieldName:"ApprDocProg",type:"data",width:60,header:{text:"\uACB0\uC7AC\uC0C1\uD0DC"},styleName:"center-column"},{name:"DelvDate",fieldName:"DelvDate",type:"data",width:80,header:{text:"\uC785\uACE0\uC77C"},styleName:"center-column",datetimeFormat:"yyyy-MM-dd"},{name:"DelvNo",fieldName:"DelvNo",type:"data",width:95,header:{text:"\uC785\uACE0\uBC88\uD638"},styleName:"center-column"},{name:"CustCdNm",fieldName:"CustCdNm",type:"data",width:100,header:{text:"\uAC70\uB798\uCC98\uBA85"},renderer:{type:"text",showTooltip:!0},styleName:"left-column"},{name:"VatNm",fieldName:"VatNm",type:"data",width:150,header:{text:"\uACFC\uC138\uC885\uB958"},styleName:"left-column"},{name:"Totalprice",fieldName:"Totalprice",type:"data",width:80,header:{text:"\uACF5\uAE09\uAC00\uC561"},numberFormat:"#,##0",styleName:"right-column"},{name:"TotalAmount",fieldName:"TotalAmount",type:"data",width:80,header:{text:"\uC785\uACE0\uCD1D\uC561"},numberFormat:"#,##0",styleName:"right-column"},{name:"Qty",fieldName:"Qty",type:"data",width:60,header:{text:"\uC785\uACE0\uB7C9"},numberFormat:"#,##0",styleName:"right-column"},{name:"state",fieldName:"state",type:"data",width:80,header:{text:"\uAD6C\uB9E4\uC0C1\uD0DC"},styleName:"center-column"},{name:"Truncnm",fieldName:"Truncnm",type:"data",width:90,header:{text:"\uC904\uC784\uC0C1\uD638"},styleName:"left-column"}],la=[{fieldName:"Accunit",dataType:u.exports.ValueType.TEXT},{fieldName:"Guid",dataType:u.exports.ValueType.TEXT},{fieldName:"ExportYn",dataType:u.exports.ValueType.TEXT},{fieldName:"DelvNo",dataType:u.exports.ValueType.TEXT},{fieldName:"DelvSeq",dataType:u.exports.ValueType.TEXT},{fieldName:"GoodCD",dataType:u.exports.ValueType.TEXT},{fieldName:"Div",dataType:u.exports.ValueType.TEXT},{fieldName:"Spec",dataType:u.exports.ValueType.TEXT},{fieldName:"UnitCD",dataType:u.exports.ValueType.TEXT},{fieldName:"Price",dataType:u.exports.ValueType.NUMBER},{fieldName:"Delvqty",dataType:u.exports.ValueType.NUMBER},{fieldName:"Weight",dataType:u.exports.ValueType.NUMBER},{fieldName:"Su",dataType:u.exports.ValueType.NUMBER},{fieldName:"Qty",dataType:u.exports.ValueType.NUMBER},{fieldName:"InQty",dataType:u.exports.ValueType.NUMBER},{fieldName:"Amount",dataType:u.exports.ValueType.NUMBER},{fieldName:"KorAmt",dataType:u.exports.ValueType.NUMBER},{fieldName:"StockYn",dataType:u.exports.ValueType.TEXT},{fieldName:"StockQty",dataType:u.exports.ValueType.NUMBER},{fieldName:"OkAmt",dataType:u.exports.ValueType.NUMBER},{fieldName:"Tax",dataType:u.exports.ValueType.NUMBER},{fieldName:"Whcd",dataType:u.exports.ValueType.TEXT},{fieldName:"No",dataType:u.exports.ValueType.TEXT},{fieldName:"BalNo",dataType:u.exports.ValueType.TEXT},{fieldName:"BalSerl",dataType:u.exports.ValueType.TEXT},{fieldName:"Sourcetype",dataType:u.exports.ValueType.TEXT},{fieldName:"CrePno",dataType:u.exports.ValueType.TEXT},{fieldName:"CreDate",dataType:u.exports.ValueType.TEXT},{fieldName:"ModPno",dataType:u.exports.ValueType.TEXT},{fieldName:"ModDate",dataType:u.exports.ValueType.TEXT},{fieldName:"NapQty",dataType:u.exports.ValueType.NUMBER},{fieldName:"GoodNo",dataType:u.exports.ValueType.TEXT},{fieldName:"GoodCdNm",dataType:u.exports.ValueType.TEXT},{fieldName:"color",dataType:u.exports.ValueType.TEXT},{fieldName:"goodenm",dataType:u.exports.ValueType.TEXT},{fieldName:"UnitCdNm",dataType:u.exports.ValueType.TEXT},{fieldName:"WhCdNm",dataType:u.exports.ValueType.TEXT},{fieldName:"jukyocd",dataType:u.exports.ValueType.TEXT},{fieldName:"jukyonm",dataType:u.exports.ValueType.TEXT},{fieldName:"GFactory",dataType:u.exports.ValueType.TEXT},{fieldName:"Factory",dataType:u.exports.ValueType.TEXT},{fieldName:"goodtype",dataType:u.exports.ValueType.TEXT},{fieldName:"KgPerM",dataType:u.exports.ValueType.NUMBER},{fieldName:"Priceunit",dataType:u.exports.ValueType.TEXT},{fieldName:"Priceunitnm",dataType:u.exports.ValueType.TEXT},{fieldName:"BoxUnit",dataType:u.exports.ValueType.TEXT},{fieldName:"BoxUnitNm",dataType:u.exports.ValueType.TEXT},{fieldName:"Remark",dataType:u.exports.ValueType.TEXT},{fieldName:"CarNo",dataType:u.exports.ValueType.TEXT},{fieldName:"CarNoNm",dataType:u.exports.ValueType.TEXT},{fieldName:"Bomchecksort",dataType:u.exports.ValueType.TEXT}],ia=[{name:"No",fieldName:"No",width:50,styleName:"center-column",editable:!1,header:{text:"NO"},renderer:{type:"text"}},{name:"GoodNo",fieldName:"GoodNo",width:150,styleName:"left-column",header:{text:"\uD488\uBC88",showTooltip:!0},renderer:{type:"text",showTooltip:!0},editor:{textCase:"upper"}},{name:"Spec",fieldName:"Spec",width:150,styleName:"left-column",header:{text:"\uADDC\uACA9"},renderer:{type:"text",showTooltip:!0},editor:{maxLength:25}},{name:"GoodCdNm",fieldName:"GoodCdNm",width:150,styleName:"left-column",header:{text:"\uD488\uBA85",showTooltip:!0},renderer:{type:"text",showTooltip:!0}},{name:"jukyocd",fieldName:"jukyocd",width:80,styleName:"center-column",header:{text:"\uD68C\uACC4\uCC98\uB9AC\uCF54\uB4DC"},renderer:{type:"text"}},{name:"jukyonm",fieldName:"jukyonm",width:110,styleName:"left-column",button:"action",header:{text:"\uD68C\uACC4\uCC98\uB9AC\uCF54\uB4DC\uBA85"},renderer:{type:"text",showTooltip:!0}},{name:"Su",fieldName:"Su",width:60,styleName:"right-column",numberFormat:"#,##0.##",header:{text:"\uAE38\uC774"},renderer:{type:"text",showTooltip:!0},footer:{numberFormat:"#,##0.##",expression:"sum"},editor:{type:"number",editFormat:"#,##0.##"}},{name:"Qty",fieldName:"Qty",width:60,styleName:"right-column",numberFormat:"#,##0.##",header:{text:"\uC218\uB7C9"},renderer:{type:"text",showTooltip:!0},footer:{numberFormat:"#,##0.##",expression:"sum"},editor:{type:"number",editFormat:"#,##0.##"}},{name:"Delvqty",fieldName:"Delvqty",width:60,styleName:"right-column rg-disable-cell",editable:!1,numberFormat:"#,##0.##",header:{text:"\uAD6C\uB9E4\uB7C9"},renderer:{type:"text",showTooltip:!0},footer:{numberFormat:"#,##0.##",expression:"sum"},editor:{type:"number",editFormat:"#,##0.##"}},{name:"Weight",fieldName:"Weight",width:60,styleName:"right-column rg-disable-cell",editable:!1,numberFormat:"#,##0.##",header:{text:"\uC218\uBD88\uC911\uB7C9"},renderer:{type:"text",showTooltip:!0},editor:{type:"number",editFormat:"#,##0.##"},footer:{numberFormat:"#,##0.##",expression:"sum"}},{name:"Price",fieldName:"Price",width:70,styleName:"right-column",numberFormat:"#,##0.##",header:{text:"\uB2E8\uAC00",showTooltip:!0},renderer:{type:"text",showTooltip:!0},editor:{type:"number",editFormat:"#,##0.##"}},{name:"Amount",fieldName:"Amount",width:80,styleName:"right-column",numberFormat:"#,##0",header:{text:"\uACF5\uAE09\uAC00\uC561"},renderer:{type:"text",showTooltip:!0},footer:{numberFormat:"#,##0",expression:"sum"},editor:{type:"number",editFormat:"#,##0"}},{name:"Tax",fieldName:"Tax",width:70,styleName:"right-column",numberFormat:"#,##0.##",header:{text:"\uBD80\uAC00\uC138"},footer:{numberFormat:"#,##0",expression:"sum"},renderer:{type:"text",showTooltip:!0},editor:{type:"number",editFormat:"#,##0.##"}},{name:"OkAmt",fieldName:"OkAmt",width:80,styleName:"right-column",numberFormat:"#,##0",header:{text:"\uD569\uACC4\uAE08\uC561",showTooltip:!0},renderer:{type:"text",showTooltip:!0},footer:{numberFormat:"#,##0",expression:"sum"},editor:{type:"number",editFormat:"#,##0"}},{name:"WhCdNm",fieldName:"WhCdNm",width:90,styleName:"center-column",button:"action",header:{text:"\uC785\uACE0\uCC3D\uACE0"},renderer:{type:"text"}},{name:"StockYn",fieldName:"StockYn",type:"data",width:40,header:{text:"\uC7AC\uACE0"},renderer:{type:"check",trueValues:"Y",falseValues:"N"}},{name:"Remark",fieldName:"Remark",width:200,styleName:"left-column",placeHolder:"\uCD5C\uB30050\uC790",header:{text:"\uBE44\uACE0",showTooltip:!0},renderer:{type:"text",showTooltip:!0},editor:{maxLength:50}}],sa=({visible:S,onCancel:y,custCd:D,sendRows:p})=>{const Ne="SEARCHORDER",{$CommonStore:Re,$UserStore:L}=at(),x=da(),ne=C.exports.useRef(null),le=C.exports.useRef(null),k=C.exports.useRef(null),W=C.exports.useRef(null),F=C.exports.useRef(0),[J,O]=C.exports.useState({visible:!1,desc:"",type:"N"}),B=new ot(Ne,O,!0,!0,!0,!0,!1),[K,ie]=C.exports.useState({}),Ie=()=>{ie({SchAccunit:"",SchFactory:"",SchCustcd:D,SchGoodno:"",SchGoodNm:"",SchNapFrom:E().subtract(1,"month"),SchNapTo:E().add(3,"month")},50),B.Common.fSetTabIndex()},Ce=()=>{B.Grid.fContainerInit(B.Common.fMakeId("Grid1")),I=new u.exports.LocalDataProvider(!1),oe=new u.exports.GridView(ne.current),B.Grid.fInitGridHeader(oe,I,et,ma,30,pe,U,xe),oe.setRowStyleCallback((i,T)=>{if(i.getValue(T.index,"selectFlag")==="Y")return"rg-column-color-2"}),oe.onCellDblClicked=function(i,T){const g=I.getJsonRow(T.dataRow);I.getValue(T.dataRow,"selectFlag")!="Y"&&(v.addRow(g),I.setValue(T.dataRow,"selectFlag","Y")),F.current=g.MiSu,Q.validateCells()}},pe=async(i,T,g)=>{g>=0&&(k.current=g)},U=async()=>{},xe=async(i,T)=>{const g=oe.getCurrent(),P=I.getJsonRow(g.dataRow);switch(T.key){case"Enter":I.getValue(g.dataRow,"selectFlag")!="Y"&&(v.addRow(P),I.setValue(g.dataRow,"selectFlag","Y")),F.current=P.MiSu;break;case(T.shiftKey&&"Tab"):W.current.focus();break;case"Tab":Q.setFocus();break}},Be=()=>{B.Grid.fContainerInit(B.Common.fMakeId("Grid2")),v=new u.exports.LocalDataProvider(!1),Q=new u.exports.GridView(le.current),B.Grid.fInitGridDetail(Q,v,et,ca,N,M,c),Q.setFooters({visible:!0}),Q.setCheckBar({visible:!1}),Q.setDisplayOptions({fitStyle:"evenFill"}),Q.setStateBar({visible:!1})},N=async()=>{},M=async i=>{i.commit();const{column:T,dataRow:g}=i.getCurrent();if(i.getValue(g,T)){const V=i.getValue(g,"UnitCd"),H=i.getValue(g,"IpQty");T==="IpQty"&&V!=="064047"?(i.getValue(g,"Miqty")<H&&O({visible:!0,desc:"\uC785\uACE0\uC218\uB7C9\uC774 \uBBF8\uC785\uACE0\uB7C9\uBCF4\uB2E4 \uB9CE\uC2B5\uB2C8\uB2E4.",type:"W"}),v.setValue(g,"IpWeight",H)):T==="IpQty"&&V==="064047"?Ae(g,H,"M"):T==="MiSu"&&V==="064047"?Ae(g,i.getValue(g,"MiSu"),"Kg"):T==="MiSu"&&V!=="064047"&&v.setValue(g,"MiSu",F.current)}i.validateCells()},c=async(i,T)=>{switch(T.key){case(T.shiftKey&&"Tab"):oe.setFocus();break}},A=async()=>{if(B.Common.fValidate(!E(K.SchNapFrom,"YYYY-MM-DD").isValid()||!E(K.SchNapTo,"YYYY-MM-DD").isValid(),"\uC870\uD68C\uAE30\uAC04\uC744 \uBC14\uB974\uAC8C \uC785\uB825\uD574 \uC8FC\uC138\uC694.")||B.Common.fValidate(E(K.SchNapFrom).format("YYYYMMDD")>E(K.SchNapTo).format("YYYYMMDD"),"\uB0A9\uAE30\uC77C \uC870\uD68C\uAE30\uAC04\uC744 \uD655\uC778\uD574 \uC8FC\uC138\uC694."))return;const i={...K};i.SchAccunit=L.user.accunit,i.SchFactory=L.user.factory,i.SchNapFrom=E(i.SchNapFrom).format("YYYYMMDD"),i.SchNapTo=E(i.SchNapTo).format("YYYYMMDD"),await B.Command.fSearch(I,"/@api/purchase/purchaseStorage/searchBalJoo",i,"\uBC1C\uC8FC\uD488\uBC88")},Se=()=>{const i=v.getJsonRows();if(console.log("send",i),i.length<1){O({visible:!0,desc:"\uBC1C\uC8FC\uC694\uCCAD\uC790\uB8CC\uB97C \uC120\uD0DD\uD558\uC138\uC694.",type:"W"});return}p({selected:i}),y()},Z=()=>{const{dataRow:i}=Q.getCurrent();if(i===-1){O({visible:!0,desc:"\uC0AD\uC81C\uD560 \uAD6C\uB9E4\uC785\uACE0\uB0B4\uC5ED\uC744 \uC120\uD0DD\uD574 \uC8FC\uC138\uC694.",type:"W"});return}const T=v.getValue(i,"BalNo"),g=v.getValue(i,"BalSerl"),P=I.getJsonRows();v.removeRow(i),P.forEach((V,H)=>{V.BalNo===T&&V.BalSerl===g&&I.setValue(H,"selectFlag","N")})},fe=()=>{y()},se=()=>{if(I.getJsonRows().length<1){O({visible:!0,desc:"\uCC98\uB9AC\uD560 \uBC1C\uC8FC\uBC88\uD638\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.",type:"W"});return}const i=I.getValue(k.current,"BalNo");I.getJsonRows().forEach((g,P)=>{const V=I.getValue(P,"BalNo"),H=I.getValue(P,"selectFlag");i===V&&H!="Y"&&(v.addRow(I.getJsonRow(P)),I.setValue(P,"selectFlag","Y"))})},Ae=async(i,T,g)=>{const P=v.getValue(i,"GoodCd");if(!(P===""||P===void 0))try{const V=await re.get("/@api/purchase/purchaseStorage/searchConvertValue",{params:{SchGoodcd:P,SchConvertUnit:g,SchConvertValue:T}});if(!V.data)return;g==="M"&&V.data.returnValue!==0&&(v.setValue(i,"MiSu",V.data.returnValue),v.setValue(i,"IpQty",T),v.setValue(i,"IpWeight",T)),g==="Kg"&&V.data.returnValue!==0&&(v.setValue(i,"IpQty",V.data.returnValue),v.setValue(i,"IpWeight",V.data.returnValue)),Q.validateCells()}catch{O({visible:!0,desc:"\uB2E8\uC704 \uD658\uC0B0 \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4.",type:"E"})}};return window.onkeydown=function(i){S&&(i.key==="F3"?(i.preventDefault(),A()):i.key==="F4"?(i.preventDefault(),Se()):i.key==="F5"?(i.preventDefault(),Z()):i.key==="F6"&&(i.preventDefault(),fe()))},C.exports.useEffect(()=>{if(S){Ie(),Ce(),Be();let i=document.getElementsByClassName("window-mask");i[i.length-1].style="z-index: 100";let T=document.getElementsByClassName("window-shadow");T[T.length-1].style="z-index: 1250",document.getElementById(B.Common.fMakeId("SchNapFrom")).focus()}},[S]),S?a.createElement(a.Fragment,null,a.createElement(h.exports.Dialog,{style:{width:"90%",height:"90%"},title:a.createElement(n,{style:{display:"flex",justifyContent:"center"}},"\uBC1C\uC8FC\uD488\uBC88\uC870\uD68C"),onClose:fe,draggable:!0,modal:!0},a.createElement(n,{style:{marginLeft:"5px",marginTop:"5px"}},a.createElement(h.exports.LinkButton,{className:x.Linkbutton,style:{backgroundColor:"#C8F9FA"},onClick:A,inputCls:"inputCls"},a.createElement(n,{className:x.LinkFontBox,id:B.Common.fMakeId("search")},a.createElement(ut,{size:18}),a.createElement(n,{className:x.ButtonFont},"\uC870\uD68C F3"))),a.createElement(h.exports.LinkButton,{className:x.Linkbutton,style:{backgroundColor:"#a4e9c1"},onClick:Se,inputCls:"inputCls"},a.createElement(n,{className:x.LinkFontBox},a.createElement(n,{className:x.ButtonFont},"\uBC1C\uC8FC\uC790\uB8CC\uAC80\uC0C9\uCC98\uB9AC F4"))),a.createElement(h.exports.LinkButton,{className:x.Linkbutton,style:{backgroundColor:"#ffd5d5"},onClick:Z},a.createElement(n,{className:x.LinkFontBox},a.createElement(n,{className:x.ButtonFont},"\uBC1C\uC8FC\uC790\uB8CC\uAC80\uC0C9\uC0AD\uC81C(\uAC74\uBCC4) F5"))),a.createElement(h.exports.LinkButton,{className:x.Linkbutton,style:{backgroundColor:"#D9D9D9"},onClick:fe},a.createElement(n,{className:x.LinkFontBox},a.createElement($t,{size:18}),a.createElement(n,{className:x.ButtonFont},"\xA0\uC885\uB8CC F6")))),a.createElement(n,{style:{display:"flex",alignItems:"center",marginLeft:"3px",marginTop:3}},a.createElement(n,{className:x.CLabel,style:{marginLeft:3}},a.createElement(n,null,"\uD488\uBC88")),a.createElement(n,null,a.createElement(h.exports.TextBox,{inputCls:"inputCls",inputId:B.Common.fMakeId("SchGoodno"),onChange:i=>{B.Common.fFieldChange(ie,"SchGoodno",i.toUpperCase())},value:K.SchGoodno,className:x.SA5,style:{width:180,marginLeft:5}})),a.createElement(n,{style:{marginTop:0,marginLeft:10,display:"flex",alignItems:"center"}},a.createElement(n,{className:x.SA1},a.createElement(n,{className:x.SA2},"\uB0A9\uAE30\uC77C")),a.createElement(n,{style:{marginLeft:10}},a.createElement(ue,{inputCls:"inputCls",selected:K.SchNapFrom,inputId:B.Common.fMakeId("SchNapFrom"),onHandleDateChange:i=>B.Common.fFieldChange(ie,"SchNapFrom",i)})),a.createElement(n,{style:{margin:"0 3px",width:"10px"}},"~"),a.createElement(n,{onKeyDown:i=>{i.shiftKey&&i.key==="Tab"?(i.preventDefault(),document.getElementById(B.Common.fMakeId("SchNapFrom")).focus()):i.key==="Tab"&&(i.preventDefault(),W.current.focus())}},a.createElement(ue,{inputCls:"inputCls",selected:K.SchNapTo,inputId:B.Common.fMakeId("SchNapTo"),onHandleDateChange:i=>B.Common.fFieldChange(ie,"SchNapTo",i)}))),a.createElement(n,{onKeyDown:i=>{i.preventDefault(),i.shiftKey&&i.key==="Tab"?(i.preventDefault(),document.getElementById(B.Common.fMakeId("SchNapTo")).focus()):i.key==="Tab"&&(i.preventDefault(),oe.setFocus())}},a.createElement(h.exports.LinkButton,{ref:W,style:{marginLeft:900,marginRight:50},className:"c9",onClick:se,inputCls:"inputCls"},a.createElement(n,{className:x.LinkFontBox,id:B.Common.fMakeId("search")},a.createElement(Kt,{size:18}),a.createElement(n,{className:x.ButtonFont},"\uBC1C\uC8FC \uBC88\uD638\uBCC4 \uCC98\uB9AC"))))),a.createElement(n,{style:{display:"flex",alignItems:"center",marginLeft:"3px"}},a.createElement(n,{className:x.Label},a.createElement(n,null,"\uBC1C\uC8FC\uC694\uCCAD\uC790\uB8CC"))),a.createElement(n,{ref:ne,id:B.Common.fMakeId("Grid1"),style:{width:"100%",height:355}}),a.createElement(n,{style:{display:"flex",alignItems:"center",marginLeft:"3px",marginTop:"3px"}},a.createElement(n,{className:x.Label},a.createElement(n,null,"\uAD6C\uB9E4\uC785\uACE0\uB0B4\uC5ED"))),a.createElement(n,{ref:le,id:B.Common.fMakeId("Grid2"),style:{width:"100%",height:310}})),a.createElement(rt,{visible:J.visible,description:J.desc,type:J.type,onConfirm:()=>O({visible:!1})})):null};let I,v,oe,Q;const et=[{fieldName:"BalSerl",dataType:u.exports.ValueType.TEXT},{fieldName:"BalNo",dataType:u.exports.ValueType.TEXT},{fieldName:"BoxUnit",dataType:u.exports.ValueType.TEXT},{fieldName:"Clastype",dataType:u.exports.ValueType.TEXT},{fieldName:"ExportYn",dataType:u.exports.ValueType.TEXT},{fieldName:"GoodCd",dataType:u.exports.ValueType.TEXT},{fieldName:"GoodNm",dataType:u.exports.ValueType.TEXT},{fieldName:"GoodNo",dataType:u.exports.ValueType.TEXT},{fieldName:"jukyocd_c",dataType:u.exports.ValueType.TEXT},{fieldName:"jukyonm_c",dataType:u.exports.ValueType.TEXT},{fieldName:"MiSu",dataType:u.exports.ValueType.NUMBER},{fieldName:"Miqty",dataType:u.exports.ValueType.NUMBER},{fieldName:"IpQty",dataType:u.exports.ValueType.NUMBER},{fieldName:"IpWeight",dataType:u.exports.ValueType.NUMBER},{fieldName:"NapDate",dataType:u.exports.ValueType.DATE,datetimeFormat:"yyyyMMdd"},{fieldName:"NapQty",dataType:u.exports.ValueType.NUMBER},{fieldName:"Price",dataType:u.exports.ValueType.NUMBER},{fieldName:"priceunit",dataType:u.exports.ValueType.TEXT},{fieldName:"Qty",dataType:u.exports.ValueType.NUMBER},{fieldName:"Spec",dataType:u.exports.ValueType.TEXT},{fieldName:"Su",dataType:u.exports.ValueType.NUMBER},{fieldName:"UnitCd",dataType:u.exports.ValueType.TEXT},{fieldName:"UnitCdNm",dataType:u.exports.ValueType.TEXT},{fieldName:"Weight",dataType:u.exports.ValueType.NUMBER},{fieldName:"WhCdNm",dataType:u.exports.ValueType.TEXT},{fieldName:"WrhCd",dataType:u.exports.ValueType.TEXT},{fieldName:"selectFlag",dataType:u.exports.ValueType.TEXT}],ma=[{name:"BalNo",fieldName:"BalNo",width:100,styleName:"center-column",header:{text:"\uBC1C\uC8FC\uBC88\uD638",showTooltip:!0},renderer:{type:"text",showTooltip:!0}},{name:"NapDate",fieldName:"NapDate",type:"data",width:80,header:{text:"\uB0A9\uAE30\uC77C"},styleName:"center-column",datetimeFormat:"yyyy-MM-dd"},{name:"GoodNo",fieldName:"GoodNo",width:170,styleName:"left-column",header:{text:"\uBC1C\uC8FC\uD488\uBC88",showTooltip:!0},renderer:{type:"text",showTooltip:!0}},{name:"Spec",fieldName:"Spec",width:170,styleName:"left-column",header:{text:"\uADDC\uACA9",showTooltip:!0},renderer:{type:"text",showTooltip:!0}},{name:"GoodNm",fieldName:"GoodNm",width:170,styleName:"left-column",header:{text:"\uD488\uBA85",showTooltip:!0},renderer:{type:"text",showTooltip:!0}},{name:"Su",fieldName:"Su",width:60,styleName:"right-column",numberFormat:"#,##0.##",header:{text:"\uAE38\uC774",showTooltip:!0},renderer:{type:"text",showTooltip:!0}},{name:"Qty",fieldName:"Qty",width:60,styleName:"right-column",numberFormat:"#,##0.##",header:{text:"\uC218\uB7C9",showTooltip:!0},renderer:{type:"text",showTooltip:!0}},{name:"Weight",fieldName:"Weight",width:60,styleName:"right-column",numberFormat:"#,##0.##",header:{text:"\uC911\uB7C9",showTooltip:!0},renderer:{type:"text",showTooltip:!0}},{name:"Miqty",fieldName:"Miqty",width:60,styleName:"right-column",numberFormat:"#,##0.##",header:{text:"\uBBF8\uC785\uACE0\uB7C9",showTooltip:!0},renderer:{type:"text",showTooltip:!0}},{name:"UnitCdNm",fieldName:"UnitCdNm",width:50,styleName:"center-column",header:{text:"\uB2E8\uC704",showTooltip:!0},renderer:{type:"text",showTooltip:!0}},{name:"Price",fieldName:"Price",width:60,styleName:"right-column",numberFormat:"#,##0",editable:!1,header:{text:"\uBC1C\uC8FC\uB2E8\uAC00",showTooltip:!0},renderer:{type:"text",showTooltip:!0},editor:{type:"number",editFormat:"#,##0"}}],ca=[{name:"BalNo",fieldName:"BalNo",width:100,styleName:"center-column rg-disable-cell",editable:!1,header:{text:"\uBC1C\uC8FC\uBC88\uD638"},renderer:{type:"text",showTooltip:!0}},{name:"NapDate",fieldName:"NapDate",width:80,styleName:"center-column rg-disable-cell",datetimeFormat:"yyyy-MM-dd",editable:!1,header:{text:"\uB0A9\uAE30\uC77C"},renderer:{type:"text"},editor:{type:"date",maxLength:10,yearNavigation:!1,datetimeFormat:"yyyy-MM-dd"}},{name:"GoodNo",fieldName:"GoodNo",width:170,styleName:"left-column rg-disable-cell",editable:!1,header:{text:"\uBC1C\uC8FC\uD488\uBC88",showTooltip:!0},renderer:{type:"text",showTooltip:!0}},{name:"Spec",fieldName:"Spec",width:170,styleName:"left-column rg-disable-cell",editable:!1,header:{text:"\uADDC\uACA9",showTooltip:!0},renderer:{type:"text",showTooltip:!0}},{name:"GoodNm",fieldName:"GoodNm",width:170,styleName:"left-column rg-disable-cell",editable:!1,header:{text:"\uD488\uBA85",showTooltip:!0},renderer:{type:"text",showTooltip:!0}},{name:"MiSu",fieldName:"MiSu",width:60,styleName:"right-column",numberFormat:"#,##0.##",header:{text:"\uC785\uACE0\uAE38\uC774",showTooltip:!0},renderer:{type:"text",showTooltip:!0},footer:{numberFormat:"#,##0.##",expression:"sum"},editor:{type:"number",editFormat:"#,##0.##"}},{name:"IpQty",fieldName:"IpQty",width:60,styleName:"right-column",numberFormat:"#,##0.##",header:{text:"\uC785\uACE0\uC218\uB7C9",showTooltip:!0},renderer:{type:"text",showTooltip:!0},footer:{numberFormat:"#,##0.##",expression:"sum"},editor:{type:"number",editFormat:"#,##0.##"}},{name:"IpWeight",fieldName:"IpWeight",width:60,styleName:"right-column rg-disable-cell",numberFormat:"#,##0.##",editable:!1,header:{text:"\uC785\uACE0\uC911\uB7C9",showTooltip:!0},renderer:{type:"text",showTooltip:!0},editor:{type:"number",editFormat:"#,##0.##"},footer:{numberFormat:"#,##0.##",expression:"sum"}},{name:"Miqty",fieldName:"Miqty",width:60,styleName:"right-column rg-disable-cell",numberFormat:"#,##0.##",header:{text:"\uBBF8\uC785\uACE0\uB7C9",showTooltip:!0},renderer:{type:"text",showTooltip:!0}},{name:"UnitCdNm",fieldName:"UnitCdNm",width:50,styleName:"center-column rg-disable-cell",editable:!1,header:{text:"\uB2E8\uC704",showTooltip:!0},renderer:{type:"text",showTooltip:!0}},{name:"Price",fieldName:"Price",width:60,styleName:"right-column rg-disable-cell",numberFormat:"#,##0",editable:!1,header:{text:"\uBC1C\uC8FC\uB2E8\uAC00",showTooltip:!0},renderer:{type:"text",showTooltip:!0},editor:{type:"number",editFormat:"#,##0"}}],da=tt({Label:{width:90,height:25,margin:"3px 3px",backgroundColor:"#C8F9FA",color:"#000",padding:5,fontSize:"12px",alignItems:"center",fontWeight:500,display:"flex",border:"1px solid #9ac9ed",borderRadius:3},Linkbutton:{with:80,height:30,color:"#424242",borderRadius:3,marginRight:5,alignItems:"center",justifyContent:"center",padding:6},LinkFontBox:{display:"flex",alignItems:"center",justifyContent:"center"},ButtonFont:{fontSize:12,paddingBottom:2,fontWeight:500},RadioLabel:{marginLeft:"3px",width:40,fontSize:"12px"},RButtonStyle:{width:"15px",height:"15px"},RadioBox:{display:"flex",alignItems:"center",marginRight:5},Radio:{width:"15px",height:"15px"},SA1:{width:70,height:25,backgroundColor:"#e0ecff",color:"#163971",padding:5,fontSize:"12px",alignItems:"center",fontWeight:600,display:"flex",borderRadius:3},SA2:{width:60},CLabel:{width:70,height:25,margin:"3px 3px",backgroundColor:"#e0ecff",color:"#163971",padding:5,fontSize:"12px",alignItems:"center",fontWeight:600,display:"flex",borderRadius:3},SA5:{marginLeft:5,width:140,height:25,"& input":{fontSize:"12px !important"}}}),Sa=jt(()=>{const S="PURCHASESTORAGE",{$CommonStore:y,$UserStore:D}=at(),p=Ca(),Ne=C.exports.useRef(null),Re=C.exports.useRef(null),L=C.exports.useRef(null),x=C.exports.useRef(null),ne=C.exports.useRef(null),le=C.exports.useRef(null),k=C.exports.useRef(null),W=C.exports.useRef(null),F=C.exports.useRef(null),J=C.exports.useRef("\uACB0\uC7AC \xB7 \uBBF8\uC0C1\uC2E0"),O=C.exports.useRef(null),B=C.exports.useRef(null),K=C.exports.useRef(null),ie=C.exports.useRef(null),Ie=C.exports.useRef(null),Ce=C.exports.useRef(0),pe=C.exports.useRef(!0),U=C.exports.useRef(null),xe=C.exports.useRef(null),Be=C.exports.useRef(0),[N,M]=C.exports.useState({}),[c,A]=C.exports.useState({}),[Se,Z]=C.exports.useState(!1),[fe,se]=C.exports.useState(!1),[Ae,i]=C.exports.useState(""),[T,g]=C.exports.useState(""),[P,V]=C.exports.useState(!1),[H]=C.exports.useState({DelvDate:"required",Gendate:"required",ExportYn:"required",CustCdNm:"required",CustCd:"required",Taxdate:"required",Vatcd:"required",VatNm:"required",Sliptyp:"required",DeptCD:"required",DeptCDNm:"required",Pno:"required",PnoNm:"required"}),[Le]=C.exports.useState([{value:"0",text:"\uC785\uACE0\uC77C\uC790"},{value:"1",text:"\uC785\uACE0\uBC88\uD638"},{value:"2",text:"\uAC70\uB798\uCC98\uBA85"},{value:"3",text:"\uC904\uC784\uC0C1\uD638"}]),[nt]=C.exports.useState([{value:"0",text:"0.\uD074\uB798\uC784"},{value:"1",text:"1.\uB0B4\uC218"},{value:"2",text:"2.\uC218\uC785"}]),[lt]=C.exports.useState([{value:"0",text:"0.\uAC74\uBCC4"},{value:"1",text:"1.\uC6D4\uBCC4"}]),[$,ye]=C.exports.useState({visible:!1,desc:"",value:"",datas:{},id:"",viewId:"",selectedData:{}}),[it,Ue]=C.exports.useState({visible:!1}),[Ve,We]=C.exports.useState({visible:!1,selectedData:{},id:"",pgmid:""}),[be,b]=C.exports.useState({visible:!1,desc:"",type:"N"}),[ve,ae]=C.exports.useState({visible:!1,desc:"",type:"N"}),[he,Te]=C.exports.useState({visible:!1,desc:"",id:""}),ee=new qt,o=new ot(S,b,!0,!0,!0,!0,!1),Pe=new Ht,st=["No","GoodNo","jukyonm","Delvqty"],mt=["GoodNo","Priceunitnm","jukyocd","WhCdNm"],ct=["GoodNo","Priceunitnm","jukyocd","jukyonm","CarNoNm"],Fe=["103011","103013","103015"],dt={GoodCD:"\uD488\uBC88\uCF54\uB4DC",jukyocd:"\uD68C\uACC4\uCC98\uB9AC\uCF54\uB4DC",Delvqty:"\uAD6C\uB9E4\uB7C9"},Ct=()=>{M({SchAccunit:"",SchFactory:"",SchFrDate:E().clone().startOf("month").toDate(),SchToDate:new Date,SchWriting:"Y",SchPno:"",SchPnoNm:"",SchCustCd:"",SchCustCdNm:"",SchType:"1",SchText:""},50),Me(),document.getElementById(o.Common.fMakeId("Remark")).maxLength=50,setTimeout(()=>{o.Common.fSetTabIndex()},300),document.getElementById(o.Common.fMakeId("SchFrDate")).focus()},Me=()=>{A({Accunit:D.user.accunit,Factory:D.user.factory,Factorynm:D.user.factorynm,ExportYn:"1",DelvNo:"",DelvDate:new Date,CustCd:"",Exchang:1,state:"",Billdate:new Date,TotalPrice:0,TotalVat:0,TotalAmount:0,Qty:0,CustCdNm:"",CustNm:"",Truncnm:"",VatNm:"\uC804\uC790\uC138\uAE08\uACC4\uC0B0\uC11C(\uC77C\uBC18\uACFC\uC138)",DocSource:"",Pno:D.user.userid,DocNo:"",ApprDocProg:"",Gendate:new Date,DeptCD:D.user.deptcd,CurrCd:"057001",Remark:"",TaxDate:new Date,Vatcd:"103011",Sliptyp:"1",slipno:"",Currdate:new Date,TotalAmt:0,Totalweight:0,UnitPrice:0,UnitPricew:0,PnoNm:D.user.username.trim(),DeptCDNm:D.user.deptnm,CurrCdNm:"KOR",Taxno:""})},pt=()=>{o.Grid.fContainerInit(o.Common.fMakeId("Grid1")),te=new u.exports.LocalDataProvider(!1),Y=new u.exports.GridView(Ne.current),o.Grid.fInitGridHeader(Y,te,ua,na,30,ft,yt,ht),Y.setRowIndicator({visible:!1}),Y.onCellDblClicked=function(){document.getElementById(o.Common.fMakeId("Gendate")).focus()},Y.setRowStyleCallback((e,t)=>{if(e.getValue(t.index,"ApprDocProg")==="\uBC18\uB824")return"rg-column-color-1";if(e.getValue(t.index,"ApprDocProg")==="\uC644\uACB0")return"rg-column-color-3";if(e.getValue(t.index,"ApprDocProg")==="\uC9C4\uD589\uC911")return"rg-column-color-2"})},ft=(e,t,r)=>{r>=0&&Xe(e,r)},yt=(e,t)=>{Be.current===t.dataRow&&t.dataRow>=0&&Xe(e,t.dataRow)},Xe=(e,t)=>{y.fSetBinding(!0),f.commit(),g("H");const r=te.getJsonRow(t);A(r),y.fSetBinding(!1),xe.current===r.DocNo&&(pe.current=!pe.current),L.current=r.DelvNo,x.current=r.Vatcd,le.current=r.ExportYn,k.current=r.CustCd,xe.current=r.DocNo,ne.current=r.Taxno.substr(0,3)+"-"+r.Taxno.substr(3,2)+"-"+r.Taxno.substr(5,5),J.current=r.DocStatus,ie.current=r.DelvDate,Ie.current=r.Gendate,(r.CustCdNm!==null||r.CustCdNm!=="")&&o.Common.fFieldChange(A,"Taxno",ne.current),ze(),setTimeout(()=>{Be.current=t},100)},ht=async(e,t)=>{switch(t.key){case(t.shiftKey&&"Tab"):document.getElementById(o.Common.fMakeId("SchText")).focus();break;case"Tab":setTimeout(()=>{document.getElementById(o.Common.fMakeId("radioBox")).focus()},0);break}},Tt=()=>{o.Grid.fContainerInit(o.Common.fMakeId("Grid2")),l=new u.exports.LocalDataProvider(!1),f=new u.exports.GridView(Re.current),o.Grid.fInitGridDetail(f,l,la,ia,Oe,Dt,Et),f.setRowIndicator({visible:!1}),f.setFooters({visible:!0}),f.onCellClicked=function(e,t){t.dataRow>=0&&g("D")},f.onValidateColumn=(e,t,r,m)=>{const s={};return st.includes(t.fieldName)&&m==null&&(s.level="warning",s.message="\uD544\uC218 \uC785\uB825 \uAC12\uC785\uB2C8\uB2E4."),s},l.onRowInserted=(e,t)=>{o.Grid.fSetMultiDataProvider(e,t,{No:Jt(parseInt(o.Grid.fMaxSeq(e,"No"))+1).format("000"),Accunit:D.user.accunit,Factory:D.user.factory})},f.getDataSource().addRow([])},Oe=async(e,t)=>{e.commit(),g("D");let r=e.getValue(e.getCurrent().itemIndex,t.fieldName);r===null&&(r="");let m={};t.fieldName==="Priceunitnm"?m=await o.Grid.gridCodeClass(e.getCurrent(),ee.helperPriceUnit,S,r,!0):t.fieldName==="jukyonm"?m=await o.Grid.gridCodeClass(e.getCurrent(),ee.helperJukyoNm,S,r,!0):t.fieldName==="WhCdNm"?m=await o.Grid.gridCodeClass(e.getCurrent(),ee.helperWhNm,S,r,!0):t.fieldName==="CarNoNm"?m=await o.Grid.gridCodeClass(e.getCurrent(),ee.helperCarno,S,r,!0):t.fieldName;let s=0;m.datas[0].map(d=>{s+=Number(d.Size)}),Ce.current=s<470?470:s+500,ye(m)},Dt=async e=>{e.commit(),g("D");const{column:t,dataRow:r}=e.getCurrent(),m=e.getValue(r,t);if(m===null||m==="")t==="GoodCdNm"||t==="GoodNo"?o.Grid.fSetDataProvider(l,r,["GoodNo","GoodCdNm","Spec","GoodCD","Whcd","WhCdNm","jukyonm","jukyocd","UnitCD","UnitCdNm","Boxunit","BoxUnitNm","StockYn","Priceunit","Priceunitnm","goodtype","KgPerM","Unitweight"],void 0):t==="jukyocd"&&o.Grid.fSetDataProvider(l,r,["jukyocd","Jukyonm"],void 0);else{const s=e.getValue(r,"Priceunit");let d;Fe.includes(x.current)?d=.1:d=0;const j=e.getValue(r,"UnitCD");if(t==="Qty"){const X=e.getValue(r,"Price"),q=e.getValue(r,"Qty");l.setValue(r,"Weight",q),l.setValue(r,"Delvqty",q),q&&j.trim()==="064047"&&qe(r,q,"M"),X&&(G(r),w())}else if(t==="Su"){const X=e.getValue(r,"Su"),q=e.getValue(r,"Price");X&&j.trim()==="064047"&&qe(r,X,"Kg"),X&&j.trim()!=="064047"&&l.setValue(r,"Su",0),s==="220001"?q&&(G(r),w()):s==="220002"&&(l.setValue(r,"Delvqty",X),q&&(G(r),w()))}else if(t==="Price")G(r),w();else if(t==="Amount"){const X=l.getValue(r,"Amount");l.setValue(r,"Tax",Math.round(X*d));const q=l.getValue(r,"Tax");l.setValue(r,"OkAmt",X+q),w()}else t==="OkAmt"?w():t==="Tax"&&(l.setValue(r,"OkAmt",l.getValue(r,"Tax")+l.getValue(r,"Amount")),w())}e.validateCells()},Et=async(e,t)=>{const r="Remark",m=e.getDataSource().getRowCount(),{fieldName:s}=e.getCurrent(),{itemIndex:d}=e.getCurrent(),j=l.getJsonRows(),X=j.length-1;switch(t.key){case"Enter":if(b({visible:!1,desc:""}),e.commit(!0),s===r)o.Grid.fEnterLastField(e,d,m,ke()===0);else if(e.getDataSource().getValue(d,s)&&ct.includes(s)){e.setCurrent({itemIndex:d,fieldName:s});const Ee=e.getValue(d,s);let _={};if(Ee!==""){if(s==="GoodNo"){const z=o.CodeHelper.fRedefHelper(o.CodeHelper.helperProtypeNm,{iInId:"AD11",iInCode1:"001",iInCode2:D.user.factory,iInCode3:o.Common.fTrim(e.getValue(e.getCurrent().itemIndex,"GoodNo"))});if(_=await o.Grid.gridCodeClass(e.getCurrent(),z,S,Ee,!1),!_.visible){const R=_.res;o.Grid.fSetMultiDataProvider(l,d,{GoodNo:R.goodno,GoodCdNm:R.goodnm,Spec:R.spec,GoodCD:R.goodcd,Whcd:R.wrhcd,WhCdNm:R.wrhnm,jukyonm:R.jukyonm_c,jukyocd:R.jukyocd_c,UnitCD:R.inunit,UnitCdNm:R.inunitnm,Boxunit:R.boxunit,BoxUnitNm:R.boxunitnm,StockYn:R.stockyn,Priceunit:R.priceunit,goodtype:R.goodtype,KgPerM:R.kgperm}),F.current=R.goodcd,W.current=R.jukyocd_c;const Ot=f.getValue(d,"BalNo");k.current!==""&&F.current!==""&&(Ot||(await De(d),setTimeout(()=>{G(d),w()},100)))}}else if(s==="jukyonm"||s==="jukyocd"){if(_=await o.Grid.gridCodeClass(e.getCurrent(),ee.helperJukyoNm,S,Ee,!1),!_.visible){const z=_.res;o.Grid.fSetMultiDataProvider(l,d,{jukyocd:z.jukyocd,Jukyonm:z.jukyonm}),W.current=z.jukyocd,k.current!==""&&F.current!==""&&(f.getValue(d,"BalNo")||(await De(d),setTimeout(()=>{G(d),w()},100)))}}else if(s==="WhCdNm"){if(_=await o.Grid.gridCodeClass(e.getCurrent(),ee.helperWhNm,S,Ee,!1),!_.visible){const z=_.res;o.Grid.fSetMultiDataProvider(l,d,{Whcd:z.wrhcd,WhCdNm:z.wrhnm})}}else s==="CarNoNm"&&(_=await o.Grid.gridCodeClass(e.getCurrent(),ee.helperCarno,S,Ee,!1),_.visible||o.Grid.fSetDataProvider(l,d,["CarNo","CarNoNm"],_.res));let Ye=0;_.datas[0].map(z=>{Ye+=Number(z.Size)}),Ce.current=Ye<470?470:Ye+80,ye(_),f.validateCells()}}e.setFocus();break;case"Escape":o.Grid.fEscape(e,d,m,"No"),w();break;case"Insert":o.Grid.fKeyInsert(e,d,ke()===0,"No");break;case"ArrowDown":o.Grid.fArrowDown(e,d,m,ke()===0,"No");break;case"ArrowUp":j[X].GoodCD||j[X].jukyocd||o.Grid.fArrowUp(e,d,m,ke(d)>0);break;case"Tab":document.getElementById(o.Common.fMakeId("Factorynm")).focus();break;case(t.ctrlKey&&" "):Oe(e,{fieldName:s});break}},ke=e=>{const t=l.getAllStateRows().created;if(t.length>0){let r=0;return t.map(m=>{if(e===void 0||m>=e){const s=f.getValues(m);(!s.GoodCD||s.GoodCD===void 0||!s.Qty||s.Qty===void 0||!s.jukyocd||s.jukyocd===void 0)&&(r+=1)}}),r}return 0},Ke=()=>{l.clearRows(),Y.clearCurrent(),f.clearCurrent(),o.Grid.fNewRow(l,{No:"001"})},gt=()=>{Te({visible:!1,desc:"",id:""})},me=(e,t,r,m)=>{if(y.fGetBinding())return;let s;const d=m.Data.taxno;switch(e){case"schCrePnoNm":o.Common.fMultiFieldChange(M,{SchPno:t,SchPnoNm:r});break;case"schCustNm":o.Common.fMultiFieldChange(M,{SchCustCd:m.Data.custoutcd,SchCustCdNm:m.Data.custnm});break;case"CustCdNm":o.Common.fMultiFieldChange(A,{CustCd:t,CustCdNm:r}),t&&(k.current=t,vt()),d&&(s=d.substr(0,3)+"-"+d.substr(3,2)+"-"+d.substr(5,5),o.Common.fFieldChange(A,"Taxno",s));break;case"DeptCDNm":o.Common.fMultiFieldChange(A,{DeptCD:t,DeptCDNm:r});break;case"PnoNm":o.Common.fMultiFieldChange(A,{Pno:t,PnoNm:r});break;case"CurrCdNm":o.Common.fMultiFieldChange(A,{CurrCd:t,CurrCdNm:r});break;case"VatNm":o.Common.fMultiFieldChange(A,{Vatcd:t,VatNm:r}),t&&(x.current=t,Vt(),w());break}},Nt=async()=>{if(T==="D"){f.commit();const e=$.selectedData,t=y.Codeclass.selData;e.column==="GoodCdNm"||e.column==="GoodNo"?(o.Grid.fSetMultiDataProvider(l,e.dataRow,{GoodNo:t.goodno,GoodCdNm:t.goodnm,Spec:t.spec,GoodCD:t.goodcd,Whcd:t.wrhcd,WhCdNm:t.wrhnm,jukyonm:t.jukyonm_c,jukyocd:t.jukyocd_c,UnitCD:t.inunit,UnitCdNm:t.inunitnm,Boxunit:t.boxunit,BoxUnitNm:t.boxunitnm,StockYn:t.stockyn,Unitweight:t.Weight,StockQty:t.Stockqty,Priceunit:t.priceunit,Priceunitnm:t.priceunitnm,goodtype:t.goodtype,KgPerM:t.kgperm}),F.current=t.goodcd,k.current!==""&&F.current!==""&&(await De(e.dataRow),G(e.dataRow),w())):e.column==="jukyonm"?(o.Grid.fSetMultiDataProvider(l,e.dataRow,{jukyocd:t.jukyocd,jukyonm:t.jukyonm}),W.current=f.getValue(e.dataRow,"jukyocd"),k.current!==""&&F.current!==""&&(await De(e.dataRow),setTimeout(()=>{G(e.dataRow),w()},100))):e.column==="WhCdNm"?o.Grid.fSetMultiDataProvider(l,e.dataRow,{Whcd:t.wrhcd,WhCdNm:t.wrhnm}):e.column==="CarNoNm"&&o.Grid.fSetMultiDataProvider(l,e.dataRow,{CarNo:t.minorcd,CarNoNm:t.minornm}),f.commit(),f.validateCells(),ye({visible:!1,desc:"",value:"",datas:{},selectedData:{},id:"",viewId:""}),f.setFocus()}},xt=e=>{if(T==="D"){const t=f.getCurrent().itemIndex;mt.includes(e.target)&&ye({visible:!1,desc:"",value:"",datas:{},selectedData:{},id:"",viewId:""}),f.setCurrent({itemIndex:t,fieldName:f.getCurrent().fieldName}),f.setFocus(),g("D")}ye({visible:!1})},Bt=()=>{if(T==="D"){f.commit();const e=Ve.selectedData;if(e.column==="GoodCdNm"){try{y.Parameter.map((t,r)=>{f.getDataSource().getRowCount()<=r+e.dataRow&&f.getDataSource().addRow([]),o.Grid.fSetMultiDataProvider(l,e.dataRow+r,{GoodCdNm:y.Parameter[r].Goodnm,GoodNo:y.Parameter[r].Goodno,Spec:y.Parameter[r].Spec,GoodCD:y.Parameter[r].Goodcd,Whcd:y.Parameter[r].Wrhcd,WhCdNm:y.Parameter[r].Wrhnm,jukyonm:y.Parameter[r].Jukyonm,jukyocd:y.Parameter[r].Jukyocd,UnitCD:y.Parameter[r].Unitcd,UnitCdNm:y.Parameter[r].Unitnm,Boxunit:y.Parameter[r].Boxunit,BoxUnitNm:y.Parameter[r].Boxunitnm,StockYn:y.Parameter[r].Storkyn,Priceunit:y.Parameter[r].Priceunit,Priceunitnm:y.Parameter[r].Priceunitnm,Unitweight:y.Parameter[r].Weight,StockQty:y.Parameter[r].Stockqty,goodtype:y.Parameter[r].GoodType,KgPerM:y.Parameter[r].KgPerM}),F.current=y.Parameter[r].Goodcd,W.current=y.Parameter[r].Jukyocd})}catch{b({visible:!0,desc:"\uD488\uBAA9\uC744 \uC120\uD0DD\uD574\uC8FC\uC138\uC694.",type:"E"});return}F.current!==""&&W.current!==""&&setTimeout(()=>{De(e.dataRow),G(e.dataRow),w()},100)}f.commit(),f.validateCells(),We({visible:!1,selectedData:{},id:"",viewId:""}),f.setFocus(),y.fSetParameter("")}},St=()=>{We({visible:!1,selectedData:{},id:"",viewId:"",value:""}),y.fSetParameter("")},At=e=>(e.forEach(t=>{o.Common.fEmptyReturn(t.Guid)&&(t.Guid=t.Guid.substr(0,15))}),e),Vt=()=>{if(Fe.includes(x.current)){const e=l.getJsonRows();e.forEach((t,r)=>{const m=l.getValue(r,"Amount");o.Grid.fSetMultiDataProvider(l,r,{Tax:m*.1,OkAmt:m*1.1})}),e.map(function(t){t.Tax=t.Amount*.1,t.OkAmt=t.Amount*1.1})}else{const e=l.getJsonRows();e.forEach((t,r)=>{const m=l.getValue(r,"Amount");o.Grid.fSetMultiDataProvider(l,r,{Tax:"0",OkAmt:m})});for(const t of e)t.Tax=0,t.OkAmt=t.Amount}},G=e=>{if(e<-1)return;const t=l.getValue(e,"Price"),r=l.getValue(e,"Delvqty");(o.Common.fEmptyReturn(t)||o.Common.fEmptyReturn(t)===0)&&l.setValue(e,"Amount",Math.round(t*r));const m=l.getValue(e,"Amount");let s=0;Fe.includes(x.current)&&(s=Math.round(m*.1)),l.setValue(e,"Tax",s),l.setValue(e,"OkAmt",m+s)};function w(){let e=0,t=0,r=0,m=0;l.getJsonRows().map(function(d){!isNaN(d.Amount)&&!isNaN(d.Tax)&&!isNaN(d.OkAmt)&&(e+=d.Amount,t+=d.Tax,r+=d.OkAmt,m+=d.Qty)}),o.Common.fMultiFieldChange(A,{TotalPrice:e,TotalVat:t,TotalAmount:r,TotalAmt:r,Qty:Math.round(m*100)/100})}const kt=e=>{J.current=e,ce().then(()=>{Ge("N","checked");const t=te.searchData({fields:["DelvNo"],value:L.current,partialMatch:!0});t!=null&&Y.setCurrent({dataRow:t.dataRow,column:0})})},wt=e=>{let t=l.getJsonRows();t[0].GoodCD!==void 0&&t.forEach((r,m)=>{e===!0?l.setValue(m,"StockYn","Y"):l.setValue(m,"StockYn","N")})},Rt=async()=>{if(k.current===void 0||k.current===""||k.current===null){ae({visible:!0,desc:"\uAC70\uB798\uCC98\uB97C \uBA3C\uC800 \uC120\uD0DD\uD558\uC138\uC694",type:"W"});return}o.Common.fFieldChange(Ue,"visible",!0)},It=()=>{Ue({visible:!1}),f.setFocus()},bt=e=>{if(e.selected.length>0){const t=l.getAllStateRows().created;t.length<1?e.selected.forEach(r=>{let s=l.getJsonRows().length;f.getDataSource().addRow([]),je(r,s)}):(l.removeRows(t),e.selected.forEach(r=>{f.getDataSource().addRow({});let s=l.getJsonRows().length-1;je(r,s)}))}},je=(e,t)=>{(e.BalSerl||e.BalSerl==="")&&l.setValue(t,"BalSerl",o.Common.fTrim(e.BalSerl)),(e.BalNo||e.BalNo==="")&&l.setValue(t,"BalNo",o.Common.fTrim(e.BalNo)),(e.BoxUnit||e.BoxUnit==="")&&l.setValue(t,"BoxUnit",o.Common.fTrim(e.BoxUnit)),(e.GoodCd||e.GoodCd==="")&&l.setValue(t,"GoodCD",o.Common.fTrim(e.GoodCd)),(e.GoodNm||e.GoodNm==="")&&l.setValue(t,"GoodCdNm",o.Common.fTrim(e.GoodNm)),(e.GoodNo||e.GoodNo==="")&&l.setValue(t,"GoodNo",o.Common.fTrim(e.GoodNo)),(e.jukyocd_c||e.jukyocd_c==="")&&l.setValue(t,"jukyocd",o.Common.fTrim(e.jukyocd_c)),(e.jukyonm_c||e.jukyonm_c==="")&&l.setValue(t,"jukyonm",o.Common.fTrim(e.jukyonm_c)),(e.Price||e.Price==="")&&l.setValue(t,"Price",o.Common.fTrim(e.Price)),(e.priceunit||e.priceunit==="")&&l.setValue(t,"Priceunit",o.Common.fTrim(e.priceunit)),(e.IpQty||e.IpQty==="")&&o.Grid.fSetMultiDataProvider(l,t,{Qty:e.IpQty,Delvqty:e.IpQty,Weight:e.IpQty}),(e.Spec||e.Spec==="")&&l.setValue(t,"Spec",o.Common.fTrim(e.Spec)),(e.MiSu||e.MiSu==="")&&l.setValue(t,"Su",o.Common.fTrim(e.MiSu)),(e.UnitCd||e.UnitCd==="")&&l.setValue(t,"UnitCD",o.Common.fTrim(e.UnitCd)),(e.WhCdNm||e.WhCdNm==="")&&l.setValue(t,"WhCdNm",o.Common.fTrim(e.WhCdNm)),(e.WrhCd||e.WrhCd==="")&&l.setValue(t,"Whcd",o.Common.fTrim(e.WrhCd)),G(t),w()},De=async e=>{if(!(k.current===""||F.current===""||W.current===""))try{const r=(await re.get("/@api/purchase/purchaseStorage/searchPrice",{params:{SchAccunit:D.user.accunit,SchCustcd:k.current,SchGoodcd:F.current,SchJukyocd:W.current}})).data;o.Grid.fSetMultiDataProvider(l,e,{Price:r.Price})}catch{b({visible:!0,desc:"\uB2E8\uAC00 \uC870\uD68C\uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4.",type:"E"})}},qe=async(e,t,r)=>{const m=l.getValue(e,"GoodCD");if(m!=="")try{const s=await re.get("/@api/purchase/purchaseStorage/searchConvertValue",{params:{SchGoodcd:m,SchConvertUnit:r,SchConvertValue:t}});if(!s.data)return;r==="M"&&s.data.returnValue!==0&&(l.getValue(e,"UnitCD").trim()==="064047"?(l.setValue(e,"Su",s.data.returnValue),G(e),w()):(l.setValue(e,"Su",0),G(e),w())),r==="Kg"&&s.data.returnValue!==0&&(l.setValue(e,"Qty",s.data.returnValue),l.setValue(e,"Delvqty",s.data.returnValue),l.setValue(e,"Weight",s.data.returnValue),G(e),w()),f.validateCells()}catch{b({visible:!0,desc:"\uB2E8\uC704 \uD658\uC0B0 \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4.",type:"E"})}},vt=async()=>{if(k.current===void 0||k.current===""){b({visible:!0,desc:"\uAC70\uB798\uCC98\uB97C \uBA3C\uC800 \uC120\uD0DD\uD558\uC138\uC694",type:"W"});return}f.commit();const e=l.getJsonRows();if(e[0].GoodCD===""||e[0].GoodCD===void 0)return;const t=[];e.forEach(m=>{const s=[];s.push(m.jukyocd),s.push(m.GoodCD),t.push(s)});let r={arr:t};try{const m=await re.get("/@api/purchase/purchaseStorage/updatePrices",{params:{items:r,SchAccunit:D.user.accunit,SchCustcd:k.current}});if(!m.data)return;m.data.forEach((s,d)=>{l.setValue(d,"Price",s.price),G(d)}),w()}catch(m){b({visible:!0,desc:m.response})}},Ge=(e,t)=>{y.fGetBinding()||t&&M({...N,SchWriting:e})},Pt=e=>{const t=N.SchWriting;e.shiftKey&&e.key===9?(e.preventDefault(),Y.setFocus()):e.key==="ArrowRight"?(t==="Y"&&M({...N,SchWriting:"N"}),t==="N"&&M({...N,SchWriting:"Y"})):e.key==="ArrowLeft"?(t==="N"&&M({...N,SchWriting:"Y"}),t==="Y"&&M({...N,SchWriting:"N"})):e.key==="Tab"&&(e.preventDefault(),document.getElementById(o.Common.fMakeId("SchFrDate")).focus())},we=(e,t)=>{t==="fr"?o.Common.fFieldChange(M,"SchFrDate",e):o.Common.fFieldChange(M,"SchToDate",e)},Ft=async()=>{Te({visible:!1,desc:"",id:""}),he.id==="SAVE"?Mt():he.id==="DELETE"?Gt():he.id==="DELETE_ITEM"&&_t()},ze=async()=>{l.clearRows();try{const t=(await re.get("/@api/purchase/purchaseStorage/selectByDetailList",{params:{SchDelvNo:L.current,SchAccunit:D.user.accunit,SchFactory:D.user.factory,UserId:D.user.userid,SchExportYn:le.current}})).data;t.dList.forEach(r=>{for(const[m,s]of Object.entries(r))typeof r[m]=="string"&&(r[m]=s.trim())}),t.dList===void 0||t.dList.length<1?o.Grid.fNewRow(l,{No:"001"}):l.setRows(t.dList),f.clearCurrent()}catch{b({visible:!0,desc:"\uC0C1\uC138\uB0B4\uC5ED \uC870\uD68C\uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4.",type:"E"})}},Mt=async()=>{const e={...c};e.DelvDate=E(c.DelvDate).format("YYYYMMDD"),e.Billdate=E(c.Billdate).format("YYYYMMDD"),e.Gendate=E(c.Gendate).format("YYYYMMDD"),e.TaxDate=E(c.TaxDate).format("YYYYMMDD"),e.UserId=D.user.userid,e.Currdate===null||e.Currdate==="Invalid Date"||e.Currdate==="Invalid date"||e.Currdate===""?e.Currdate="":e.Currdate=E(c.Currdate).format("YYYYMMDD"),e.Accunit=D.user.accunit,e.Factory=D.user.factory;let t=[];const r=o.Grid.fCheckGridData(l,t,dt,"\uAD6C\uB9E4\uC785\uACE0 \uC0C1\uC138");if(t=At(t),r===void 0)try{const s=(await re.post("/@api/purchase/purchaseStorage/updateByList",{header:e,detail:t})).data;if(s.errmess!==""){b({visible:!0,desc:s.errmess,type:"E"});return}const d=s.DelvNo?s.DelvNo.trim():c.DelvNo.trim();ae({visible:!0,desc:"\uBB38\uC11C \uC800\uC7A5\uC774 \uC644\uB8CC\uB418\uC5C8\uC2B5\uB2C8\uB2E4.",type:"W"}),ce().then(()=>{const j=te.searchData({fields:["DelvNo"],value:d,partialMatch:!0});j!=null&&Y.setCurrent({dataRow:j.dataRow,column:0})})}catch(m){b({visible:!0,desc:`\uC800\uC7A5 \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4.${m}`})}},Gt=async()=>{const e={...c};e.Accunit=D.user.accunit,e.Factory=D.user.factory,e.DelvDate=E(c.DelvDate).format("YYYYMMDD");try{const r=(await re.post("/@api/purchase/purchaseStorage/deleteByList",{data:e})).data;if(r.errmess!==""){b({visible:!0,desc:r.errmess,type:"E"});return}else await o.Command.fDeleteFiles("delv",r.List),ae({visible:!0,desc:o.Common.fEmptyReturn(L.current)+"\uAC00 \uC0AD\uC81C\uB418\uC5C8\uC2B5\uB2C8\uB2E4.",type:"W"})}catch{b({visible:!0,desc:o.Common.fEmptyReturn("\uAD6C\uB9E4\uC785\uACE0 \uBB38\uC11C")+" \uC0AD\uC81C \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4.",type:"E"})}setTimeout(()=>{_e(),ce()},100)},_t=async()=>{const e={...c};e.Accunit=D.user.accunit,e.Factory=D.user.factory,e.DelvDate=E(c.DelvDate).format("YYYYMMDD"),await o.Command.fDeleteCheckItem(f,l,"/@api/purchase/purchaseStorage/deleteByItem",e,"\uAD6C\uB9E4\uC785\uACE0 \uC0C1\uC138\uB0B4\uC5ED"),ce().then(()=>{const t=te.searchData({fields:["DelvNo"],value:L.current,partialMatch:!0});t!=null&&Y.setCurrent({dataRow:t.dataRow,column:0})}),setTimeout(async()=>{await ze()},100)},Yt=()=>{o.Common.fValidate(o.Common.fEmptyReturn(L.current)==="",`\uAD6C\uB9E4\uC785\uACE0\uBC88\uD638\uAC00 \uC120\uD0DD\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4. 
\uD655\uC778\uD574 \uC8FC\uC2ED\uC2DC\uC624.`)||V(!0)},Lt=()=>{V(!1)},_e=async()=>{Me(),Ke(),J.current="\uACB0\uC7AC \xB7 \uBBF8\uC0C1\uC2E0",L.current="",x.current="103011",le.current="",ne.current="",k.current="",F.current="",W.current="",B.current="",K.current="",U.current=new Date,setTimeout(()=>{document.getElementById(o.Common.fMakeId("DelvDate")).focus()},100)},ce=async()=>{if(Me(),Ke(),f.commit(),o.Common.fValidate(!E(N.SchFrDate,"YYYY-MM-DD").isValid()||!E(N.SchToDate,"YYYY-MM-DD").isValid(),"\uC870\uD68C\uAE30\uAC04\uC744 \uBC14\uB974\uAC8C \uC785\uB825\uD574 \uC8FC\uC138\uC694.")||o.Common.fValidate(E(N.SchFrDate).format("YYYYMMDD")>E(N.SchToDate).format("YYYYMMDD"),"\uC870\uD68C\uAE30\uAC04\uC744 \uD655\uC778\uD574 \uC8FC\uC138\uC694."))return;const e={...N};if(U.current!=""&&U.current!=null){const t=E(U.current).format("YYYY-MM-DD"),r=E(N.SchFrDate).format("YYYY-MM-DD"),m=E(N.SchToDate).format("YYYY-MM-DD");t<r?(e.SchFrDate=E(t).format("YYYYMMDD"),we(U.current,"fr")):t>m&&(e.SchToDate=E(t).format("YYYYMMDD"),we(U.current,"to"))}e.SchFrDate=E(e.SchFrDate).format("YYYYMMDD"),e.SchToDate=E(e.SchToDate).format("YYYYMMDD"),e.SchWriting=J.current==="\uACB0\uC7AC \xB7 \uC9C4\uD589\uC911"?"N":N.SchWriting,e.SchAccunit=D.user.accunit,e.SchFactory=D.user.factory,await o.Command.fSearch(te,"/@api/purchase/purchaseStorage/selectByList",e,"\uAD6C\uB9E4\uC785\uACE0 \uBAA9\uB85D"),document.getElementById(o.Common.fMakeId("SchText")).focus(),U.current=""},Qe=()=>{const e=l.getJsonRows();let t=0,r=0,m=0;if(e.forEach(d=>{t+=d.Qty,r+=d.Amount,m+=d.Tax}),Math.round(t*100)/100!==c.Qty||r!==c.TotalPrice||m!==c.TotalVat){b({visible:!0,desc:"\uD5E4\uB354\uC790\uB8CC\uC640 \uC544\uC774\uD15C\uC758 \uD569\uACC4 \uC790\uB8CC\uAC00 \uC77C\uCE58\uD558\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4."});return}o.Common.fValidate(!c.Vatcd,"\uACC4\uC0B0\uC11C\uAD6C\uBD84\uC774 \uC81C\uB300\uB85C \uC785\uB825\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4")||o.Common.fValidate(!c.CustCd,"\uAC70\uB798\uCC98\uBA85\uC774 \uC81C\uB300\uB85C \uC785\uB825\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4")||o.Common.fValidate(!c.DeptCD,"\uBD80\uC11C\uBA85\uC774 \uC81C\uB300\uB85C \uC785\uB825\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4")||o.Common.fValidate(!c.Pno,"\uC0AC\uC6D0\uBA85\uC774 \uC81C\uB300\uB85C \uC785\uB825\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4")||((U.current===null||U.current==="")&&(U.current=c.DelvDate),f.commit(),Te({visible:!0,desc:"\uC800\uC7A5\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?",id:"SAVE"}))},Je=async()=>{if(!o.Common.fValidate(!c.DelvNo,"\uAD6C\uB9E4\uC785\uACE0 \uBAA9\uB85D\uC774 \uC120\uD0DD\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.")){if(f.commit(!0),T==="H")Te({visible:!0,desc:`\uC8FC\uC758) ${L.current} \uAD6C\uB9E4\uC785\uACE0 \uBB38\uC11C\uB97C \uC0AD\uC81C \uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?`,id:"DELETE"});else if(T==="D"){if(o.Common.fValidate(f.getCheckedItems(!0).length<1,"\uC0AD\uC81C\uD560 \uC785\uACE0\uB0B4\uC5ED\uC744 \uC120\uD0DD\uD558\uC138\uC694."))return;Te({visible:!0,desc:`${L.current} \uC785\uACE0 \uC0C1\uC138\uB0B4\uC5ED\uC744 \uC0AD\uC81C \uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?`,id:"DELETE_ITEM"})}}},Ut=async()=>{const e={...N};e.SchFrDate=E(e.SchFrDate).format("YYYYMMDD"),e.SchToDate=E(e.SchToDate).format("YYYYMMDD"),e.SchAccunit=D.user.accunit,e.SchFactory=D.user.factory,e.Gubun="D",Z(!1),i("\uC77C\uC77C\uAD6C\uB9E4\uD604\uD669(\uC785\uACE0\uC77C\uC790\uAE30\uC900)");try{const t=await o.Command.fSearchByReturn("/@api/purchase/purchaseStorage/selectByPrint1",e);for(const r of t)r.Amount5.includes("\\")&&(r.Amount5=r.Amount5.replace("\\","\u20A9"));if(!t)ae({visible:!0,desc:"\uCD9C\uB825\uC790\uB8CC \uC870\uD68C \uACB0\uACFC\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.",type:"W"});else{se(!0);const r='{ "DATA" : '+JSON.stringify(t)+" }";Pe.fReport(r,"/\uC77C\uC77C\uAD6C\uB9E4\uD604\uD669(\uC785\uACE0\uC77C).mrd","http://report.ehansun.co.kr/ReportingServer","http://hseerp.ehansun.co.kr/report")}}catch{b({visible:!0,desc:"\uC790\uB8CC \uC870\uD68C\uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4.",type:"W"})}},Wt=async()=>{const e={...N};e.SchFrDate=E(e.SchFrDate).format("YYYYMMDD"),e.SchToDate=E(e.SchToDate).format("YYYYMMDD"),e.SchAccunit=D.user.accunit,e.SchFactory=D.user.factory,e.Gubun="G",Z(!1),i("\uC77C\uC77C\uAD6C\uB9E4\uD604\uD669(\uC791\uC131\uC77C\uC790\uAE30\uC900)");try{const t=await o.Command.fSearchByReturn("/@api/purchase/purchaseStorage/selectByPrint2",e);for(const r of t)r.Amount5.includes("\\")&&(r.Amount5=r.Amount5.replace("\\","\u20A9"));if(!t)ae({visible:!0,desc:"\uCD9C\uB825\uC790\uB8CC \uC870\uD68C \uACB0\uACFC\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.",type:"W"});else{se(!0);const r='{ "DATA" : '+JSON.stringify(t)+" }";Pe.fReport(r,"/\uC77C\uC77C\uAD6C\uB9E4\uD604\uD669(\uC791\uC131\uC77C).mrd","http://report.ehansun.co.kr/ReportingServer","http://hseerp.ehansun.co.kr/report")}}catch{b({visible:!0,desc:"\uC790\uB8CC \uC870\uD68C\uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4.",type:"W"})}},Xt=async()=>{const e={...N};e.SchFrDate=E(e.SchFrDate).format("YYYYMMDD"),e.SchToDate=E(e.SchToDate).format("YYYYMMDD"),e.SchAccunit=D.user.accunit,e.SchFactory=D.user.factory,Z(!1),i("\uAD6C\uB9E4\uD604\uD669");try{const t=await o.Command.fSearchByReturn("/@api/purchase/purchaseStorage/selectByPrint3",e);if(!t)ae({visible:!0,desc:"\uCD9C\uB825\uC790\uB8CC \uC870\uD68C \uACB0\uACFC\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.",type:"W"});else{se(!0);const r='{ "data" : '+JSON.stringify(t)+" }";Pe.fReport(r,"/\uAD6C\uB9E4\uD604\uD669.mrd","http://report.ehansun.co.kr/ReportingServer","http://hseerp.ehansun.co.kr/report")}}catch{b({visible:!0,desc:"\uC790\uB8CC \uC870\uD68C\uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD558\uC600\uC2B5\uB2C8\uB2E4.",type:"W"})}},He=()=>{Z(!0)};return C.exports.useEffect(()=>{o.Common.fHotKey(y,y.isPopup,_e,ce,Qe,Je,He)},[y.HotKey]),C.exports.useEffect(()=>(Ct(),pt(),Tt(),()=>{y.fSetHotKey()}),[]),a.createElement(a.Fragment,null,a.createElement(Zt,{pgmid:S,onNew:_e,onSearch:ce,onSave:Qe,onDelete:Je,onPrint:He,onAttachment:Yt}),a.createElement($e,{className:"mainCon"},a.createElement(h.exports.Layout,{style:{width:"100%",height:"100%"}},a.createElement(h.exports.LayoutPanel,{region:"west",split:!0,style:{minWidth:350,width:500,maxWidth:905,height:775}},a.createElement($e,null,a.createElement(n,{style:{marginTop:5,marginLeft:5,display:"flex",alignItems:"center"}},a.createElement(n,{className:p.SA1},a.createElement(n,{className:p.SA2},"\uACB0\uC7AC\uC0C1\uD0DC")),a.createElement(n,{id:o.Common.fMakeId("radioBox"),onKeyDown:e=>Pt(e),className:"inputCls",style:{display:"flex",flexDirection:"row",border:"1px solid #9ac9ed",borderRadius:5,height:25,width:235.82,alignItems:"center",marginLeft:6}},a.createElement(n,{style:{marginLeft:5}},a.createElement(h.exports.RadioButton,{style:{width:15,height:15},inputId:o.Common.fMakeId("notcomplated"),value:"Y",groupValue:N.SchWriting,onChange:e=>Ge("Y",e),inputCls:"inputCls"}),a.createElement(h.exports.Label,{htmlFor:o.Common.fMakeId("notcomplated"),style:{marginLeft:5,fontSize:12}},"\uC791\uC131\uC911+\uBC18\uB824")),a.createElement(n,{style:{marginLeft:25}},a.createElement(h.exports.RadioButton,{style:{width:15,height:15},inputId:o.Common.fMakeId("all"),value:"N",groupValue:N.SchWriting,onChange:e=>Ge("N",e),inputCls:"inputCls"}),a.createElement(h.exports.Label,{htmlFor:o.Common.fMakeId("all"),style:{marginLeft:5,fontSize:12}},"\uC804\uCCB4")))),a.createElement(n,{style:{marginTop:2,marginLeft:5,display:"flex",alignItems:"center"}},a.createElement(n,{className:p.SA1},a.createElement(n,{className:p.SA2},"\uAE30\uAC04")),a.createElement(n,{style:{display:"flex",alignItems:"center",marginLeft:7}},a.createElement(n,{onKeyDown:e=>{e.shiftKey&&e.keyCode===9&&(e.preventDefault(),document.getElementById(o.Common.fMakeId("radioBox")).focus())}},a.createElement(ue,{inputCls:"inputCls",selected:N.SchFrDate,inputId:o.Common.fMakeId("SchFrDate"),onHandleDateChange:e=>we(e,"fr")})),a.createElement(n,{style:{margin:"0 3px",width:"10px"}},"~"),a.createElement(ue,{inputCls:"inputCls",selected:N.SchToDate,inputId:o.Common.fMakeId("SchToDate"),onHandleDateChange:e=>we(e,"to")}))),a.createElement(n,{style:{marginTop:2,marginLeft:5,display:"flex",alignItems:"center"}},a.createElement(de,{title:"\uC785\uB825\uC790",inputCls:"inputCls",pgmid:S,inputType:"Pno",id:"schCrePnoNm",helper:o.CodeHelper.helperPnoNm,ComponentCode:N.SchPno,ComponentValue:N.SchPnoNm,SetValue:me,labelStyles:{width:70,height:25,margin:"0px 3px 5px 3px",padding:5,fontSize:12,display:"flex",alignItems:"center",fontWeight:600},inputStyles:{width:235,margin:"0px 0px 5px 7px"}})),a.createElement(n,{style:{marginTop:2,marginLeft:5,display:"flex",alignItems:"center"}},a.createElement(de,{title:"\uAC70\uB798\uCC98\uBA85",inputCls:"inputCls",pgmid:S,inputType:"Cust",id:"schCustNm",helper:o.CodeHelper.helperCust,ComponentCode:N.SchCustCd,ComponentValue:N.SchCustCdNm,SetValue:me,labelStyles:{width:70,height:25,margin:"0px 3px 5px 3px",padding:5,fontSize:12,display:"flex",alignItems:"center",fontWeight:600},inputStyles:{width:235,margin:"0px 0px 5px 7px"}})),a.createElement(n,{style:{marginTop:2,marginLeft:5,display:"flex",alignItems:"center"}},a.createElement(n,{className:p.SA1},a.createElement(n,{className:p.SA2},"\uAC80\uC0C9")),a.createElement(h.exports.ComboBox,{inputCls:"inputCls",inputId:o.Common.fMakeId("SchType"),data:Le,value:N.SchType,editable:!1,onChange:e=>o.Common.fFieldChange(M,"SchType",e),onSelectionChange:e=>o.Common.fGridSort(Y,e.value,{0:"DelvDate",1:"DelvNo",2:"CustCdNm",3:"Truncnm"}),panelStyle:{height:130},className:p.SA4,style:{marginLeft:7}}),a.createElement(n,{onKeyDown:e=>{e.shiftKey&&e.keyCode===9?(e.preventDefault(),document.getElementById(o.Common.fMakeId("SchType")).focus()):e.key==="Tab"&&(e.preventDefault(),setTimeout(()=>{Y.setFocus()},0))}},a.createElement(h.exports.TextBox,{inputCls:"inputCls",inputId:o.Common.fMakeId("SchText"),className:p.SA5,styleheaderRules:{width:135},onChange:e=>{Y.commit(),o.Common.fFieldChange(M,"SchText",e),o.Common.fSearchMatch(Y,te,N.SchType,{0:"DelvDate",1:"DelvNo",2:"CustCdNm",3:"Truncnm"},e)},value:N.SchText}))),a.createElement(n,{ref:Ne,id:o.Common.fMakeId("Grid1"),style:{width:"100%",height:596,marginTop:5}}))),a.createElement(h.exports.LayoutPanel,{region:"center",style:{height:775}},a.createElement(n,{style:{display:"flex"}},a.createElement(h.exports.Form,{style:{maxWidth:"100%"},model:c,rules:H},a.createElement(n,{style:{width:"100%",height:"100%",display:"flex",flexDirection:"row"}},a.createElement(n,{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",paddingBottom:5,paddingRight:15,paddingTop:5}},a.createElement(n,{style:{marginTop:3,display:"flex",alignItems:"center"}},a.createElement(n,{className:p.SC1},"\uACF5\uC7A5\uBA85"),a.createElement(n,{onKeyDown:e=>{e.shiftKey&&e.keyCode===9&&(e.preventDefault(),f.setFocus())}},a.createElement(h.exports.TextBox,{inputId:o.Common.fMakeId("Factorynm"),inputCls:"inputCls",name:"Factorynm",value:D.user.factorynm,editable:!1,className:p.SC3}))),a.createElement(n,{style:{marginTop:3,display:"flex",alignItems:"center"}},a.createElement(n,{className:p.SC1},"\uC785\uACE0\uBC88\uD638"),a.createElement(h.exports.TextBox,{name:"DelvNo",inputCls:"inputCls",inputId:o.Common.fMakeId("DelvNo"),value:c.DelvNo,onChange:e=>o.Common.fFieldChange(A,"DelvNo",e),editable:!1,className:p.SC3})),a.createElement(n,{style:{marginTop:3,display:"flex",alignItems:"center"}},a.createElement(n,{className:p.SC1},a.createElement(n,{className:p.SC2},"\uC785\uACE0\uC77C\uC790"),a.createElement(ge,{style:{color:"#ffa8a8"},size:10})),a.createElement(ue,{inputId:o.Common.fMakeId("DelvDate"),inputCls:"inputCls",selected:c.DelvDate,disabled:!!L.current,onHandleDateChange:e=>{o.Common.fFieldChange(A,"DelvDate",e),U.current=e},style:{width:160},inputRequired:!0})),a.createElement(n,{style:{marginTop:3,display:"flex",alignItems:"center"}},a.createElement(n,{className:p.SC1},a.createElement(n,{className:p.SC2},"\uC791\uC131\uC77C\uC790"),a.createElement(ge,{style:{color:"#ffa8a8"},size:10})),a.createElement(ue,{inputId:o.Common.fMakeId("Gendate"),inputCls:"inputCls",selected:c.Gendate,onHandleDateChange:e=>o.Common.fFieldChange(A,"Gendate",e),style:{width:160},inputRequired:!0})),a.createElement(n,{style:{marginTop:3,display:"flex",alignItems:"center"}},a.createElement(n,{className:p.SC1},a.createElement(n,{className:p.SC2},"\uB0B4\uC678\uC790\uAD6C\uBD84"),a.createElement(ge,{style:{color:"#ffa8a8"},size:10})),a.createElement(h.exports.ComboBox,{inputCls:"inputCls",inputId:o.Common.fMakeId("ExportYn"),data:nt,value:c.ExportYn,onChange:e=>o.Common.fFieldChange(A,"ExportYn",e),panelStyle:{height:100},className:p.SC3,inputRequired:!0})),a.createElement(de,{title:"\uAC70\uB798\uCC98\uBA85",inputCls:"inputCls",pgmid:S,inputType:"Cust",id:"CustCdNm",helper:ee.helperCust,ComponentCode:c.CustCd,ComponentValue:c.CustCdNm,SetValue:me,labelStyles:{width:90,height:25,margin:"3px 10px 5px 10px",padding:5,fontSize:12,display:"flex",alignItems:"center",fontWeight:600},inputStyles:{width:200,margin:"0px 0px 5px 0px"},inputRequired:!0}),a.createElement(n,{style:{marginTop:3,display:"flex",alignItems:"center"}},a.createElement(n,{className:p.SC1},a.createElement(n,{className:p.SC2},"\uC0AC\uC5C5\uC790\uBC88\uD638")),a.createElement(h.exports.TextBox,{name:"Taxno",inputCls:"inputCls",inputId:o.Common.fMakeId("Taxno"),value:c.Taxno,onChange:e=>o.Common.fFieldChange(A,"Taxno",e),editable:!1,className:p.SC3})),a.createElement(n,{onKeyDown:e=>{e.shiftKey&&e.keyCode===9?(e.preventDefault(),document.getElementById(o.Common.fMakeId("Taxno")).focus()):e.keyCode===9&&(e.preventDefault(),setTimeout(()=>{document.getElementById(o.Common.fMakeId("PnoNm")).focus()},1))}},a.createElement(de,{title:"\uBD80\uC11C\uBA85",inputCls:"inputCls",pgmid:S,inputType:"Dept",id:"DeptCDNm",helper:o.CodeHelper.helperDeptNm,ComponentCode:c.DeptCD,ComponentValue:c.DeptCDNm,SetValue:me,labelStyles:{width:90,height:25,margin:"3px 10px 5px 10px",padding:5,fontSize:12,display:"flex",alignItems:"center",fontWeight:600},inputStyles:{width:200,margin:"0px 0px 5px 0px"},inputRequired:!0})),a.createElement(de,{title:"\uC0AC\uC6D0\uBA85",inputCls:"inputCls",pgmid:S,inputType:"Pno",id:"PnoNm",helper:o.CodeHelper.helperPnoNm2,ComponentCode:c.Pno,ComponentValue:c.PnoNm,SetValue:me,labelStyles:{width:90,height:25,margin:"3px 10px 5px 10px",padding:5,fontSize:12,display:"flex",alignItems:"center",fontWeight:600},inputStyles:{width:200,margin:"0px 0px 5px 0px"},inputRequired:!0})),a.createElement(n,{style:{marginTop:3,display:"flex",flexDirection:"column"}},a.createElement(n,{style:{marginTop:3,display:"flex",alignItems:"center"}},a.createElement(n,{className:p.SC1},a.createElement(n,{className:p.SC2},"\uC785\uACE0\uB7C9")),a.createElement(h.exports.NumberBox,{inputId:o.Common.fMakeId("Qty"),name:"Qty",value:c.Qty,groupSeparator:",",precision:2,spinners:!1,className:p.SC3,disabled:!0,inputStyle:{textAlign:"right"}})),a.createElement(n,{style:{marginTop:3,display:"flex",alignItems:"center"}},a.createElement(n,{className:p.SC1},a.createElement(n,{className:p.SC2},"\uACF5\uAE09\uAC00\uC561")),a.createElement(h.exports.NumberBox,{inputId:o.Common.fMakeId("TotalPrice"),name:"TotalPrice",value:c.TotalPrice,groupSeparator:",",spinners:!1,disabled:!0,className:p.SC3,inputStyle:{textAlign:"right"}})),a.createElement(n,{style:{marginTop:3,display:"flex",alignItems:"center"}},a.createElement(n,{className:p.SC1},a.createElement(n,{className:p.SC2},"\uBD80\uAC00\uC138")),a.createElement(h.exports.NumberBox,{inputId:o.Common.fMakeId("TotalVat"),name:"TotalVat",value:c.TotalVat,groupSeparator:",",spinners:!1,className:p.SC3,disabled:!0,inputStyle:{textAlign:"right"}})),a.createElement(n,{style:{marginTop:3,display:"flex",alignItems:"center"}},a.createElement(n,{className:p.SC1},a.createElement(n,{className:p.SC2},"\uC785\uACE0\uCD1D\uC561")),a.createElement(h.exports.NumberBox,{inputId:o.Common.fMakeId("TotalAmount"),name:"TotalAmount",value:c.TotalAmount,groupSeparator:",",spinners:!1,className:p.SC3,disabled:!0,inputStyle:{textAlign:"right"}})),a.createElement(n,{style:{marginTop:3,display:"flex",alignItems:"center"},onKeyDown:e=>{e.shiftKey&&e.keyCode===9?(e.preventDefault(),document.getElementById(o.Common.fMakeId("PnoNm")).focus()):e.keyCode===9&&(e.preventDefault(),document.getElementById(o.Common.fMakeId("VatNm")).focus())}},a.createElement(n,{className:p.SC1},a.createElement(n,{style:{fontSize:10.8}},"\uC138\uAE08\uACC4\uC0B0\uC11C\uC77C\uC790"),a.createElement(ge,{style:{color:"#ffa8a8"},size:10})),a.createElement(ue,{inputCls:"inputCls",selected:c.TaxDate,inputId:o.Common.fMakeId("TaxDate"),onHandleDateChange:e=>o.Common.fFieldChange(A,"TaxDate",e),style:{width:160},inputRequired:!0})),a.createElement(n,{onKeyDown:e=>{e.shiftKey&&e.keyCode===9?(e.preventDefault(),document.getElementById(o.Common.fMakeId("TaxDate")).focus()):e.keyCode===9&&(e.preventDefault(),document.getElementById(o.Common.fMakeId("Sliptyp")).focus())}},a.createElement(de,{inputCls:"inputCls",pgmid:S,inputType:"VatNm",id:"VatNm",title:"\uACC4\uC0B0\uC11C\uAD6C\uBD84",helper:o.CodeHelper.helperExpenseVatNm,ComponentCode:c.Vatcd,ComponentValue:c.VatNm,SetValue:me,labelStyles:{width:90,height:25,margin:"0px 10px 5px 10px",padding:5,fontSize:12,display:"flex",alignItems:"center",fontWeight:600},inputStyles:{width:200,margin:"0px 0px 5px 0px"},inputRequired:!0})),a.createElement(n,{style:{marginTop:3,display:"flex",alignItems:"center"},onKeyDown:e=>{e.shiftKey&&e.keyCode===9?(e.preventDefault(),document.getElementById(o.Common.fMakeId("VatNm")).focus()):e.keyCode===9&&(e.preventDefault(),document.getElementById(o.Common.fMakeId("Remark")).focus())}},a.createElement(n,{className:p.SC1},a.createElement(n,{className:p.SC2},"\uC804\uD45C\uCC98\uB9AC\uAD6C\uBD84"),a.createElement(ge,{style:{color:"#ffa8a8"},size:10})),a.createElement(h.exports.ComboBox,{inputCls:"inputCls",inputId:o.Common.fMakeId("Sliptyp"),data:lt,value:c.Sliptyp,onChange:e=>o.Common.fFieldChange(A,"Sliptyp",e),panelStyle:{height:100},className:p.SC3,inputRequired:!0})),a.createElement(n,{style:{marginTop:3,display:"flex",margin:"center"},onKeyDown:e=>{e.shiftKey&&e.key==="Tab"?setTimeout(()=>{document.getElementById(o.Common.fMakeId("Sliptyp")).focus()},10):e.key==="Tab"&&(e.preventDefault(),O.current.focus())}},a.createElement(n,{className:p.SC1,style:{alignItems:"top"}},a.createElement(n,{className:p.SC2},"\uBE44\uACE0")),a.createElement(h.exports.TextBox,{inputCls:"inputCls",name:"Remark",inputId:o.Common.fMakeId("Remark"),value:c.Remark,style:{width:320,height:68,marginTop:5},multiline:!0,placeholder:"\uCD5C\uB300 50\uC790"})))))),a.createElement(n,{style:{height:40,backgroundColor:"#fff3d3",display:"flex",flexDirection:"row",alignItems:"center"}},a.createElement(n,{style:{paddingLeft:10,display:"flex",alignItems:"center"}},a.createElement(h.exports.CheckBox,{onChange:e=>{wt(e)},className:p.SA3,inputId:o.Common.fMakeId("checkBox")}),a.createElement(h.exports.Label,{htmlFor:o.Common.fMakeId("checkBox"),style:{marginLeft:5,width:"100%",fontSize:12}},"\uC804\uCCB4\uC120\uD0DD(\uC7AC\uACE0)")),a.createElement(n,{style:{marginLeft:20},id:o.Common.fMakeId("balJooButton"),onKeyDown:e=>{e.shiftKey&&e.key==="Tab"?setTimeout(()=>{document.getElementById(o.Common.fMakeId("Remark")).focus()},10):e.key==="Tab"&&setTimeout(()=>{f.setFocus()},10)}},a.createElement(h.exports.LinkButton,{ref:O,style:{width:120,height:34,color:"#424242",borderRadius:3},onClick:Rt},a.createElement(n,{style:{width:120,height:34,display:"flex",alignItems:"center",justifyContent:"center"}},a.createElement(ut,{size:18}),a.createElement(n,{style:{marginLeft:5,fontSize:14,paddingBottom:2,fontWeight:500}},"\uBC1C\uC8FC\uD488\uBC88\uC870\uD68C"))))),a.createElement(n,{onKeyDown:e=>{e.shiftKey&&e.key==="Tab"?(e.preventDefault(),O.current.focus()):e.key==="Tab"&&document.getElementById(o.Common.fMakeId("Factorynm")).focus()}},a.createElement(n,{ref:Re,id:o.Common.fMakeId("Grid2"),style:{width:"100%",height:410}}))),a.createElement(h.exports.LayoutPanel,{region:"east",title:J.current,collapsible:!0,collapsed:!0,expander:!0,style:{width:400}},a.createElement(n,{style:{marginTop:10}},a.createElement(ta,{PGMID:S,ApprovalType:"A",ApprovalDocNo:c.DocNo,ApprovalDocSource:c.DocSource,ApprovalDocFlag:"A",AttachmentsKeyName:"\uAD6C\uB9E4\uC785\uACE0\uBC88\uD638",RetrieveFlag:pe.current,MaxRevNo:0,RevNo:0,SetTitle:kt,isImageComponent:!0,isAttachments:!0,filepath:"delv"}))))),Se&&a.createElement(h.exports.Dialog,{title:a.createElement(n,{style:{display:"flex"}},a.createElement("img",{src:Ze,alt:"logo",style:{width:"50px"}})," ",a.createElement(n,{style:{marginLeft:15}},"\uD504\uB9B0\uD2B8 \uBAA9\uB85D")),style:{width:"400px",height:"180px"},bodyCls:"f-column",closable:!0,modal:!0,onClose:()=>Z(!1)},a.createElement(h.exports.LinkButton,{id:"1",style:{width:360,height:32,color:"#424242",borderRadius:3,marginLeft:12,marginTop:10},onClick:Ut},a.createElement(n,{style:{marginLeft:15}},"\uC77C\uC77C\uAD6C\uB9E4\uD604\uD669(\uC785\uACE0\uC77C\uC790\uAE30\uC900)")),a.createElement(h.exports.LinkButton,{id:"1",style:{width:360,height:32,color:"#424242",borderRadius:3,marginLeft:12,marginTop:10},onClick:Wt},a.createElement(n,{style:{marginLeft:15}},"\uC77C\uC77C\uAD6C\uB9E4\uD604\uD669(\uC791\uC131\uC77C\uC790\uAE30\uC900)")),a.createElement(h.exports.LinkButton,{id:"1",style:{width:360,height:32,color:"#424242",borderRadius:3,marginLeft:12,marginTop:10},onClick:Xt},a.createElement(n,{style:{marginLeft:15}},"\uAD6C\uB9E4\uD604\uD669"))),fe&&a.createElement(h.exports.Dialog,{title:a.createElement(n,{style:{display:"flex"}},a.createElement("img",{src:Ze,alt:"logo",style:{width:"50px"}})," ",a.createElement(n,{style:{marginLeft:15}},Ae)),style:{width:"1870px",height:"900px"},bodyCls:"f-column",closable:!0,draggable:!0,modal:!0,onClose:()=>se(!1)},a.createElement(n,{className:"f-full"},a.createElement("div",{id:"crownix-viewer",style:{position:"absolute",width:"100%",height:"100%"}}))),a.createElement(zt,{visible:$.visible,description:$.desc,value:$.value,datas:$.datas,id:$.id,viewId:$.viewId,selectedData:$.selectedData,width:Ce.current,onConfirm:Nt,onCancel:()=>xt({target:$.id})}),a.createElement(sa,{visible:it.visible,onCancel:()=>It(),custCd:k.current,sendRows:bt}),P&&a.createElement(aa,{PGMID:S,FileTitle:"\uAD6C\uB9E4\uC785\uACE0\uBC88\uD638",FileType:c.DocSource,FileNo:c.DocNo,FilePath:"delv",setClose:Lt}),a.createElement(rt,{visible:be.visible,description:be.desc,type:be.type,onConfirm:()=>b({visible:!1})}),a.createElement(ea,{visible:ve.visible,description:ve.desc,type:ve.type,onConfirm:()=>ae({visible:!1})}),a.createElement(Qt,{visible:he.visible,description:he.desc,onCancel:gt,onConfirm:Ft}),a.createElement(oa,{visible:Ve.visible,selectedData:Ve.selectedData,id:Ve.id,onConfirm:()=>Bt(),onClose:()=>St(),pgmid:S}))});let te,l,Y,f;const Ca=tt(ra);export{Sa as default};
